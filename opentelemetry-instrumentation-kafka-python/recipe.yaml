# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  version: 0.58b0

package:
  name: opentelemetry-instrumentation-kafka-python
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/o/opentelemetry-instrumentation-kafka-python/opentelemetry_instrumentation_kafka_python-${{ version }}.tar.gz
  sha256: ac1c02fb5db1cdb0ecb45383aaefef32ebb4fc848f37d089f17a6e7927a05e2e

build:
  script: ${{ PYTHON }} -m pip install .
  noarch: python

requirements:
  host:
  - python ${{ python_min }}.*
  - hatchling
  - pip
  run:
  - python >=${{ python_min }}
  - opentelemetry-api ~=1.5
  - opentelemetry-instrumentation ==0.58b0
  - opentelemetry-semantic-conventions ==0.58b0
  - kafka-python-ng <3.0,>=2.0
  - kafka-python <3.0,>=2.0
tests:
  - python:
      imports:
      - opentelemetry.instrumentation.kafka
      pip_check: true
      python_version: ${{ python_min }}.*
  - requirements:
      run:
        - python ${{ python_min }}.*

about:
  summary: OpenTelemetry Kafka-Python instrumentation
  license: Apache-2.0
  license_file: LICENSE
  description: |
    OpenTelemetry kafka-python integration
    ======================================

    References
    ----------

    * `OpenTelemetry kafka-python Instrumentation <https://opentelemetry-python-contrib.readthedocs.io/en/latest/instrumentation/kafka_python/kafka_python.html>`_
    * `OpenTelemetry Project <https://opentelemetry.io/>`_
    * `OpenTelemetry Python Examples <https://github.com/open-telemetry/opentelemetry-python/tree/main/docs/examples>`_

extra:
  recipe-maintainers:
    - sumanth-manchala
