{% set name = "pyprosail" %}
{% set version = "1.0" %}
{% set file_ext = "tar.gz" %}
{% set hash_value = "d849442ab3cd1a111687a6e9b7a6e4c15613289a5883ca79caa20ff853c4804e" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  fn: '{{ name }}-{{ version }}.{{ file_ext }}'
  url: https://files.pythonhosted.org/packages/0f/50/af4d9fa99c881de567d22eea65bcd277464681f5ac53c2b393ede0c2f7d8/PyPROSAIL-1.0.1.tar.gz
  sha256: {{ hash_value }}

build:
  number: 0
  script:
    - export LDFLAGS="-undefined dynamic_lookup -bundle"  # [osx]
    - python -m pip install --no-deps --ignore-installed .

requirements:
  build:
    - toolchain
    - mingwpy  # [win and py2k]
    - flang  # [win and py3k]
    - gcc  # [osx]
    - python
    - setuptools
    - libgfortran  # [linux]
    - numpy
  run:
    - python
    - numpy

test:
  imports:
    - pyprosail

about:
  home: http://packages.python.org/PyPROSAIL
  license: GNU LGPL
  license_family: LGPL
  summary: "PyProSAIL is a Python interface to the ProSAIL combined leaf and canopy optical model"
  description: "PyProSAIL is a Python interface to the ProSAIL combined leaf and canopy optical model. \nFor more information see http://pyprosail.readthedocs.org."
  doc_url: 'http://pyprosail.readthedocs.io/en/latest/'
  dev_url: 'https://github.com/robintw/PyProSAIL'

extra:
  recipe-maintainers:
    - 'robintw'
