context:
  version: 1.6.0

package:
  name: solarfactors
  version: ${{ version }}

source:
  - url: https://github.com/pvlib/solarfactors/archive/v{{ version }}.tar.gz
    sha256: 44191ccf45120a8a7457a42e11a0be4503e137c903ab1bb37b56d7d815d3b9be

build:
  script:
    content: ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    env: SETUPTOOLS_SCM_PRETEND_VERSION_FOR_SOLARFACTORS={{ version }}
  noarch: python
  number: 0

requirements:
  host:
    - python >=3.8
    - setuptools>=64
    - setuptools_scm[toml]>=6.2
    - wheel
    - pip
  run:
    - python >=3.8
    - pvlib >=0.9.0
    - shapely >=2.0
    - "matplotlib "
    - "numpy "
    - "pandas "
  # - sphinx  # extra == "doc"
  # - sphinx-rtd-theme  # extra == "doc"
  # - nbsphinx  # extra == "doc"
  # - sphinxcontrib-github-alt  # extra == "doc"
  # - ipykernel  # extra == "doc"
  # - pytest >=3.2.1 # extra == "test"
  # - pytest-mock >=1.10.0 # extra == "test"
  # - mock  # extra == "test"

tests:
  - script:
      - pip check
      - pytest
    requirements:
      - python {{ python_min }}
      - pip
      - pytest >=3.2.1
      - mock >=1.10.0
      - pytest-mock
    files:
      source:
        - test-data.txt

about:
  summary: 2D View Factor Model to calculate the irradiance incident on various surfaces of PV arrays
  license: BSD 3-Clause
  repository: https://github.com/pvlib/solarfactors
  documentation: https://solarfactors.readthedocs.io/

extra:
  recipe-maintainers:
    - julian-belina
