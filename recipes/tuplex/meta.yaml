{% set name = "tuplex" %}
{% set version = "0.3.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 6b289120cff135f53349f9c33d8198a7f2977d5b0fc714644f644db8763800a2

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('cxx') }}
    - antlr4-python3-runtime
    - aws-sdk-cpp
    - boost
    - cmake
    - gflags
    - gtest
    - llvm
    - ninja
    - numpy
    - pcre2
    - yaml-cpp
  host:
    - python >=3.7
    - pip
    - setuptools
    - wheel
  run:
    - astor >=0.7.1
    - attrs >=19.2.0
    - cloudpickle
    - dill >=0.2.7.1
    - jedi >=0.13.2
    - jupyter
    - nbformat
    - numpy
    - six >=1.11.0
    - pluggy >=0.6.0
    - prompt_toolkit >=2.0.7
    - py >=1.5.2
    - pygments >=2.4.1
    - python >=3.7
    - pyyaml >=3.13
    - requests
    - wcwidth >=0.1.7

test:
  imports:
    - tuplex
  commands:
    - pip check
  requires:
    - pip


about:
  home: https://tuplex.cs.brown.edu/
  license: Apache-2.0
  license_file: LICENSE
  summary: A fast parallel big data processing framework that runs data science pipelines
  description: |
    Tuplex is a parallel big data processing framework that runs data science
     pipelines written in Python at the speed of compiled code. Tuplex has
     similar Python APIs to Apache Spark or Dask, but rather than invoking the
     Python interpreter, Tuplex generates optimized LLVM bytecode for the given
     pipeline and input data set. Under the hood, Tuplex is based on data-driven
     compilation and dual-mode processing, two key techniques that make it
     possible for Tuplex to provide speed comparable to a pipeline written in
     hand-optimized C++.
  doc_url: https://github.com/tuplex/tuplex

extra:
  recipe-maintainers:
    - thewchan
