schema_version: 1

context:
  name: reportengine
  version: 0.32
  python_min: 3.9.2

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/NNPDF/reportengine/archive/v${{ version }}.tar.gz
  sha256: 1a9bf3d802f7d93dd00e8d3a176cb15e5d20ad7454564446a31e7c4ef1021fba

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python >=${{ python_min }}
    - flit-core >=2,<4
    - pip
  run:
    - python >=${{ python_min }}
    - jinja2
    - ruamel.yaml >=0.15
    - matplotlib-base
    - pandas >=1
    - pygments
    - blessings
    - pandoc >=2
    - dask

tests:
  - requirements:
      run:
        - pytest
        - hypothesis
    script:
      - pytest --pyargs reportengine

about:
  license: GPL-2.0-or-later
  license_file: LICENSE
  homepage: https://github.com/NNPDF/reportengine
  summary: 'Reportengine is a framework to develop scientific applications. It is focused on supporting declarative input (YAML), enforcing initialization time ("compile time") constraints, and enabling iteration within the declarative input. It includes support for figures, tables (pandas) and HTML reports.'

extra:
  recipe-maintainers:
    - scarlehoff
    - comane
