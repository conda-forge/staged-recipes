{% set name = "vmtk" %}
{% set version = "1.4.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: ec52357bf6dfd975eaae592b6b70db67c7767a01278386373588a29cf52997bb

build:
  number: 0
  features:
    - vc14  # [win and (py35 or py36)]  
  skip:
    - True  # [win and py27]  
 
requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - pkgconfig              # [unix]
    - cmake 
    - git
    - ninja
    - setuptools             # [win] 
  host:
    - python
    - future
    - vtk 8.1.0
    - itk 4.13.0
    - numpy <=1.13
    - h5py
    - setuptools              # [win]
    - mesa                    # [linux]
  run:
    - python
    - future 
    - vtk 8.1.0
    - itk 4.13.0
    - numpy <=1.13
    - h5py
    - mesa                    # [linux]

test:
  source_files:
    - build/tests/*
  requires:
    - pytest
  commands:
    - pytest ./build/tests/

about:
  home: www.vmtk.org
  license: BSD
  license_file: LICENSE
  summary: "vmtk - the Vascular Modeling Toolkit. See www.vmtk.org/ for details."
  doc_url: http://www.vmtk.org/documentation/
  dev_url: https://github.com/vmtk/vmtk

extra:
  recipe-maintainers:
    - rlizzo
    - lantiga
    - aslakbergersen
