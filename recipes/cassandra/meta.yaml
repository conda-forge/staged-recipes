{% set name = "cassandra" %}
{% set version = "1.2" %}
{% set sha256 = "4e4f2b8436850e721ced9b90aea36a2af1ff134842fa99494a7dfe0db427cf40" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  #url: https://github.com/MaginnGroup/Cassandra/releases/download/Cassandra_V{{ version }}.tar.gz
  path: ./Cassandra_V{{ version }}.tar.gz
  sha256: {{ sha256 }}
  # sha256 is the preferred checksum -- you can get it for a file with:
  #  `openssl sha256 <file name>`.

build:
  number: 0
  skip: true # [win]
  skip: true # [py3k]

requirements:
  build:
    - make
  host:
    - {{ compiler('fortran') }}
    - python
    - pip
    - llvm-openmp  # [osx]
    - libgomp      # [linux and not aarch64]
  run:
    - python

test:
  commands:
    - cassandra.exe -h
    # This checks that cassandra was installed

about:
  home: https://github.com/MaginnGroup/Cassandra
  license: GPL-3.0
  license_family: GPL3
  license_file: Cassandra_V{{ version }}/license.txt
  summary: 'Open source atomistic Monte Carlo software package'

  # The remaining entries in this section are optional, but recommended.
  description: |
    Cassandra is an atomistic Monte Carlo software package developed by
    Professor Edward Maginn at the University of Notre Dame.
    The core code is written in Fortran, but the package also includes a few
    Python scripts to help with simulation setup. Complete documentation,
    workshop materials, and a user forum can be found at cassandra.nd.edu.
  doc_url: https://cassandra.nd.edu/
  dev_url: https://github.com/MaginnGroup/Cassandra

extra:
  recipe-maintainers:
    - rsdefever
