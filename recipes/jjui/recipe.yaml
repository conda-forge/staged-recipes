context:
  version: "0.9.3"

package:
  name: jjui
  version: ${{ version }}

source:
  url: https://github.com/idursun/jjui/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 799a66c6ec044dcfa6cfa538b6356ed4affac6cabba8dd487db77fe11d5a5421

build:
  number: 0
  script:
    - cd cmd/jjui
    # Ignored deps are MIT
    - go-licenses save . --save_path=../../license-files/ --ignore github.com/mattn/go-localereader
    - if: unix
      then: go build -v -ldflags="-s -w" -o $PREFIX/bin/jjui
      else: go build -v -ldflags="-s" -o %LIBRARY_BIN%\jjui.exe

requirements:
  build:
    - ${{ compiler('go-nocgo') }}
    - go-licenses

tests:
  - script:
      - jjui --version

about:
  homepage: https://idursun.github.io/jjui
  repository: https://github.com/idursun/jjui
  documentation: https://idursun.github.io/jjui
  summary: TUI for Jujutsu (JJ) VCS
  description: |
    Terminal user interface for working with Jujutsu version control system.
  license: MIT
  license_file:
    - LICENSE
    - license-files/

extra:
  recipe-maintainers:
    - VasanthakumarV
