{% set name = "OpenFisca-France" %}
{% set version = "102.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  #url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.linux-x86_64.tar.gz
  url: http://benemie.fr/upload/OpenFisca-France-102.0.0.tar.gz
  #url: https://files.pythonhosted.org/packages/2e/a7/d0adde13c9c714308b37d6e1787df01305b0b226441e37a3f0a21947e0a6/OpenFisca-France-{{ version }}.tar.gz
  # url: https://test-files.pythonhosted.org/packages/74/0d/ed6f71724aab83d7dcf09f3833a5c71a2f0b3df79c92aba6bad43a4a22db/OpenFisca-France-{{ version }}.tar.gz
  sha256: 3ff86cfbcccaccc0e57c60978b96c32ec8a4549de7fc43412adde1003d1efc3c
  # sha256 is the preferred checksum `openssl sha256 <file name>`


build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python
    - pip
  run:
    - python >=3.6,<4.0
    - OpenFisca-Core >=35.2.0,<36.0


test:
  imports:
    - openfisca_france
  requires:
    - pip
    - pytest >=4.4.1,<6.0.0  # To be Removed when OF-Core as been updated
  commands:
    - pip check

about:
  home: https://fr.openfisca.org/
  # Use the SPDX identifier, e.g: GPL-2.0-only instead of GNU General Public License version 2.0
  # See https://spdx.org/licenses/
  license_family: AGPL
  license: AGPL-3.0-only
  license_file: LICENSE
  summary: "French tax and benefit system for OpenFisca"
  description: |
    OpenFisca is a versatile microsimulation free software.
    This repository contains the OpenFisca model of the French tax and benefit system.
    Therefore, the working language here is French.
  doc_url: https://fr.openfisca.org/
  dev_url: https://github.com/openfisca/openfisca-france/

extra:
  recipe-maintainers:
    # GitHub IDs for maintainers of the recipe.
    # Always check with the people listed below if they are OK becoming maintainers of the recipe. (There will be spam!)
    - benoit-cty
