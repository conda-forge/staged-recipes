{% set name = "COMPSs" %}
{% set version = "2.9.2" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: http://compss.bsc.es/repo/sc/stable/COMPSs_{{ version }}.tar.gz
  sha256: f40fe8b18d12ef780d0d4481166a5775d0eeb753b1905c5deb9c07a4ba43e4ef

build:
  number: 0
  #  script: "export CONDA_ENV=$PREFIX; {{ PYTHON }} -m pip install --target=$PREFIX . -vv"
  skip: True  # [win]
  skip: True  # [osx]

requirements:
  host:
    - pip
    - python =3.7
    - setuptools
    - openjdk =8
  run:
    - python =3.7
    - setuptools
    - openjdk =8
    - nb_conda_kernels

test:
  commands:
    - ${CONDA_PREFIX}/Runtime/scripts/user/runcompss -v

about:
  home: http://compss.bsc.es
  license: Apache-2.0
  license_file: LICENSE
  summary: COMP Superscalar Programming Framework
  doc_url: https://www.bsc.es/research-and-development/software-and-apps/software-list/comp-superscalar/documentation
  dev_url: https://github.com/bsc-wdc/compss

extra:
  recipe-maintainers:
    - lezzidan
