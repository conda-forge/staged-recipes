# Jinja variables help maintain the recipe as you'll update the version only here.
# Using the name variable with the URL in line 14 is convenient
# when copying and pasting from another recipe, but not really needed.
{% set name = "meld" %}
{% set major_version = "3" %}
{% set minor_version = "20" %}
{% set patch_version = "1" %}
{% set version = "{{ major_version }}.{{ minor_version }}.{{ patch_version }}" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://download.gnome.org/sources/{{ name }}/{{ major_version }}.{{ minor_version }}/{{ name }}-{{ version }}.tar.xz
  sha256: a54843bc4d6cb1d31d0a58aa725091622194d50c32ef67026b35c86dda3cb249

build:
  noarch: python
  number: 0
  skip: True  # [py<33]
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    # If your project compiles code (such as a C extension) then add the required compilers as separate entries here.
    # Compilers are named 'c', 'cxx' and 'fortran'.
    # - {{ compiler('c') }}
  host:
    - python
    - pip
  run:
    - python

test:
  # Some packages might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - simplejson
    - simplejson.tests

about:
  home: https://meldmerge.org
  license: GPL-2.0
  license_family: GPL
  license_file: COPYING
  summary: 'Visual diff and merge tool targeted at developers'

  description: |
    Meld is a visual diff and merge tool targeted at developers. Meld
    helps you compare files, directories, and version controlled
    projects. It provides two- and three-way comparison of both files
    and directories, and has support for many popular version control
    systems.
  doc_url: https://meldmerge.org/help
  dev_url: https://gitlab.gnome.org/GNOME/meld

extra:
  recipe-maintainers:
    - zklaus
