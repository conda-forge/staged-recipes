context:
  name: cprnc
  version: "1.1.4"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/ESMCI/cprnc/archive/v${{ version }}.tar.gz
  sha256: 6ed79a1067a47e41e437ec784bc20db82548ea4b3b6c72fef155023259e6390b

build:
  skip:
    - win
  number: 0

requirements:
  build:
    - ${{ compiler('c') }}
    - ${{ compiler('fortran') }}
    - ${{ stdlib('c') }}
    - cmake
    - ninja
    - pkg-config
  host:
    - netcdf-fortran

tests:
  - files:
      source:
        - run_tests
        - test_inputs/
    requirements:
      run:
        - perl
    script:
    - ./run_tests -outdir test_outputs

about:
  homepage: https://github.com/ESMCI/cprnc
  summary: Fortran Utility to compare netcdf files.
  description: |
    cprnc is a generic tool for analyzing a netcdf file or comparing two netcdf
    files.
  license: BSD-3-Clause
  license_file: LICENSE.TXT
  documentation: https://github.com/ESMCI/cprnc/README.md
  repository: https://github.com/ESMCI/cprnc

extra:
  recipe-maintainers:
    - xylar
    - andrewdnolan
