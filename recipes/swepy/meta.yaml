{% set name = "swepy" %}
{% set version = "1.1.4" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: c2b03364dd4242a7bf90ac7dd899b5fa5e1f73172bdf6552733eb99724a5de30

build:
  noarch: python
  number: 0
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  build:

  host:
    - python
    - pip
  run:
    - python
    - affine
    - gdal
    - pynco
    - pandas
    - jupyter
    - ipykernel
    - requests
    - tqdm
    - scikit-image
    - netCDF4
    - cartopy

test:
  requires:
    - pytest
  files:
    - tests/data/MEASURES/NSIDC-0630.001/2010.01.01/NSIDC-0630-EASE2_N3.125km-F17_SSMIS-2010001-37H-M-SIR-CSU-v1.3.nc
    - tests/data/MEASURES/NSIDC-0630.001/2010.01.01/NSIDC-0630-EASE2_N6.25km-F17_SSMIS-2010001-19H-M-SIR-CSU-v1.3.nc
    - tests/mock_server.py
  imports:
    - swepy.swepy from swepy
    - swepy.nsidcDownloader from nsidcDownloader
    - os
    - glob
    - datetime
    - numpy as np
    - pandas as pd
  commands:
    - tests/mock_server.py &


about:
  home: http://github.com/wino6687/swepy
  license: MIT
  license_family: MIT

  license_file: LICENSE
  summary: 'Quick, easy access to CETB files for SWE analysis'

  description: |
    SWEpy is a python library designed to give users quick and easy access to
    temperature brightness files in the MEaSUREs NSIDC 0630 database. It contains
    tools for web scraping, geographically subsetting, and conatenating imagery
    either seperatley or in one automatic workflow.

  dev_url: https://github.com/wino6687/swepy

extra:
  recipe-maintainers:
    - wino6687
