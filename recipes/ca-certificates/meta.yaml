package:
  name:  ssl_certs
  # version is last build date - not to be confused with version of mk-ca-bundle.pl
  version:  20160321

requirements:
  build:
    - perl  [win]

test:
  requires:
    - curl
  commands:
    # download an HTTPS site - should fail if certs are not present or incorrect
    - curl --capath $PREFIX/etc/ssl/certs/ca-certificates.crt https://www.google.com  # [unix]
    - curl --capath $PREFIX/etc/pki/tls/certs/ca-bundle.crt https://www.google.com    # [unix]
    - curl --capath $PREFIX/etc/ssl/ca-bundle.pem https://www.google.com              # [unix]
    - curl --capath $PREFIX/etc/pki/tls/cacert.pem https://www.google.com             # [unix]
    - curl --capath %LIBRARY_PREFIX%/etc/ssl/certs/ca-certificates.crt https://www.google.com  # [win]
    - curl --capath %LIBRARY_PREFIX%/etc/pki/tls/certs/ca-bundle.crt https://www.google.com    # [win]
    - curl --capath %LIBRARY_PREFIX%/etc/ssl/ca-bundle.pem https://www.google.com              # [win]
    - curl --capath %LIBRARY_PREFIX%/etc/pki/tls/cacert.pem https://www.google.com             # [win]

about:
  home: https://curl.haxx.se/docs/mk-ca-bundle.html
  license: MIT
  summary: bundler for SSL certificates, using cURL's mk-ca-bundle script

extra:
  recipe-maintainers:
    - msarahan
