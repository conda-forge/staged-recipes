context:
  version: 0.15.0

package:
  name: smallpond
  version: ${{ version }}

source:
  - url: https://pypi.org/packages/source/s/smallpond/smallpond-${{ version }}.tar.gz
    sha256: 0a4f13e4a159ea640b16ef0095dc4b9316f54752f655794c540eb9911b00de6f

build:
  script: ${{ PYTHON }} -m pip install .

requirements:
  host:
    - python >=3.8
    - pip
  run:
    - python >=3.8
    - duckdb >=1.2.0
    - pyarrow >=16.1.0
    - polars >=0.20.9
    - pandas >=1.3.4
    - plotly >=5.22.0
    - lxml >=4.9.3
    - cloudpickle >=2.0.0
    - zstandard >=0.22.0
    - loguru >=0.7.2
    - psutil >=5.9.8
    - gputil >=1.4.0
    - py-libnuma >=1.2
    - fsspec >=2023.12.2
    - ray-default>=2.10.0
    - graphviz >=0.19.1

tests:
  - python:
      imports:
        - smallpond
      pip_check: true

about:
  summary: A lightweight data processing framework built on DuckDB and shared file
    system.
  description: 'A lightweight data processing framework built on DuckDB and 3FS'
  homepage: https://github.com/deepseek-ai/smallpond
  license: MIT
