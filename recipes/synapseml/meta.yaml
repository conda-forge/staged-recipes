{% set name = "synapseml" %}
{% set version = "0.10.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/microsoft/SynapseML/archive/v{{ version }}.tar.gz
  sha256: 4fcaa73dfbe699f24af42a8d4fb7ba2cc771e73b4015fb6c6244495512e9f234

build:
  script: sbt setup && sbt packagePython && {{ PYTHON }} -m pip install -v synapseml-{{ version }}-py2.py3-none-any.whl
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - sbt
  host:
    - python
    - pip
  run:
    - python

test:
  imports:
    - synapse
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/microsoft/SynapseML
  summary: 'Simple and Distributed Machine Learning'
  description: |
    SynapseML (previously known as MMLSpark), is an open-source library that 
    simplifies the creation of massively scalable machine learning (ML) pipelines.
    SynapseML provides simple, composable, and distributed APIs for a wide variety 
    of different machine learning tasks such as text analytics, vision, anomaly 
    detection, and many others. SynapseML is built on the Apache Spark distributed 
    computing framework and shares the same API as the SparkML/MLLib library, 
    allowing you to seamlessly embed SynapseML models into existing Apache Spark 
    workflows. 
    
    With SynapseML, you can build scalable and intelligent systems to 
    solve challenges in domains such as anomaly detection, computer vision, 
    deep learning, text analytics, and others. SynapseML can train and evaluate
    models on single-node, multi-node, and elastically resizable clusters of 
    computers. This lets you scale your work without wasting resources.
    SynapseML is usable across Python, R, Scala, Java, and .NET. Furthermore, its 
    API abstracts over a wide variety of databases, file systems, and cloud data 
    stores to simplify experiments no matter where data is located.

    SynapseML requires Scala 2.12, Spark 3.2+, and Python 3.6+.
  license: MIT
  license_family: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - gnicolasdev
