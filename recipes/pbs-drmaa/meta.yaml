{% set name = "pbs-drmaa" %}
{% set version = "1.0.19" %}
{% set sha256 = "b14c16f6cd5d1eda00a581b289a5f9988507877154e9da5989a8de94a3120503" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://downloads.sourceforge.net/project/pbspro-drmaa/pbs-drmaa/1.0/pbs-drmaa-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [win and osx]

requirements:
  build:
    - toolchain

test:
  commands:
    - test -f "${PREFIX}/lib/drmaa.o
    - test -f "${PREFIX}/lib/libdrmaa.a
    - test -f "${PREFIX}/lib/libdrmaa.lai
    - test -f "${PREFIX}/lib/libdrmaa.so.1
    - test -f "${PREFIX}/lib/log_reader.o
    - test -f "${PREFIX}/lib/pbs_conn.o
    - test -f "${PREFIX}/lib/submit.o
    - test -f "${PREFIX}/lib/util.o
    - test -f "${PREFIX}/lib/job.o
    - test -f "${PREFIX}/lib/libdrmaa.la
    - test -f "${PREFIX}/lib/libdrmaa.so
    - test -f "${PREFIX}/lib/libdrmaa.so.1.0.19
    - test -f "${PREFIX}/lib/pbs_attrib.o
    - test -f "${PREFIX}/lib/session.o
    - test -f "${PREFIX}/lib/torque4.o

about:
  home: http://apps.man.poznan.pl/trac/pbs-drmaa
  license: GPL-3
  license_family: GPL
  license_file: COPYING
  summary: 'DRMAA for Torque/PBS Pro is implementation of Open Grid Forum'
  description: |
    DRMAA for Torque/PBS Pro is implementation of Open Grid Forum 
    DRMAA (Distributed Resource Management Application API) specification 
    for submission and control jobs to PBS systems: Torque and 
    PBS Professional. Using DRMAA, grid applications builders, 
    portal developers and ISVs can use the same high-level API 
    to link their software with different cluster/resource management systems.
  doc_url: http://apps.man.poznan.pl/trac/pbs-drmaa/wiki
  dev_url: http://apps.man.poznan.pl/trac/pbs-drmaa/report

extra:
  recipe-maintainers:
    - basnijholt
