{% set name = "markdiffusion" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/m/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 0184995b1ef9c9621811d437457fa6590acc70b92ae2e5ae0a19f5b870ab3070

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation"

requirements:
  host:
    - python
    - pip
    - setuptools >=68
    - wheel
  run:
    - python
    - pytorch >=1.10
    - torchvision
    - numpy >=1.20
    - pillow >=8.0
    - opencv
    - requests >=2.26
    - tqdm >=4.60
    - scipy >=1.7
    - matplotlib-base >=3.4
    - ujson
    - datasets >=2.0.0
    - diffusers >=0.21.0
    - transformers >=4.23.1

test:
  imports:
    - detection
    - evaluation
    - exceptions
    - inversions
    - utils
    - visualize
    - watermark
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/THU-BPM/markdiffusion
  summary: "An Open-Source Toolkit for Generative Watermarking of Latent Diffusion Models"
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - codelformat
    - panly2003
