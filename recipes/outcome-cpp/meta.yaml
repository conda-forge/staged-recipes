{% set name = "outcome-cpp" %}
{% set version = "2.2.3" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  - url: https://github.com/ned14/outcome/archive/refs/tags/v{{ version }}.tar.gz
    sha256: 31cc987d73b2625a70f35083ccff26d1c2634d89304f1ea606a294da36cb2958
  - url: https://github.com/ned14/quickcpplib/archive/568e1811edf0f47caafbeb62a4f9fe4e885a0f96.tar.gz
    sha256: 4c8db4d664fafc26ea479da1e71f1073df12f5f444a36c5ef460101836a5afb3
    folder: quickcpplib
  - url: https://github.com/ned14/status-code/archive/38e1e862386cb38d577664fd681ef829b0e03fba.tar.gz
    sha256: faf112df1633a1ee1f58c8b056130154b7c0dbf12e7f006a04dc376500d271c3
    folder: include/outcome/experimental/status-code

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make
    - pcpp
    - python
  host:
    - boost-cpp
  run:
    - boost-cpp

test:
  commands:
    - test -f $PREFIX/include/outcome.hpp  # [unix]
    - if not exist %LIBRARY_PREFIX%\include\outcome.hpp exit 1  # [win]


about:
  license: Apache-2.0 OR BSL-1.0
  license_file:
    - Licence.txt
    - include/outcome/experimental/status-code/Licence.txt
  summary: |
    Outcome is a C++14 library for reporting and handling function failures.
    It can be used as a substitute for, or a complement to, the exception handling mechanism.
  home: https://ned14.github.io/outcome
  dev_url: https://github.com/ned14/outcome

extra:
  recipe-maintainers:
    - awvwgk
