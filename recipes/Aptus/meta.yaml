{% set name = "Aptus" %}
{% set version = "3.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 03ee672ee6e6c26c0defb1ed1632dcc6e49686c7a215f88807fa0b200a252abc

build:
  number: 0
  script: {{ PYTHON }} -m pip install . -vv
  entry_points:
    - aptuscmd = aptus.cmdline:main
    - aptusgui = aptus.gui:main
    - aptusweb = aptus.web:main

requirements:
  build:
    - python >=3.9
    - pip
    - numpy
    - {{ compiler('c') }}
  host:
    - python >=3.9
  run:
    # Required dependencies
    - python >=3.9
    - Pillow
    - numpy
    # Additional dependency for `aptusgui`
    - wxPython
    # Additional dependencies for `aptusweb`
    - aiofiles
    - fastapi
    - jinja2
    - uvicorn
    - cachetools

test:
  imports:
    - aptus
    - aptus.gui
    - aptus.web
  commands:
    - aptuscmd -h
    - aptusgui
    - aptusweb

about:
  home: https://github.com/nedbat/aptus
  # license: TBD
  # license_family: TBD
  # license_file: TBD
  summary: Aptus Mandelbrot explorer and renderer!

  description: |
    Aptus is a Mandelbrot set viewer and renderer. It is written in Python with a computation engine in C for speed.
  doc_url: https://nedbatchelder.com/code/aptus/v3.html
  dev_url: https://github.com/nedbat/aptus

extra:
  recipe-maintainers:
    # - nedbat
    - zzhengnan
