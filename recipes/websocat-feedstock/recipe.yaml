context:
  version: "1.14.0"

package:
  name: websocat
  version: ${{ version }}

source:
  url: https://github.com/vi/websocat/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 919ee83c961074c176a129874a77c02889401f3548c2536a84c4427f97cfeb26

build:
  script: cargo install --features ssl --root $PREFIX --path .

requirements:
  build:
    - rust
    - if: linux
      then:
        - pkgconf
        - openssl

tests:
  - script:
      - websocat -t literal:qwe assert:qwe

about:
  homepage: https://github.com/vi/websocat
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: Command-line client for WebSockets
  description: |
    websocat is a command-line client for WebSockets
    like netcat (or curl) for ws://
    with advanced socat-like functions
  dev_url: https://github.com/vi/websocat

extra:
  recipe-maintainers:
    - danielballan
