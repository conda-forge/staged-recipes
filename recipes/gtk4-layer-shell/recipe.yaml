# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
schema_version: 1

context:
  version: "1.3.0"

package:
  name: gtk4-layer-shell
  version: ${{ version }}

source:
  - url: https://github.com/wmww/gtk4-layer-shell/archive/v${{ version }}.tar.gz
    sha256: 1ebb01ab14e98afd1727f68f64981c37bd23305b1f131f5667c02b94cf593192

build:
  number: 0
  skip: not linux

requirements:
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - meson >=0.45.1
    - ninja >=1.8.2
    - cmake
    - pkg-config
    - python
    - setuptools
  host:
    - wayland >=1.10.0
    - wayland-protocols >=1.16.0
    - gtk4 >=4.20.3
    - zlib
    - expat
    - glib

tests:
  - package_contents:
      lib:
        - gtk4-layer-shell
        - layer-shell-preload
      include:
        - gtk4-layer-shell/gtk4-layer-shell.h
        - gtk4-layer-shell/gtk4-session-lock.h
      files:
        exists:
          - lib/pkgconfig/gtk4-layer-shell-0.pc

about:
  license: MIT
  license_file: LICENSE
  homepage: https://github.com/wmww/gtk4-layer-shell
  summary: A library to create panels and other desktop components for Wayland using the Layer Shell protocol and GTK4

extra:
  recipe-maintainers:
    - davidbrochart
