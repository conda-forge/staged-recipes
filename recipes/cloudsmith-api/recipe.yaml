# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  name: cloudsmith-api
  version: "2.0.16"
  git_sha: 2087dcd31d250415d49cacad6b23d58f09a4af48

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/cloudsmith-io/cloudsmith-api/archive/${{ git_sha }}.zip
  sha256: 0c270ad19de9f7d922cc3993d88a092189b9aa43f37fae99705196b59c49ebda

build:
  noarch: python
  script: |
    set -euxo pipefail
    shopt -s expand_aliases
    alias docker=podman
    source ./scripts/build.sh python
    cd ./bindings/python/src
    python -m pip install . -vv
    echo "SUCCESS!"
    exit 1
  number: 0

requirements:
  host:
    - python ${{ python_min }}.*
    - curl
    - jq
    - pip
    - podman
    - setuptools
  run:
    - python >=${{ python_min }}
    - certifi >=2017.4.17
    - python-dateutil >=2.1
    - six >=1.10
    - urllib3 >=1.23

tests:
  - python:
      pip_check: true
      python_version: ${{ python_min }}.*
      imports:
        - cloudsmith_api


about:
  homepage: https://github.com/cloudsmith-io/cloudsmith-api
  summary: 'Cloudsmith API Client (Generated)'
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - dhirschfeld
