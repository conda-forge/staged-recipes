{% set name = "smolagents" %}
{% set version = "1.0.0" %}
{% set python_min = "3.10" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/smolagents-{{ version }}.tar.gz
  sha256: 8793a0d3af1e17ba9703dcd5d266f15d45f7479b1379f5c25ccb06830529b01d

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python >={{ python_min }}
    - setuptools
    - pip
  run:
    - python >={{ python_min }}
    - pytorch
    - torchaudio
    - torchvision
    - transformers >=4.0.0
    - requests >=2.32.3
    - rich >=13.9.4
    - pandas >=2.2.3
    - jinja2 >=3.1.4
    - pillow >=11.0.0
    - markdownify >=0.14.1
    ## TODO: Fix gradio vs litellm dependency non-verlap issue for python-multipart
    ##       Then uncomment the following line. Until then use gradio without any version-constraint.
    ## - gradio >=5.8.0    
    - gradio  
    - python-dotenv >=1.0.1    
    - litellm >=1.55.10
  run_constrained
    - duckduckgo-search >=6.3.7
    - e2b-code-interpreter >=1.0.3

test:
  imports:
    - smolagents
  commands:
    - pip check
  requires:
    - python >={{ python_min }}
    - pip

about:
  home: https://github.com/huggingface/smolagents
  summary: 'ðŸ¤— smolagents: a barebones library for agents. Agents write python code to call tools or orchestrate other agents.'
  license: Apache-2.0
  license_file: LICENSE
  description: |
    `smolagents` is a library that enables you to run powerful agents in a few lines of code.

    PyPI: [https://pypi.org/project/{{ name | lower }}/](https://pypi.org/project/{{ name | lower }}/)

  doc_url: https://github.com/huggingface/smolagents
  dev_url: https://github.com/huggingface/smolagents

extra:
  recipe-maintainers:
    - sugatoray
