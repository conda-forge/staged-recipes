
package:
  name: genozip
  version: 1.0.0

source:
  url: https://github.com/divonlan/genozip/raw/master/archive/genozip-1.0.0.tar.gz
  sha256: 03b679ecfa57f71299e3599f2073d60633599469058f8ce505ebbd0aa49ec1b7

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - make # [unix]
    - make.exe # [win]
  host:
  run:

test:
  source_files: 
    - test-file.vcf

  commands:
    - genozip -t test-file.vcf      # [unix]
    - genozip.exe -t test-file.vcf  # [win]
    {% set genozip_executables = [
      "genozip",
      "genounzip",
      "genocat"
    ] %}
    {% for executable in genozip_executables %}
    - test -f ${PREFIX}/bin/{{ executable }}  # [unix]
    {% endfor %}

about:
  home: https://github.com/divonlan/genozip
  dev_url: https://github.com/divonlan/genozip
  license: Apache-2.0, non-commercial only
  license_family: Apache
  license_file: LICENSE.non-commercial.txt
  summary: 'Compressor for VCF genomic files, a lot better than gzip or bzip2'
  description: |
    genozip is a compressor for VCF genomic files (it compresses .vcf or .vcf.gz or .vcf.bz2 files). 
    It is very easy to use - in fact, if you're familiar with gzip, it works pretty much the same.
    It achieves x2 to x5 better compression ratios than gzip because it leverages some properties
    of the genomic data, such as linkage disequilibrium, to compress better. 
    It is also a lot faster than gzip. 
    The compression is lossless - the decompressed file is identical to the original file.
    Contact: genozip@blackpawventures.com

extra:
  recipe-maintainers:
    - divonlan
