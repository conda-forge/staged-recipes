{% set name = "isofit" %}
{% set version = "1.0.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 22e2719d0a6a4e80679410780bde67fb073b1b2497cef8c8d1d5765b42324971

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"
  skip: True  # [py<37]

requirements:
  build:
    - python
    - setuptools
  host:
    - python
    - pip
  run:
    - matplotlib
    - numba
    - pep8
    - pytest
    - scikit-learn
    - scipy
    - spectral
    - python-xxhash

test:
  imports:
    - isofit
  requires:
    - pytest
  commands:
    - pytest --pyargs tests

about:
  home: http://github.com/isofit/isofit
  license: ALv2
  license_family: Apache
  license_file: LICENSE
  summary: 'Imaging Spectrometer Optimal FITting'
  description: |
    isofit provides a set of routines and utilities for fitting 
    surface, atmosphere and instrument models to imaging spectrometer 
    data. It is written primarily in Python, with JSON format 
    configuration files and some dependencies on widely-available 
    numerical and scientific libraries such as scipy, scikit-learn, 
    and numba. It is designed for maximum flexibility, so that users 
    can swap in and evaluate model components based on different 
    radiative transfer models (RTMs) and various statistical descriptions 
    of surface, instrument, and atmosphere. It can run on individual 
    radiance spectra in text format, or imaging spectrometer data cubes.
  doc_url: https://github.com/isofit/isofit/blob/master/README.rst
  dev_url: https://github.com/isofit/isofit

extra:
  recipe-maintainers:
    - lewismc
