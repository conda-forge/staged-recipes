{% set name = "smac" %}
{% set version = "0.13.1" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/smac-{{ version }}.tar.gz
  sha256: 134f272d3d1f1c410edf6ee44f065cfe59bcaa52822c5978e9fbcd0a64470dab

build:
  number: 0
  skip: True  # [win or py<36]
  entry_points:
    - smac = smac.smac_cli:cmd_line_call
  script: {{ PYTHON }} -m pip install .[gp,lhd] -vv

requirements:
  build:
    - gcc_linux-64
    - gxx_linux-64
    - swig
  host:
    - pip
    - python
  run:
    - configspace >=0.4.14,<0.5
    - dask-core
    - distributed
    - emcee >=2.1.0
    - joblib
    - lazy_import
    - numpy >=1.7.1
    - psutil
    - pyDOE
    - pynisher >=0.4.1
    - pyrfr >=0.8.0
    - python
    - scikit-learn >=0.22.0
    - scikit-optimize
    - scipy >=0.18.1

test:
  imports:
    - local
    - smac
  commands:
    - pip check
    - smac --help
  requires:
    - pip

about:
  home: https://pypi.org/project/smac/
  summary: SMAC3, a Python implementation of 'Sequential Model-based Algorithm Configuration'.
  description: |
    SMAC is a tool for algorithm configuration to optimize the parameters of arbitrary algorithms across a set of instances.
    This also includes hyperparameter optimization of ML algorithms.
    The main core consists of Bayesian Optimization in combination with an aggressive racing mechanism 
    to efficiently decide which of two configurations performs better.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  doc_url: https://automl.github.io/SMAC3/
  dev_url: https://github.com/automl/SMAC3

extra:
  recipe-maintainers:
    - cyprienc
