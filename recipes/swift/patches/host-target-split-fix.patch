--- a/utils/swift_build_support/swift_build_support/products/product.py
+++ b/utils/swift_build_support/swift_build_support/products/product.py
@@ -451,7 +451,11 @@
-        (platform, arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            platform, arch = parts[0], '-'.join(parts[1:])
+        else:
+            platform, arch = host_target, ''
--- a/utils/swift_build_support/swift_build_support/products/playgroundsupport.py
+++ b/utils/swift_build_support/swift_build_support/products/playgroundsupport.py
@@ -58,7 +58,11 @@
-        (host_os, host_arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            host_os, host_arch = parts[0], '-'.join(parts[1:])
+        else:
+            host_os, host_arch = host_target, ''
@@ -81,7 +85,11 @@
-        (host_os, host_arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            host_os, host_arch = parts[0], '-'.join(parts[1:])
+        else:
+            host_os, host_arch = host_target, ''
@@ -106,7 +114,11 @@
-        (host_os, host_arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            host_os, host_arch = parts[0], '-'.join(parts[1:])
+        else:
+            host_os, host_arch = host_target, ''
--- a/utils/swift_build_support/swift_build_support/products/cmake_product.py
+++ b/utils/swift_build_support/swift_build_support/products/cmake_product.py
@@ -154,7 +154,11 @@
-        (platform, arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            platform, arch = parts[0], '-'.join(parts[1:])
+        else:
+            platform, arch = host_target, ''
--- a/utils/swift_build_support/swift_build_support/products/cmark.py
+++ b/utils/swift_build_support/swift_build_support/products/cmark.py
@@ -59,7 +59,11 @@
-        (platform, _) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            platform, _ = parts[0], '-'.join(parts[1:])
+        else:
+            platform, _ = host_target, ''
--- a/utils/swift_build_support/swift_build_support/products/llvm.py
+++ b/utils/swift_build_support/swift_build_support/products/llvm.py
@@ -226,7 +226,11 @@
-        (platform, arch) = host_target.split('-')
+        parts = host_target.split('-')
+        if len(parts) >= 2:
+            platform, arch = parts[0], '-'.join(parts[1:])
+        else:
+            platform, arch = host_target, '' 