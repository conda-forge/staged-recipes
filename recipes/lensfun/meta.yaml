{% set name = "lensfun" %}
{% set version = "0.3.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: ae8bcad46614ca47f5bda65b00af4a257a9564a61725df9c74cb260da544d331
  patches:
    - fix_spacing_on_cpuid_file.patch

build:
  number: 0

requirements:
  build:
    - cmake
    - make
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - pkg-config
  host:
    - doxygen
    - glib
  run:
    - glib

test:
  imports:
    - lensfun

about:
  home: "https://lensfun.github.io/"
  license: LGPL-3.0
  license_family: GPL3
  license_file: LICENSE.txt
  summary: "The goal of the Lensfun library is to provide a open source database of photographic lenses and their characteristics."
  description: |
    The Lensfun library not only provides a way to read the database and
    search for specific things in it, but also provides a set of algorithms
    for correcting images based on detailed knowledge of lens properties.
    Right now Lensfun is designed to correct distortion, transversal
    (also known as lateral) chromatic aberrations, and vignetting.
  doc_url: "https://lensfun.github.io/"
  dev_url: "https://github.com/lensfun/lensfun"

extra:
  recipe-maintainers:
    - oblute
    - rluria14
    - mwilson8
