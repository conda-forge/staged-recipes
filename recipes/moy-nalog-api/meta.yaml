{% set name = "moy-nalog-api" %}
{% set version = "1.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/moy_nalog_api-{{ version }}.tar.gz
  sha256: d0023b83bac671b6fab11adef2be09448e7533ca55b6c7b70ea17b4f5e20636b

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python >=3.10
    - pip
    - hatchling
  run:
    - python >=3.10
    - httpx >=0.25.0
    - pydantic >=2.0.0

test:
  imports:
    - moy_nalog
  commands:
    - python -c "from moy_nalog import MoyNalogClient, MoyNalogClientSync"

about:
  home: https://github.com/inache-su/moy-nalog-api
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: The most complete Python client for Russian self-employed tax service (Moy Nalog / lknpd.nalog.ru)
  description: |
    Async and sync Python client for Moy Nalog API (self-employed, NPD tax regime).
    Features: password/SMS auth, session persistence, auto token refresh, Pydantic v2 validation.
  dev_url: https://github.com/inache-su/moy-nalog-api

extra:
  recipe-maintainers:
    - inache-su
