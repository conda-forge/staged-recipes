{% set name = "nwb2bids" %}
{% set version = "0.5.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 96b866b94601d02d57565254a0781b6b32742362f7fc5725d6ba8f1e20a4f0a8

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv
  number: 0
  entry_points:
   - nwb2bids = nwb2bids._command_line_interface._main:_nwb2bids_cli

requirements:
  host:
    - python {{ python_min }}
    - pip
    - hatchling
  run:
    - python >={{ python_min }}
    - pandas
    - pynwb
    - click
    - pydantic
    - typing-extensions

test:
  requires:
    - python {{ python_min }}
    - pytest
    - pytest-cov
  source_files:
    - tests
  imports:
    - nwb2bids
  commands:
    - pytest -m "not remote"

about:
  home: https://github.com/con/nwb2bids
  summary: Reorganize NWB files into a BIDS directory layout.
  description: |
    Currently developed for the microephys BIDS modality, which encompasses both the NWB ecephys and icephys
    neurodata subtypes, and which is currently pending formal inclusion in BIDS schema as part of BEP032.
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  doc_url: https://nwb2bids.readthedocs.io
  dev_url: https://github.com/con/nwb2bids

extra:
  recipe-maintainers:
    - CodyCBakerPhD
    - yarikoptic
    - candleindark
    - asmacdo
