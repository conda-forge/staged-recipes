{% set name = "bayesed3" %}
{% set version = "2026.01.30" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/hanyk/BayeSED3/archive/refs/tags/v{{ version }}.tar.gz
  sha256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855

build:
  number: 0
  skip: true  # [win]
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('fortran') }}
  host:
    - python
    - pip
    - setuptools
  run:
    # System dependency (not a Python package)
    - openmpi=4.1.6
    - python >=3.7
    # All Python dependencies are defined in pyproject.toml
    # They are automatically installed via pip during build

test:
  imports:
    - bayesed
  commands:
    - python -c "import bayesed; print(bayesed.__version__)"
    - python -c "from bayesed import BayeSEDInterface; print('BayeSEDInterface imported successfully')"

about:
  home: https://github.com/hanyk/BayeSED3
  license: MIT
  license_file: LICENSE
  summary: Bayesian SED synthesis and analysis of galaxies and AGNs
  description: |
    BayeSED3 is a general and sophisticated tool for the full Bayesian interpretation 
    of spectral energy distributions (SEDs) of galaxies and Active Galactic Nuclei (AGNs). 
    It performs Bayesian parameter estimation using posterior probability distributions (PDFs) 
    and Bayesian SED model comparison using Bayesian evidence.
    
    Key Features:
    - Multi-component SED synthesis for galaxies and AGNs
    - Stellar population synthesis with flexible star formation histories
    - Dust attenuation and emission modeling
    - AGN component modeling (accretion disk, BLR, NLR, torus, FeII)
    - Handles both photometric and spectroscopic data
    - Parallel processing via MPI
    - Python API and GUI interface
  doc_url: https://github.com/hanyk/BayeSED3
  dev_url: https://github.com/hanyk/BayeSED3

extra:
  recipe-maintainers:
    - hanyk
