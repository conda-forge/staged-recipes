diff --git a/CMakeLists.txt b/CMakeLists.txt
index f39b35a..a85dbc5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -44,7 +44,20 @@ endif()
 # ------------------------------------------------------------------------------
 # hdf5
 # ------------------------------------------------------------------------------
-find_package(HDF5)
+
+# http://t3hmikez0r.com/2014/07/11/cmake-and-hdf5-revisited/
+# back up any user-defined HDF5_DIR setting
+set(_SAVED_HDF5_DIR ${HDF5_DIR})
+# First look for hdf5-config.cmake in defined locations.
+# This file is generated by HDF5 team and is likely more up to date than FindHDF5.cmake included in CMake.
+FIND_PACKAGE(HDF5 NO_MODULE)
+IF(NOT HDF5_FOUND)
+    # didn't find hdf5-config.cmake. Need to fall back on CMake's built-in FindHDF5.cmake logic.
+    # required says we fail if it isn't found.
+    # Restore the value reset by the previous call to 'find_package(HDF5 NO_MODULE)'
+    set(HDF5_DIR ${_SAVED_HDF5_DIR} CACHE PATH "HDF5 install dir" FORCE)
+    FIND_PACKAGE(HDF5)
+ENDIF()
 
 # ------------------------------------------------------------------------------
 # targets
