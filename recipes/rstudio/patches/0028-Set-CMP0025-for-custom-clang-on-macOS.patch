From 98f248c58f2c6802db6d46a546816fcf1ba0da52 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sat, 24 Mar 2018 17:50:35 +0000
Subject: [PATCH 28/41] Set CMP0025 for custom clang on macOS

Needs CMake 3.3 at least
---
 CMakeLists.txt                 | 1 +
 src/cpp/CMakeLists.txt         | 1 +
 src/cpp/desktop/CMakeLists.txt | 1 +
 src/gwt/CMakeLists.txt         | 1 +
 4 files changed, 4 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index feee203c3a..2675ead661 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -20,6 +20,7 @@ include(CMakeRelease.txt)
 
 # project name
 project("RStudio [${RSTUDIO_RELEASE_NAME}]")
+cmake_policy(SET CMP0025 NEW)
 
 # set compiler
 include(CMakeCompiler.txt)
diff --git a/src/cpp/CMakeLists.txt b/src/cpp/CMakeLists.txt
index ad3d202602..81db815f54 100644
--- a/src/cpp/CMakeLists.txt
+++ b/src/cpp/CMakeLists.txt
@@ -15,6 +15,7 @@
 
 # set minimum version
 cmake_minimum_required(VERSION 3.4.3)
+cmake_policy(SET CMP0025 NEW)
 
 # read release name
 include("${CMAKE_CURRENT_SOURCE_DIR}/../../CMakeRelease.txt")
diff --git a/src/cpp/desktop/CMakeLists.txt b/src/cpp/desktop/CMakeLists.txt
index 303cdf2182..4e336a46a3 100644
--- a/src/cpp/desktop/CMakeLists.txt
+++ b/src/cpp/desktop/CMakeLists.txt
@@ -18,6 +18,7 @@ cmake_minimum_required(VERSION 3.4.3)
 project(DESKTOP)
 
 cmake_policy(SET CMP0043 NEW)
+cmake_policy(SET CMP0025 NEW)
 
 # on unix prefer qtsdk installs over system-level libraries. note this
 # can be overriden by defining QT_QMAKE_EXECUTABLE when invoking cmake
diff --git a/src/gwt/CMakeLists.txt b/src/gwt/CMakeLists.txt
index aee6591192..b3a8c50e7c 100644
--- a/src/gwt/CMakeLists.txt
+++ b/src/gwt/CMakeLists.txt
@@ -14,6 +14,7 @@
 #
 
 cmake_minimum_required(VERSION 3.4.3)
+cmake_policy(SET CMP0025 NEW)
 project (RSTUDIO_GWT)
 
 set(GWT_LIB_DIR "lib")
-- 
2.29.2.windows.3

