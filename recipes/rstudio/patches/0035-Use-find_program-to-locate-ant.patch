From d11ac55aae7ba91ca75bd84e0deaf8b0c429121f Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sat, 31 Mar 2018 12:59:53 +0100
Subject: [PATCH 35/41] Use find_program to locate ant

This is necessary for Xcode builds since Xcode scrubs PATH
---
 src/gwt/CMakeLists.txt | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/src/gwt/CMakeLists.txt b/src/gwt/CMakeLists.txt
index b3a8c50e7c..f9779a3468 100644
--- a/src/gwt/CMakeLists.txt
+++ b/src/gwt/CMakeLists.txt
@@ -49,12 +49,17 @@ if(GWT_BUILD)
    message(STATUS "Configured to build GWT")
    set(GWT_COPY Yes)
 
+   find_program(ANT ant)
+   if(NOT ANT)
+      message(FATAL_ERROR "ant not found!")
+   endif()
+
    # invoke ant to build
    add_custom_target(gwt_build ALL)
    add_custom_command(
       TARGET gwt_build
       WORKING_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}"
-      COMMAND ant -Dbuild.dir="${GWT_BIN_DIR}"
+      COMMAND ${ANT} -Dbuild.dir="${GWT_BIN_DIR}"
                   -Dwww.dir="${GWT_WWW_DIR}"
                   -Dextras.dir="${GWT_EXTRAS_DIR}"
                   -Dlib.dir="${GWT_LIB_DIR}"
-- 
2.29.2.windows.3

