{% set name = "mace" %}
{% set version = "0.3.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:

  url: https://github.com/ACEsuit/mace/archive/v{{ version }}.tar.gz
  sha256: 806f21cd652c02e5b6278fbcb5c3f7dd931bb452141be9b8f43d4096639493c5


build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv"
  entry_points:
    - mace_active_learning_md = mace.cli.active_learning_md:main
    - mace_create_lammps_model = mace.cli.create_lammps_model:main
    - mace_eval_configs = mace.cli.eval_configs:main
    - mace_plot_train = mace.cli.plot_train:main
    - mace_run_train = mace.cli.run_train:main

requirements:
  host:
    - python >= 3.7
    - pip
  run:
    - python
    - torch>=1.12
    - e3nn==0.4.4
    - numpy
    - opt-einsum
    - ase
    - torch-ema
    - prettytable
    - matscipy
    - matplotlib
    - pandas

test:
  imports:
    - mace

  commands:
    - mace_eval_configs --help

about:
  home: https://github.com/ACEsuit/mace
  summary: 'MACE - Fast and accurate machine learning interatomic potentials with higher order equivariant message passing.'
  description: |
    MACE provides fast and accurate machine learning interatomic potentials with higher order equivariant message passing.
    This repository contains the MACE reference implementation developed by Ilyes Batatia, Gregor Simm, and David Kovacs.

  license: MIT
  license_family: MIT
  license_file: LICENSE.md
  doc_url: https://github.com/ACEsuit/mace#documentation
  dev_url: https://github.com/ACEsuit/mace

extra:
  recipe-maintainers:
    - ilyes319
    - davkovacs
    - jthorton
