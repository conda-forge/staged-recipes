{% set version = '0.0.2' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rpyants
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/rpyANTs_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/rpyANTs/rpyANTs_{{ version }}.tar.gz
  sha256: 44c8be93f732690f48a64fda3d23965950f88aceffe26e04ec95d34c77dea58a

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-rpymat >=0.1.6
    - r-reticulate >=1.26
  run:
    - r-base
    - r-rpymat >=0.1.6
    - r-reticulate >=1.26
    - r-rnifti >=1.4.4
    - r-testthat >=3.0.0

test:
  commands:
    - $R -e "library('rpyANTs')"           # [not win]
    - "\"%R%\" -e \"library('rpyANTs')\""  # [win]

about:
  home: https://dipterix.org/rpyANTs/
  dev_url: https://github.com/dipterix/rpyANTs/
  license: Apache-2.0
  summary: |
    Provides portable access from 'R' to biomedical image processing toolbox 
    'ANTs' by Avants et al. (2009) <doi:10.54294/uvnhin> via seamless 
    integration with the 'Python' implementation 'ANTsPy'. Allows biomedical 
    images to be processed in 'Python' and analyzed in 'R', and vice versa via 
    shared memory. See 'citation("rpyANTs")' for more reference information.
  license_family: Apache
  license_file:
    - LICENSE.md

extra:
  recipe-maintainers:
    - dipterix
    - conda-forge/r

# Package: rpyANTs
# Title: An Alternative Advanced Normalization Tools ('ANTs')
# Version: 0.0.2
# Authors@R: 
#     person("Zhengjia", "Wang", email = "dipterix.wang@gmail.com", 
#             role = c("aut", "cre"))
# Description: 
#     Provides portable access from 'R' to biomedical image processing toolbox 
#     'ANTs' by Avants et al. (2009) <doi:10.54294/uvnhin> via seamless
#     integration with the 'Python' implementation 'ANTsPy'. Allows biomedical 
#     images to be processed in 'Python' and analyzed in 'R', and vice versa 
#     via shared memory. See 'citation("rpyANTs")' for more reference information.
# License: Apache License 2.0
# Language: en-US
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# Imports: grDevices, rpymat (>= 0.1.6), reticulate (>= 1.26)
# Suggests: RNifti (>= 1.4.4), testthat (>= 3.0.0)
# Config/testthat/edition: 3
# URL: http://dipterix.org/rpyANTs/
# BugReports: https://github.com/dipterix/rpyANTs/issues
# Copyright: For the rpyANTs package - Zhengjia Wang; For ANTs -
#         ConsortiumOfANTS; For ANTsPy - ANTs Contributors.
# NeedsCompilation: no
# Packaged: 2023-07-16 12:59:53 UTC; dipterix
# Author: Zhengjia Wang [aut, cre]
# Maintainer: Zhengjia Wang <dipterix.wang@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-07-16 13:50:02 UTC
