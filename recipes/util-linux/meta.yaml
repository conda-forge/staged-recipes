{% set name = "util-linux" %}
{% set version = "2.28.2" %}
{% set sha256 = "7e0cd6772f68561253d5ccae3c4ae4703bad938a6a324e47ddc4c342ab73f8f8" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: ftp://ftp.kernel.org/pub/linux/utils/util-linux/v2.28/util-linux-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [win]
  script: |
    ln -s $PREFIX/include/ncurses/ $PREFIX/include/ncursesw/ 
    ./configure --help && ./configure --prefix=$PREFIX --without-python --enable-column
    make column hexdump more rev pg ul
    mv column hexdump more rev pg ul $PREFIX/bin/

requirements:
  build:
    - toolchain
    - ncurses
    - readline
  run:
    - ncurses
    - readline

test:
  # Some package might need a `test/commands` key to check CLI.
  commands:
    - echo "foo bar baz" | column -t

about:
  home: https://git.kernel.org/cgit/utils/util-linux/util-linux.git/about/
  license: GPL2
  summary: 'util-linux is a random collection of Linux utilities'
  dev_url: git://git.kernel.org/pub/scm/utils/util-linux/util-linux.git

extra:
  recipe-maintainers:
    - bgruening
