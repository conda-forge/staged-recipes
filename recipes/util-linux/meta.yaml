{% set name = "util-linux" %}
{% set version = "2.31.1" %}
{% set sha256 = "d636cb23a2a4aaeeec4b1b52c702366a83978f5a3aaf3029431e7a76a7095323" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://www.kernel.org/pub/linux/utils/util-linux/v{{ version.split(".")[:2]|join(".") }}/util-linux-{{ version }}.tar.gz
  sha256: {{ sha256 }}
  patches:
    #################################################################################################
    # Apply upstream patch to define RFKILL_TYPE_FM if not already defined.                         #
    # This is needed for Linux 2.6.32 (CentOS 6), which we use.                                     #
    #                                                                                               #
    # xref: https://github.com/karelzak/util-linux/commit/40defd0c4d6a2a3f4b40842c3b8798755a5c1ef1  #
    #################################################################################################
    - rfkill_opt_def.patch

build:
  number: 0
  skip: True  # [not linux]

requirements:
  build:
    - toolchain
    - automake
    - autoconf
    - bison
    - pkg-config
    - libtool
    - gettext

test:
  commands:
    - taskset --help

about:
  home: https://github.com/karelzak/util-linux
  license: GPL2
  license_file: COPYING
  description: |
      util-linux is a standard package distributed by the Linux Kernel Organization
      for use as part of the Linux operating system.

  summary: A collection of utilities for the linux command line.

extra:
  recipe-maintainers:
    - Slugger70
