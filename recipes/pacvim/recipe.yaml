context:
  name: pacvim
  version: "1.1.1"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  - url: https://github.com/jmoon018/PacVim/archive/refs/tags/v${{ version }}.tar.gz
    sha256: c869c5450fbafdfe8ba8a8a9bba3718775926f276f0552052dcfa090d21acb28
  # 1.1.1 doesn't include license files yet, only master does
  - url: https://raw.githubusercontent.com/jmoon018/PacVim/refs/heads/master/COPYING.LESSER
    sha256: ea8af5e789cb2d4e9b10bce3874982ade163b749b6bfbdb32e2df21c4d106de1
  - url: https://raw.githubusercontent.com/jmoon018/PacVim/refs/heads/master/COPYING
    sha256: c53a65c2fd561c87eaabf1072ef5dcab8653042bc15308465f52413585eb6271

build:
  script:
    content:
      - if: win
        then: make install PREFIX=%PREFIX%
        else: make install PREFIX=$PREFIX
  number: 0

requirements:
  build:
    - ${{ compiler('c') }}
    - ${{ stdlib('c') }}
    - make
  host:
    - ncurses
  run:
    - python

tests:
  - script: pacvim --help

about:
  homepage: https://github.com/jmoon018/PacVim
  summary: Learn vim commands via a game
  license: LGPL-3.0-or-later
  license_file:
    - COPYING
    - COPYING.LESSER
  repository: https://github.com/jmoon018/PacVim

extra:
  recipe-maintainers:
    - pavelzw
