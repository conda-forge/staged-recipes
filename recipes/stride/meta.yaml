{% set name = "stride" %}
{% set version = "1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: http://webclu.bio.wzw.tum.de/stride/stride.tar.gz # [unix]
  sha256: 51a8bc2988bb184bd08216124f61725225bb1a6f563bdf8cd35154cb5d621c1a # [unix]
  patches:
    - 001_unhardcode_CC.patch # [unix]

build:
  number: 0
  binary_relocation: True

requirements:
  build:
    - {{ compiler('c') }} # [unix]

test:
  files:
    - pdb1fmc.out
  source_files:
    - pdb1fmc.pdb
  commands:
    - test -f stride  # [unix]
    - if not exist %LIBRARY_BIN%\\stride.exe exit 1 # [win]

about:
  home: http://webclu.bio.wzw.tum.de/stride/
  license_file: doc/stride.doc
  summary: 'STRIDE: protein secondary structure assignment from atomic coordinates'
  description: |
    STRIDE (Frishman and Argos, 1995) is a program to recognize secondary 
    structural elements in proteins from their atomic coordinates. 
    It performs the same task as DSSP by Kabsch and Sander (1983) but utilizes 
    both hydrogen bond energy and mainchain dihedral angles rather than 
    hydrogen bonds alone. It relies on database-derived recognition parameters 
    with the crystallographers' secondary structure definitions as a standard-of-
    truth. For a detailed description of the algorithm, please see
    Frishman, D and Argos, P. (1995) Knowledge-based secondary structure
    assignment. Proteins: structure, function and genetics, 23, 
    566-579.

extra:
  recipe-maintainers:
    - lilyminium