schema_version: 1

context:
  version: 0.3.0
  conda_name: altimetry-downloader-aviso
  pypi_name: altimetry-downloader-aviso

package:
  name: ${{ conda_name }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/a/${{ pypi_name }}/altimetry_downloader_aviso-${{ version }}.tar.gz
  sha256: 8554069e4a81a3fecaba13cb595c0a6609f6da8f6f71e55dd696462c8306e20b

build:
  noarch: python
  number: 0
  script:
  # Install the generated package in the conda environment
    - python -m pip install . -vv

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
    - setuptools-scm
  run:
    - numpy
    - python >=${{ python_min }}
    - requests
    - typer
    - siphon
    - rich
    - files-collections >=1
    - pyyaml
    - pydantic

tests:
  # --- Import tests without optional packages installed
  - python:
      pip_check: true
      imports:
        - altimetry_downloader_aviso
      python_version:
        - ${{ python_min }}.*
  # --- Import tests with optional packages installed
  - script:
      - python -c "import altimetry_downloader_aviso"

about:
  summary: "Altimetry Downloader Aviso â€” Browse and download altimetry data from Aviso"
  license: Apache-2.0
  homepage: https://github.com/robin-cls/aviso
  repository: https://github.com/robin-cls/aviso
  license_file: LICENSE

extra:
  recipe-maintainers:
    - annesophie-cls
    - robin-cls
