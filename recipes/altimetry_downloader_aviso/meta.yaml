schema_version: 1

context:
  version: "0.2.2"

package:
  name: altimetry-downloader-aviso
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/a/altimetry-downloader-aviso/altimetry_downloader_aviso-${{ version }}.tar.gz
  sha256: 4d87c04853c4ff89e6995d2a2005f838916d721e583536d1618a24211bc09ba5

build:
  noarch: python
  number: 0
  script:
  # Install the generated package in the conda environment
    - python -m pip install . -vv

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
    - setuptools-scm
  run:
    - numpy
    - python >=${{ python_min }}
    - requests
    - typer
    - siphon
    - rich
    - files-collections
    - pyyaml
    - pydantic

tests:
  # --- Import tests without optional packages installed
  - python:
      pip_check: true
      imports:
        - altimetry_downloader_aviso
      python_version:
        - ${{ python_min }}.*
  # --- Import tests with optional packages installed
  - script:
      - python -c "import altimetry_downloader_aviso"
    requirements:
      run:
        - pyyaml

about:
  summary: "Altimetry Downloader Aviso â€” Browse and download altimetry data from Aviso"
  license: Apache-2.0
  homepage: https://github.com/robin-cls/aviso
  repository: https://github.com/robin-cls/aviso
  license_file: LICENSE

extra:
  recipe-maintainers:
    - annesophie-cls
    - robin-cls