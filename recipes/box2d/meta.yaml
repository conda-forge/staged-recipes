{% set version = "3.1.0" %}

package:
  name: box2d
  version: {{ version }}

source:
  url: https://github.com/erincatto/box2d/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 7fac19801485efb31ee3745b2284d9d4601f9e8138a3383a7b0df6d788ea5785

build:
  number: 0
  run_exports:
    - {{ pin_subpackage('box2d', max_pin='x.x') }}
  cmake: true

requirements:
  build:
    - cmake
    - make  # or ninja
    - {{ compiler('cxx') }}


test:
  commands:
    - test -f $PREFIX/lib/libbox2d.so       # [linux]
    - test -f $PREFIX/lib/libbox2d.dylib    # [osx]
    - if not exist %PREFIX%\\Library\\bin\\box2d.dll exit 1  # [win]

    - test -f $PREFIX/include/box2d/box2d.h  # [unix]
    - if not exist %PREFIX%\\Library\\include\\box2d\\box2d.h exit 1  # [win]

about:
  home: https://box2d.org
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: "Box2D is a 2D physics engine for games"
  description: |
    Box2D is a 2D physics engine for games. It supports collision detection,
    rigid body dynamics, joints, and more, and has been used in many game projects.

extra:
  recipe-maintainers:
    - DerThorsten