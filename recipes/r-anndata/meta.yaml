{% set version = '0.8.0' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-anndata
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/anndata_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/anndata/anndata_{{ version }}.tar.gz
  sha256: 4656521ae59ddad1387a2ffdcf5f37091d7c401603fcbc7b453b5517da392f35

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-assertthat
    - r-base
    - r-cli
    - r-lifecycle
    - r-matrix
    - r-r6
    - r-reticulate >=1.41
  run:
    - r-assertthat
    - r-base
    - r-cli
    - r-lifecycle
    - r-matrix
    - r-r6
    - r-reticulate >=1.41

test:
  commands:
    - $R -e "library('anndata')"           # [not win]
    - "\"%R%\" -e \"library('anndata')\""  # [win]

about:
  home: https://cran.r-project.org/package=anndata
  summary: "'anndata' for R"
  description: |
    A 'reticulate' wrapper for the Python package 'anndata'. Provides
    a scalable way of keeping track of data and learned annotations.
    Used to read from and write to the h5ad file format."
  license: MIT
  license_family: MIT
  license_file: LICENSE.md
  doc_url: https://anndata.dynverse.org/
  dev_url: https://github.com/dynverse/anndata

extra:
  recipe-maintainers:
    - ap--


# Type: Package
# Package: anndata
# Title: 'anndata' for R
# Version: 0.8.0
# Authors@R: 
#     c(person(given = "Philipp",
#              family = "Angerer",
#              role = "ccp",
#              email = "phil.angerer@gmail.com",
#              comment = c(ORCID = "0000-0002-0369-2888")),
#       person(given = "Alex",
#              family = "Wolf",
#              role = "ccp",
#              email = "f.alex.wolf@gmx.de",
#              comment = c(ORCID = "0000-0002-8760-7838")),
#       person(given = "Isaac",
#              family = "Virshup",
#              role = "ccp",
#              comment = c(ORCID = "0000-0002-1710-8945")),
#       person(given = "Sergei",
#              family = "Rybakov",
#              role = "ccp",
#              comment = c(ORCID = "0000-0002-4944-6586")),
#       person(given = "Robrecht",
#              family = "Cannoodt",
#              role = c("aut", "cre", "cph"),
#              email = "rcannood@gmail.com",
#              comment = c(ORCID = "0000-0003-3641-729X")))
# Description: A 'reticulate' wrapper for the Python package 'anndata'.
#     Provides a scalable way of keeping track of data and learned
#     annotations.  Used to read from and write to the h5ad file format.
# License: MIT + file LICENSE
# URL: https://anndata.dynverse.org, https://github.com/dynverse/anndata
# BugReports: https://github.com/dynverse/anndata/issues
# Depends: R (>= 3.5.0)
# Imports: assertthat, cli, lifecycle, Matrix, methods, R6, reticulate
#         (>= 1.41)
# Suggests: stats, testthat, knitr, rmarkdown
# Encoding: UTF-8
# RoxygenNote: 7.3.2
# Config/reticulate: list( packages = list( list(package = "anndata") ) )
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2025-05-27 14:03:22 UTC; rcannood
# Author: Philipp Angerer [ccp] (ORCID: <https://orcid.org/0000-0002-0369-2888>),
#   Alex Wolf [ccp] (ORCID: <https://orcid.org/0000-0002-8760-7838>),
#   Isaac Virshup [ccp] (ORCID: <https://orcid.org/0000-0002-1710-8945>),
#   Sergei Rybakov [ccp] (ORCID: <https://orcid.org/0000-0002-4944-6586>),
#   Robrecht Cannoodt [aut, cre, cph] (ORCID:
#     <https://orcid.org/0000-0003-3641-729X>)
# Maintainer: Robrecht Cannoodt <rcannood@gmail.com>
# Repository: CRAN
# Date/Publication: 2025-05-27 14:30:02 UTC
