context:
  name: refl1d
  version: 1.0.0

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/refl1d-{{ version }}rc0.tar.gz
  # url: https://github.com/reflectometry/refl1d/archive/v${{ version }}.tar.gz
  sha256: c3a7875ac2bb712d6b066689602a2b9aa88c0ccf2e2477aa55db4f3fbd4d2b18

build:
  number: 0
  script: ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  # python:
  #   entry_points:
  #     - refl1d=refl1d.main:cli
  #     - refl1d_gui=refl1d.main:gui
  noarch: python

requirements:
  host:
    - python
    - pip
    - setuptools
  run:
    - python
    - bumps >=0.7.16
    - numpy
    - scipy
    - matplotlib-base
    - periodictable
    - numba
    - orsopy

tests:
  - python:
      imports:
        - refl1d
      pip_check: true
  - requirements:
      run:
        - pip
    # script:
    #   - refl1d -?
    #   - refl1d_gui -?

about:
  license: BSD-3-Clause
  license_file: LICENSE.txt
  summary: "Refl1D is a program for analyzing 1D reflectometry measurements made with X-ray and neutron beamlines."
  homepage: http://github.com/reflectometry/refl1d

extra:
  recipe-maintainers:
    - MridulS
    - bmaranville
    - glass-ships
