From 6d2dbf2bac5124ffe5cadb13305c00cc20cbaa77 Mon Sep 17 00:00:00 2001
From: rd235 <rd235@users.noreply.github.com>
Date: Wed, 15 Jan 2014 11:18:47 +0000
Subject: [PATCH 17/62] allow pipes on stdin for daemonized switches

---
 src/kvde_switch/consmgmt.c | 2 +-
 src/vde_switch/consmgmt.c  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/kvde_switch/consmgmt.c b/src/kvde_switch/consmgmt.c
index baf8df3e0..0cb0c907b 100644
--- a/src/kvde_switch/consmgmt.c
+++ b/src/kvde_switch/consmgmt.c
@@ -567,7 +567,7 @@ static void init(void)
 	}
 	/* add stdin (if tty), connect and data fds to the set of fds we wait for
 	 *    * input */
-	if(isatty(0) && !daemonize)
+	if(!daemonize)
 	{
 		console_type=add_type(&swmi,0);
 		add_fd(0,console_type,NULL);
diff --git a/src/vde_switch/consmgmt.c b/src/vde_switch/consmgmt.c
index f2e76c18e..dba299223 100644
--- a/src/vde_switch/consmgmt.c
+++ b/src/vde_switch/consmgmt.c
@@ -570,7 +570,7 @@ static void init(void)
 	}
 	/* add stdin (if tty), connect and data fds to the set of fds we wait for
 	 *    * input */
-	if(isatty(0) && !daemonize)
+	if(!daemonize)
 	{
 		console_type=add_type(&swmi,0);
 		add_fd(0,console_type,NULL);
-- 
2.35.0

