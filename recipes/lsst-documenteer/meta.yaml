{% set name = "documenteer" %}  {# PyPI name #}
{% set version = "0.5.6" %}

package:
  name: "lsst-documenteer"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: "06fbceb7324ed3b00f012b90b2da0e0aff9faab7957d6d7c5f09cc5a3069c9cf"

build:
  noarch: python
  number: 0
  entry_points:
    - stack-docs = documenteer.stackdocs.stackcli:main
    - package-docs = documenteer.stackdocs.packagecli:main
    - build-stack-docs = documenteer.stackdocs.build:run_build_cli
    - refresh-lsst-bib = documenteer.bin.refreshlsstbib:run
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv "

requirements:
  host:
    - python >=3.0
    - pip
    - setuptools
    - setuptools_scm
  run:
    - python >=3.6
    - sphinx >=1.6
    - click
    - gitpython
    - pyyaml
    - requests
    - sphinx-prompt
    - pybtex

test:
  imports:
    - documenteer
    - documenteer.bin
    - documenteer.sphinxconfig
    - documenteer.sphinxext
    - documenteer.sphinxext.lssttasks
    - documenteer.stackdocs

about:
  home: "https://github.com/lsst-sqre/documenteer"
  license: "MIT"
  license_family: "MIT"
  license_file: "LICENSE"
  summary: "Documenteer provides tools, extensions, and configurations for Vera Rubin Observatory Legacy Survey of Space and Time (LSST) Sphinx documentation projects."
  doc_url: "https://documenteer.lsst.io/"
  dev_url: "https://github.com/lsst-sqre/documenteer"

extra:
  recipe-maintainers:
    - jonathansick
