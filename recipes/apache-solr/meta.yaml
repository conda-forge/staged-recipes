{% set name = "apache-solr" %}
{% set version = "9.7.0" %}
package:
  name: {{ name | lower }}
  version: {{ version }}  # Use the specific version you want to package

source:
  url: https://downloads.apache.org/solr/solr/${version}/solr-${version}.tgz
  sha256: 38548b86fa4e3c87883875952da124bf7d742cb8f7b25d37a1176833588e8552

build:
  number: 0
  noarch: generic

requirements:
  build:
    - unzip  # adjust depending on Solr's build requirements
  run:
    - openjdk >=11  # Solr requires Java to run

test:
  commands:
    - solr start -e cloud -noprompt  # [unix]
    - solr stop -all  # [unix]
    - solr.cmd start -e cloud -noprompt  # [win]
    - solr.cmd stop -all  # [win]

about:
  home: https://solr.apache.org/
  license: Apache-2.0
  summary: > Solr is highly reliable, scalable and fault tolerant, providing
             distributed indexing, replication and load-balanced querying,
             automated failover and recovery, centralized configuration and
             more.

extra:
  recipe-maintainers:
    - antarcticrainforest
    - Karinon
    - mo-dkrz
