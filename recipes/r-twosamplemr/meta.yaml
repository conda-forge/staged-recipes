{% set version = "0.6.6" %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-twosamplemr
  version: {{ version|replace("-", "_") }}

source:
  url: https://mrcieu.r-universe.dev/src/contrib/TwoSampleMR_{{ version }}.tar.gz
  ## note these are not stable and get periodically rebuilt: see https://github.com/r-universe-org/help/discussions/262
  ## an official md5 checksum can be retrieved from: https://mrcieu.r-universe.dev/api/packages
  md5: 33c32b7bf5ece797a2be0aceaeebd818

build:
  merge_build_host: true  # [win]
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
    - {{ posix }}zip               # [win]
  host:
    - r-base
    - r-cowplot
    - r-data.table
    - r-dplyr
    - r-ggplot2 >=3.4.0
    - r-glmnet
    - r-gridextra
    - r-gtable
    - r-ieugwasr >=1.0.1
    - r-jsonlite
    - r-knitr
    - r-lattice
    - r-magrittr
    - r-mass
    - r-meta
    - r-mr.raps
    - r-mrmix
    - r-mrpresso
    - r-pbapply
    - r-plyr
    - r-psych
    - r-radialmr
    - r-reshape2
    - r-rmarkdown
  run:
    - r-base
    - {{ native }}gcc-libs         # [win]
    - r-cowplot
    - r-data.table
    - r-dplyr
    - r-ggplot2 >=3.4.0
    - r-glmnet
    - r-gridextra
    - r-gtable
    - r-ieugwasr >=1.0.1
    - r-jsonlite
    - r-knitr
    - r-lattice
    - r-magrittr
    - r-mass
    - r-meta
    - r-mr.raps
    - r-mrmix
    - r-mrpresso
    - r-pbapply
    - r-plyr
    - r-psych
    - r-radialmr
    - r-reshape2
    - r-rmarkdown

test:
  commands:
    - $R -e "library('TwoSampleMR')"           # [not win]
    - "\"%R%\" -e \"library('TwoSampleMR')\""  # [win]

about:
  home: https://mrcieu.github.io/TwoSampleMR/
  dev_url: https://github.com/MRCIEU/TwoSampleMR
  license: MIT
  summary: A package for performing Mendelian randomization using GWAS
    summary data. It uses the IEU GWAS database
    <https://gwas.mrcieu.ac.uk/> to automatically obtain data, and a wide
    range of methods to run the analysis. You can use the MR-Base web app
    <https://www.mrbase.org/> to try out a limited range of the
    functionality in this package, but for any serious work we strongly
    recommend using this R package.
  license_family: MIT
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/MIT
    - LICENSE

extra:
  recipe-maintainers:
    - conda-forge/r

## Package: TwoSampleMR
## Title: Two Sample MR Functions and Interface to MR Base Database
## Version: 0.6.6
## Authors@R: c(
##     person("Gibran", "Hemani", , "g.hemani@bristol.ac.uk", role = c("aut", "cre"),
##            comment = c(ORCID = "0000-0003-0920-1055")),
##     person("Philip", "Haycock", , "philip.haycock@bristol.ac.uk", role = "aut",
##            comment = c(ORCID = "0000-0001-5001-3350")),
##     person("Jie", "Zheng", , "Jie.Zheng@bristol.ac.uk", role = "aut",
##            comment = c(ORCID = "0000-0002-6623-6839")),
##     person("Tom", "Gaunt", , "Tom.Gaunt@bristol.ac.uk", role = "aut",
##            comment = c(ORCID = "0000-0003-0924-3247")),
##     person("Ben", "Elsworth", , "Ben.Elsworth@bristol.ac.uk", role = "aut",
##            comment = c(ORCID = "0000-0001-7328-4233")),
##     person("Tom", "Palmer", , "tom.palmer@bristol.ac.uk", role = "aut",
##            comment = c(ORCID = "0000-0003-4655-4511"))
##   )
## Description: A package for performing Mendelian randomization using GWAS
##     summary data. It uses the IEU GWAS database
##     <https://gwas.mrcieu.ac.uk/> to automatically obtain data, and a wide
##     range of methods to run the analysis. You can use the MR-Base web app
##     <https://www.mrbase.org/> to try out a limited range of the
##     functionality in this package, but for any serious work we strongly
##     recommend using this R package.
## License: MIT + file LICENSE
## URL: https://github.com/MRCIEU/TwoSampleMR,
##     https://mrcieu.github.io/TwoSampleMR/
## BugReports: https://github.com/MRCIEU/TwoSampleMR/issues/
## Depends:
##     R (>= 4.0.0)
## Imports:
##     cowplot,
##     data.table,
##     dplyr,
##     ggplot2 (>= 3.4.0),
##     glmnet,
##     gridExtra,
##     gtable,
##     ieugwasr (>= 1.0.1),
##     jsonlite,
##     knitr,
##     lattice,
##     magrittr,
##     MASS,
##     meta,
##     mr.raps,
##     MRMix,
##     MRPRESSO,
##     pbapply,
##     plyr,
##     psych,
##     RadialMR,
##     reshape2,
##     rmarkdown
## Suggests: 
##     Cairo,
##     car,
##     markdown,
##     MendelianRandomization,
##     MRInstruments,
##     randomForest,
##     testthat,
##     tidyr
## VignetteBuilder: 
##     knitr
## Remotes:
##     gqi/MRMix,
##     mrcieu/MRInstruments,
##     MRPRESSO=rondolab/MR-PRESSO,
##     WSpiller/RadialMR
## Encoding: UTF-8
## Roxygen: list(markdown = TRUE)
## RoxygenNote: 7.3.2
