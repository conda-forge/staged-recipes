{% set name = "diffpy.distanceprinter" %}
{% set version = "1.0.0rc0" %}
{% set python_min = "3.11" %}

kage:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/d/diffpy_distanceprinter/diffpy_distanceprinter-{{ version }}.tar.gz
  sha256: 0714a8ec01f2da95e0a38ae5587adda45313f37d66d5740c4635e0593764e7a7

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .
  entry_points:
    - diffpy-distanceprinter = diffpy.distanceprinter.distanceprinter_app:main


requirements:
  host:
    - python {{ python_min }}
    - setuptools
    - setuptools-git-versioning >=2.0
    - pip

  run:
    - python >={{ python_min }}
    - numpy
    - diffpy.pdffit2
    - diffpy.structure

test:
  requires:
    - python {{ python_min }}
    - pip
    - pytest
    - flake8
    - codecov
    - coverage
    - pytest-cov
    - pytest-env

  source_files:
    - tests

  commands:
    - pip check
    - pytest

about:
  home: https://github.com/diffpy.distanceprinter/diffpy.distanceprinter/
  summary: Distance Printer, calculate the inter atomic distances. Part of xPDFsuite.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.rst
  description: |
    Used by diffpy.xpdfsuite. This suite of algorithms and software, named xPDFsuite, is an easy to use graphical user interface (GUI) to a number of Diffpy programs. It provides a raw-data-to-modelled-PDF solution for X-ray PDFs. It is specially convenient for handling high throughput data with many (hundreds to thousands) of datatsets, such as come from modern synchrotron experiments with 2D detectors. It is equally useful for data from laboratory x-rays. The software runs on laptops and workstations running windows, mac OSX and linux.
  doc_url: http://diffpy.distanceprinter.github.io/diffpy.distanceprinter/
  dev_url: https://github.com/diffpy.distanceprinter/diffpy.distanceprinter/

extra:
  recipe-maintainers:
    - sbillinge
    - zmx27
    - stevenhua0320
