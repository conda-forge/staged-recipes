{% set name = "letsql" %}
{% set version = "0.1.13" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/letsql-{{ version }}.tar.gz
  sha256: 2460368993336a0028130ed19f62b4102bd2e8ff791f182eee4a6a9af589c61b

build:
  skip: true
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python >=3.10
    - maturin >=1.2,<2.0
    - pip
  run:
    - python >=3.10
    - ibis-framework >=9.4.0,<10
    - dask-core ==2025.1.0
    - attrs >=24.0.0,<26
    - connectorx >=0.3.2,<0.5.0
    - psycopg2-binary >=2.9.9,<3
    - sqlalchemy >=2.0.29,<3
    - pyarrow >=13.0.0,<20
    - structlog >=24.2.0,<26
    - pytest-mock >=3.14.0,<4
    - adbc-driver-postgresql >=1.2.0,<2
    - pandas >=1.5.3,<3
    - pyarrow-hotfix >=0.4,<1
    - geoarrow-types >=0.2,<1
    - pythran >=0.17.0

test:
  imports:
    - letsql
  commands:
    - pip check
  requires:
    - pip

about:
  summary: Data processing library built on top of Ibis and DataFusion to write multi-engine data workflows.
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - mesejo
