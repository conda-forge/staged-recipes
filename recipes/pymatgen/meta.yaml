{% set name = "pymatgen" %}
{% set version = "2018.11.6" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: abe7f606d1dcd35927f3cabc2031db6f5cfbef76ae744ee58f48c169f399061a

build:
  number: 0
  noarch: python
  entry_points:
    - pmg = pymatgen.cli.pmg:main
    - feff_input_generation = pymatgen.cli.feff_input_generation:main
    - feff_plot_cross_section = pymatgen.cli.feff_plot_cross_section:main
    - feff_plot_dos = pymatgen.cli.feff_plot_dos:main
    - gaussian_analyzer = pymatgen.cli.gaussian_analyzer:main
    - get_environment = pymatgen.cli.get_environment:main
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vvv "

requirements:
  host:
    - matplotlib >=1.5
    - monty >=0.9.6
    - networkx >=2.1
    - numpy >=1.14.3
    - palettable >=2.1.1
    - pandas
    - pip
    - pydispatcher >=2.0.5
    - python
    - requests
    - ruamel.yaml >=0.15.6
    - scipy >=1.0.1
    - six
    - spglib >=1.9.9.44
    - sympy
    - tabulate
  run:
    - matplotlib >=1.5
    - monty >=0.9.6
    - networkx >=2.1
    - numpy >=1.14.3
    - palettable >=2.1.1
    - pandas
    - pydispatcher >=2.0.5
    - python
    - requests
    - ruamel.yaml >=0.15.6
    - scipy >=1.0.1
    - six
    - spglib >=1.9.9.44
    - sympy
    - tabulate

test:
  imports:
    - pymatgen
    - pymatgen.alchemy
    - pymatgen.analysis
    - pymatgen.analysis.chemenv
    - pymatgen.analysis.chemenv.coordination_environments
    - pymatgen.analysis.chemenv.coordination_environments.coordination_geometries_files
    - pymatgen.analysis.chemenv.coordination_environments.strategy_files
    - pymatgen.analysis.chemenv.utils
    - pymatgen.analysis.cost
    - pymatgen.analysis.defects
    - pymatgen.analysis.diffraction
    - pymatgen.analysis.elasticity
    - pymatgen.analysis.ferroelectricity
    - pymatgen.analysis.gb
    - pymatgen.analysis.hhi
    - pymatgen.analysis.magnetism
    - pymatgen.analysis.structure_prediction
    - pymatgen.analysis.xas
    - pymatgen.apps
    - pymatgen.apps.battery
    - pymatgen.apps.borg
    - pymatgen.cli
    - pymatgen.command_line
    - pymatgen.core
    - pymatgen.electronic_structure
    - pymatgen.entries
    - pymatgen.ext
    - pymatgen.io
    - pymatgen.io.abinit
    - pymatgen.io.exciting
    - pymatgen.io.feff
    - pymatgen.io.lammps
    - pymatgen.io.qchem
    - pymatgen.io.vasp
    - pymatgen.optimization
    - pymatgen.phonon
    - pymatgen.symmetry
    - pymatgen.transformations
    - pymatgen.util
    - pymatgen.vis
  commands:
    - pmg --help
    - feff_input_generation --help
    - feff_plot_cross_section --help
    - feff_plot_dos --help
    - gaussian_analyzer --help
    - get_environment --help

about:
  home: http://www.pymatgen.org
  license: MIT
  license_family: MIT
  license_file: '{{ environ["RECIPE_DIR"] }}/LICENSE.rst'
  summary: Python Materials Genomics is a robust materials analysis code that defines core object representations for structures and molecules with support for many electronic structure codes.
  doc_url: http://pymatgen.org/
  dev_url: https://github.com/materialsproject/pymatgen

extra:
  recipe-maintainers:
    - npavlovikj
