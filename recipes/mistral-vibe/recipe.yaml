context:
  version: "2.0.2"

package:
  name: mistral-vibe
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/m/mistral-vibe/mistral_vibe-${{ version }}.tar.gz
  sha256: 31c7d2fa6ea69632c0d70c16dc4c800509fa01e08f2426b86decacd329ed2285

build:
  noarch: python
  python:
    entry_points:
      - vibe=vibe.cli.entrypoint:main
      - vibe-acp=vibe.acp.entrypoint:main
  script: python -m pip install . -vv
  number: 0

requirements:
  host:
    - python >=${{ python_min }}
    - pip
    - hatchling
  run:
    - python ${{ python_min }}.*
    - agent-client-protocol ==0.7.1
    - anyio >=4.12.0
    - httpx >=0.28.1
    - mcp >=1.14.0
    - mistralai ==1.9.11
    - pexpect >=4.9.0
    - packaging >=24.1
    - pydantic >=2.12.4
    - pydantic-settings >=2.12.0
    - pyyaml >=6.0.0
    - python-dotenv >=1.0.0
    - rich >=14.0.0
    - textual >=1.0.0
    - tomli-w >=1.2.0
    - watchfiles >=1.1.1
    - pyperclip >=1.11.0
    - textual-speedups >=0.2.1
    - tree-sitter >=0.25.2
    - tree-sitter-bash >=0.25.1

tests:
  - python:
      imports:
      - vibe
      pip_check: true
      python_version: ${{ python_min }}.*
  - script:
      - vibe --version
      - vibe-acp --version

about:
  homepage: https://github.com/mistralai/mistral-vibe
  summary: Minimal CLI coding agent by Mistral
  description: |
    Mistral Vibe is a command-line coding assistant powered by Mistral's models. It provides a conversational interface to your codebase, allowing you to use natural language to explore, modify, and interact with your projects through a powerful set of tools.
  license: Apache-2.0
  license_file: LICENSE
  documentation: https://github.com/mistralai/mistral-vibe
  repository: https://github.com/mistralai/mistral-vibe

extra:
  recipe-maintainers:
    - pavelzw
