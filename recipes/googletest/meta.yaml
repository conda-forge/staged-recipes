{% set version = "1.7.0" %}
{% if linux %}
    {% set libext = ".so" %}
{% else %}
    {% set libext = ".dylib" %}
{% endif %}

package:
  name: googletest
  version: {{ version }}

source:
  fn: release-{{ version }}.tar.gz
  url: https://github.com/google/googletest/archive/release-{{ version }}.tar.gz
  sha256: f73a6546fdf9fce9ff93a5015e0333a8af3062a152a9ad6bcb772c96687016cc

build:
  number: 0
  skip: true  # [win]

requirements:
  build:
    - python <3  # tests are Python 2k only :(
    - cmake

test:
  commands:
    - test -f "${PREFIX}/lib/libgtest{{ libext }}"
    - test -f "${PREFIX}/lib/libgtest_main{{ libext }}"

about:
  home: https://github.com/google/googletest
  license: BSD 3-clause
  summary: "Google C++ Testing Framework"

extra:
  recipe-maintainers:
    - scopatz
