context:
    version: 2.3.0
    python_min: 3.10

package:
    name: med-imagetools
    version: ${{ version }}

source:
    - url: https://pypi.org/packages/source/m/med-imagetools/med_imagetools-${{ version }}.tar.gz
      sha256: a27da160b058c86c109ae6d34a01317040bb250f72de46c9c78a7076816936cc

build:
    script: ${{ PYTHON }} -m pip install .
    python:
        entry_points:
            - imgtools = imgtools.cli.__main__:cli
    noarch: python
    number: 0

requirements:
    host:
        - python ${{ python_min }}.*
        - hatchling
        - pip
    run:
        - python >=${{ python_min }}
        - click <9,>=8.1
        - dill <1,>=0.3.8
        - dpath >=2.2.0
        - fasteners ==0.19
        - "highdicom "
        - joblib <2,>=1.4.2
        - matplotlib-base <4,>=3.8.4
        - numpy <3
        - pandas <3
        - pydantic-settings <3,>=2.8.1
        - pydicom >=2.4.4
        - pyyaml <7,>=6.0
        - rich >=13.9.4
        - scikit-image <1,>=0.23.2
        - simpleitk <3,>=2.4.0
        - structlog <26,>=25.0
        - tqdm <5,>=4.66.4

tests:
    - python:
          python_version: ${{ python_min }}.*
          imports:
              - imgtools
          pip_check: true

about:
    summary: "Med-Imagetools: Transparent and Reproducible Medical Image Processing Pipelines in Python"
    license_file: LICENSE
    license: MIT
    homepage: "https://github.com/bhklab/med-imagetools"
    documentation: "https://bhklab.github.io/med-imagetools/"
    repository: "https://github.com/bhklab/med-imagetools.git"

extra:
    recipe-maintainers:
        - jjjermiah
