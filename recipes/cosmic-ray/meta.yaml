{% set name = "cosmic_ray" %}
{% set version = "0.1.2" %}
{% set hash_type = "sha256" %}
{% set hash = "7b1dc2e5169a1564792b80063a7229c8a1534727e87fc23cbfce29bb7c892fe1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  {{ hash_type }}: {{ hash }}

build:
  number: 0
  skip: True  # [py27]
  script: python setup.py install --single-version-externally-managed --record=record.txt

requirements:
  build:
    - python
    - setuptools
  run:
    - astunparse
    - python-decorator
    - docopt_subcommands
    - nose
    - pathlib
    - pytest >=3.0
    - python
    - stevedore
    - tinydb >=3.2.1
    - transducer  # pending
    - celery <4
test:
  imports:
    - cosmic_ray

about:
  home: https://github.com/sixty-north/cosmic-ray
  license_family: MIT
  license: MIT
  license_file: LICENSE.txt
  summary: Cosmic Ray is a mutation testing tool for Python.
  description: |
    At this time Cosmic Ray is young and incomplete. It doesn't support all of
    the mutations it should, its output format is crude, it only supports some
    forms of test discovery, it may fall over on exotic modules...the list goes
    on and on. Still, for the adventurous it does work. Hopefully things wil
    improve fairly rapidly.
  dev_url: https://github.com/sixty-north/cosmic-ray
  doc_url: http://cosmic-ray.readthedocs.io

extra:
  recipe-maintainers:
    - goanpeca
