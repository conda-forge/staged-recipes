{% set name = "cfn-lint" %}
{% set version = "0.20.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: fb1c33e5bf71eaf6320b50e21fee777c0939f96f76dc88487aface525538a1a8

build:
  number: 0
  noarch: python
  entry_points:
    - cfn-lint = cfnlint.__main__:main
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv "

requirements:
  host:
    - pip
    - python
  run:
    - aws-sam-translator >=1.10.0
    - jsonpatch
    - jsonschema >=2.6,<3
    - pathlib2 >=2.3.0
    - python
    - pyyaml
    - requests >=2.15.0
    - six >=1.11,<2

test:
  imports:
    - cfnlint
    - cfnlint.decode
    - cfnlint.formatters
    - cfnlint.rules
    - cfnlint.rules.conditions
    - cfnlint.rules.functions
    - cfnlint.rules.mappings
    - cfnlint.rules.metadata
    - cfnlint.rules.outputs
    - cfnlint.rules.parameters
    - cfnlint.rules.resources
    - cfnlint.rules.resources.cloudfront
    - cfnlint.rules.resources.codepipeline
    - cfnlint.rules.resources.dynamodb
    - cfnlint.rules.resources.ectwo
    - cfnlint.rules.resources.elasticache
    - cfnlint.rules.resources.elb
    - cfnlint.rules.resources.events
    - cfnlint.rules.resources.iam
    - cfnlint.rules.resources.lmbd
    - cfnlint.rules.resources.properties
    - cfnlint.rules.resources.rds
    - cfnlint.rules.resources.route53
    - cfnlint.rules.resources.stepfunctions
    - cfnlint.rules.resources.updatepolicy
    - cfnlint.rules.templates
  commands:
    - cfn-lint --help

about:
  home: https://github.com/aws-cloudformation/cfn-python-lint
  license: MIT-0
  license_family: MIT
  license_file: LICENSE
  summary: checks cloudformation for practices and behaviour that could potentially be improved
  dev_url: https://github.com/aws-cloudformation/cfn-python-lint

extra:
  recipe-maintainers:
    - mariusvniekerk