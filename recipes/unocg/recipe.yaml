context:
  version: "1.0.0"
  python_min: 3.11

package:
  name: unocg
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/u/unocg/unocg-${{ version }}.tar.gz
  sha256: 59bf9fc09857f03c63f31d01b05bda782a88b65a553b366f3c18071a71377c0d

build:
  noarch: python
  script: python -m pip install . -vv
  number: 0

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
  run:
    - python >=${{ python_min }}
    - numpy ~=2.4.1
    - h5py ~=3.15.1
    - matplotlib-base ~=3.10.8
    - scipy ~=1.17.0
    - pytorch ==2.10.0
    - tqdm ~=4.67.1
    - torchvision ~=0.25.0
    - jupyterlab ~=4.5.3
    - pyvista ~=0.46.5
    # through pyvista[jupyter]
    - ipywidgets
    - jupyter-server-proxy
    - nest-asyncio2
    - trame-client >=2.12.7
    - trame-server >=2.11.7,!= 3.7.*,!= 3.8.0
    - trame-vtk >=2.5.8
    - trame-vuetify >=2.3.1
    - trame >=2.5.2


tests:
  - python:
      imports:
        - unocg
      pip_check: true
      python_version: ${{ python_min }}.*

about:
  homepage: https://github.com/DataAnalyticsEngineering/UNOCG
  summary: Accelerating Conjugate Gradient Solvers using Unitary Neural Operators.
  description: |
    UNO-CG (unocg) is a Python package that provides efficient implementations of solvers for homogenization problems, or parametric Partial Differential Equations (PDEs) in general. It includes an implementation of the Fourier-Accelerated Nodal Solvers (FANS) as a special case.

    The focus is on the following features:

    support for common homogenization problems in computational mechanics, including thermal problems and mechanical problems
    support for common boundary conditions on the RVE (periodic, Dirichlet, Neumann, and combinations)
    completely based on PyTorch and hence supports GPU acceleration using NVIDIA CUDA or AMD ROCm, parallelization on CPUs using OpenMP, and automatic differentiation
    solvers are implemented as iterative solvers in a matrix-free way that are accelerated by machine-learned preconditioners
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - claudiushaag
    - juliusgh
