{% set name = "openscad" %}
{% set version = "2021.01" %}

https://github.com/openscad/openscad/releases/download/openscad-2021.01/openscad-2021.01.src.tar.gz
package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/releases/tag/{{ name }}-{{ version }}.src.tar.gz
  sha256: 2b3a0c466fb4a1014ea131c2b8ea7c519f9278eba73d6fcb361b7bdb4fd494e9

build:
  number: 0

requirements:
  build:
    - {{ compiler("cxx") }}
    - {{ cdt('mesa-libgl-devel') }}      # [linux]
    - {{ cdt('mesa-dri-drivers') }}      # [linux]
    - {{ cdt('mesa-libegl-devel') }}     # [linux]
    - {{ cdt('libselinux') }}            # [linux]
    - {{ cdt('libxdamage') }}            # [linux]
    - {{ cdt('libxfixes') }}             # [linux]
    - {{ cdt('libxxf86vm') }}            # [linux]
    - {{ cdt('libxcb') }}                # [linux]
    - {{ cdt('libxext') }}               # [linux]
    - {{ cdt('xorg-x11-server-xvfb') }}  # [linux]
    - {{ cdt('libxau') }}                # [linux]
    - {{ cdt('libxi-devel') }}           # [linux]
    - cmake
    - ninja
  host:
    - qt
    - qscintilla2
    - eigen
    - gmp
    - mpfr
    - boost
    - freetype
    - cgal
    - glib
    - libglib
    - harfbuzz
    - libzip
    - bison
    - flex
    - pkg-config
    - double-conversion
    -

  run:
    - qt
    - qscintilla2

about:
  home: http://openscad.org
  summary: 'OpenSCAD is software for creating solid 3D CAD objects.'
  description: |
    OpenSCAD is software for creating solid 3D CAD models. 
    It is free software and available for Linux/UNIX, Windows and Mac OS X. 
    Unlike most free software for creating 3D models (such as Blender) 
    it does not focus on the artistic aspects of 3D modelling but instead on 
    the CAD aspects. Thus it might be the application you are looking for 
    when you are planning to create 3D models of machine parts but pretty 
    sure is not what you are looking for when you are more interested in 
    creating computer-animated movies.
  license: GPL2
  license_family: GPL
  license_file: COPYING
  # The doc_url and dev_url are optional.
  doc_url: http://openscad.org/documentation.html
  dev_url: https://github.com/openscad/openscad/

extra:
  recipe-maintainers:
    - looooo
