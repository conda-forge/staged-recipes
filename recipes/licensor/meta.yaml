{% set name = "licensor" %}
{% set version = "0.4.3" %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  - url: https://github.com/jpvillaisaza/licensor/archive/refs/tags/v{{ version }}.tar.gz
    sha256: 03bb7e621d43f88c3e4630b46a1bc80b71afe4f269cec2331cdca4c81bbce1bb


build:
  number: 0

  missing_dso_whitelist:
    - /usr/lib/libiconv.2.dylib  # [osx]

requirements:
  build:
    - stack  # [not linux]
    - {{ native }}binutils

  host:
    - gmp  # [osx]

  run:
    - gmp  # [osx]
    - stack  # [not linux]

test:
  commands:
    - licensor --version | grep {{ version }}

about:
  home: https://github.com/jpvillaisaza/licensor
  license: MIT
  license_family: MIT
  license_file:
      - LICENSE.md
      - DEPENDENCY_LICENCES.md
  summary: A license compatibility helper for Haskell

extra:
  recipe-maintainers:
    - janjagusch
