{% set version = "0.0.0.20231103.695.d6860c4" %}
{% set gitrev = "d6860c477c99f1fce9e28eb206891af3c0e1a1d7" %}
{% set sha256 = "c195420a4dafb64ea25f0ef8af894fb0d866a41406d595af6d1e68796f492b53" %}

package:
  name: clog
  version: {{ version }}

source:
  url: https://github.com/pytorch/cpuinfo/archive/{{ gitrev }}.tar.gz
  sha256: {{ sha256 }}

build:
  # You can probably build this for windows
  skip: true  # [win]
  number: 0
  # This is meant to be a static library
  # It is designed to print statemnts for debugging purposes in high
  # performance code
  # Making it a shared library seems like it would have performance implications

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make  # [unix]

test:
  commands:
    - test -f ${PREFIX}/lib/libclog.a    # [unix]
    - test -f ${PREFIX}/include/clog.h   # [unix]

about:
  home: https://github.com/pytorch/cpuinfo/tree/master/deps/clog
  summary: C-style (a-la printf) logging library
  description: |
    C-style library for logging errors, warnings, information notes, and debug
    information.
  license: BSD-2-Clause
  license_family: BSD
  license_file: deps/clog/LICENSE
  dev_url: https://github.com/pytorch/cpuinfo

extra:
  recipe-maintainers:
    - hmaarrfk
