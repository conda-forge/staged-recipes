{% set name = "snakemake" %}
{% set version = "5.3.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 612a16f2bba580c47183e4f752ed40b034852541ca3e96e480d01fb30ad9570c

build:
  number: 0
  noarch: python


requirements:
  host:
    - python >= 3
  run:
    - python >=3
    - snakemake-minimal ={{ version }}
    # optional dependencies needed for the full experience
    - dropbox >=7.2.1
    - ftputil >=3.2
    - filechunkio >=1.6
    - pysftp >=0.2.8
    - psutil
    - aioeasywebdav
    - pandas
    - ratelimiter
    - configargparse
    - python-irodsclient
    - google-cloud-storage
    - boto3
    - jsonschema
    - jinja2
    - pygraphviz
    - networkx >=2.0

test:
  imports:
    - snakemake
  commands:
    - snakemake --version
    - snakemake --version | grep "{{ version }}"

about:
  home: https://snakemake.readthedocs.io
  license: MIT
  license_family: MIT
  license_file: LICENSE.md
  summary: Snakemake - a pythonic workflow system
  description: |
    Snakemake is a workflow management system that aims to reduce the complexity of creating workflows 
    by providing a fast and comfortable execution environment, together with a clean and readable 
    specification language in Python style. Snakemake workflows are essentially Python scripts extended 
    by declarative code to define rules. Rules describe how to create output files from input files.  
  doc_url: https://snakemake.readthedocs.io/en/stable/
  dev_url: https://bitbucket.org/snakemake/snakemake/

extra:
  identifiers:
    - doi:10.1093/bioinformatics/bts480
    - biotools:Snakemake
  recipe-maintainers:
    - melund
