context:
  version: "0.0.2"
  python_min: "3.9"

package:
  name: "api_dock"
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/a/api-dock/api_dock-${{ version }}.tar.gz
  sha256: 3a502a20f20d6c6bb2102e12849a824e06a5fe0248f576e5971a444b27b0edbb

build:
  number: 0
  noarch: python
  script: python -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - python-build
  run:
    - python >=${{ python_min }}
    - click
    - fastapi
    - uvicorn
    - pyyaml
    - httpx
    - pyarrow
    - duckdb

tests:
  - python:
      imports:
        - api_dock
      python_version: ${{ python_min }}.*

about:
  license: BSD-3-Clause
  license_file: LICENSE.md
  homepage: https://github.com/SchmidtDSE/api_dock
  documentation: https://github.com/SchmidtDSE/api_dock/wiki
  repository: https://github.com/SchmidtDSE/api_dock
  summary: A flexible API gateway that allows you to proxy requests to multiple remote APIs and Databases through a single endpoint.
  description: |
    API Dock is a flexible API gateway that allows you to proxy requests to multiple 
    remote APIs and Databases through a single endpoint. The proxy can easily be launched 
    as a FastAPI or Flask app, or integrated into any existing python based API.

    Features:

    - Multi-API Proxying: Route requests to different remote APIs based on configuration
    - SQL Database Support: Query Parquet files and databases using DuckDB via REST endpoints
    - Cloud Storage Support: Native support for S3, GCS, HTTPS, and local file paths
    - YAML Configuration: Simple, human-readable configuration files
    - Access Control: Define allowed/restricted routes per remote API
    - Version Support: Handle API versioning in URL paths
    - Flexibility: Quickly launch FastAPI or Flask apps, or easily integrate into any existing framework

extra:
  recipe-maintainers:
    - brookisme
