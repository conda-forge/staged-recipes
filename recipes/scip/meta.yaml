# Jinja variables help maintain the recipe as you'll update the version only here.
{% set version = "0.6.1" %}

package:
  name: scip
  version: {{ version }}

source:
  - if: linux and x86_64
    then:
      url: https://github.com/sourcegraph/scip/releases/download/v${{ version }}/scip-linux-amd64.tar.gz
      sha256: 198ad4abc8811696c4abb54641bb19b71d66e7c028c17c32236c090f0aefe64f
  - if: osx and x86_64
    then:
      url: https://github.com/sourcegraph/scip/releases/download/v${{ version }}/scip-darwin-amd64.tar.gz
      sha256: 1ad1433cc5db99607b168f593cb8ad4cd5f883512a9031d14f2316e37677da6b
  - if: osx and arm64
    then:
      url: https://github.com/sourcegraph/scip/releases/download/v${{ version }}/scip-darwin-arm64.tar.gz
      sha256: b14fbbff9d50dc8384cc96cb2dbd2e269eecd98a895e8a0312e6f45b2358a0bc
  - if: linux and aarch64
    then:
      url: https://github.com/sourcegraph/scip/releases/download/v${{ version }}/scip-linux-arm64.tar.gz
      sha256: ace458df964e9a4bb8d0b18f8a0763269f9768ea9f089393cfed9822c819dc5f

build:
  script: build.sh
  number: 0

test:
  commands:
    - scip --version
  package_contents:
    bin:
      - scip
    files:
      - share/doc/scip/LICENSE

about:
  home: https://github.com/sourcegraph/scip
  summary: SCIP Code Intelligence Protocol CLI
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE

extra:
  recipe-maintainers:
    - swenger
