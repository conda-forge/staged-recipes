package:
  name: libiges
  version: "1.0.1"

source:
  url: https://github.com/ssg-aero/libIGES/archive/refs/tags/v1.0.1.tar.gz
  sha256: 5A437B46826DE3FD076A245738C912DE260B6588FA6CE123D8983FC111FCA09B

build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - {{ stdlib("c") }}
    - ninja
    - cmake <4

test:
  commands:
    - test -f "$PREFIX/lib/libiges{{ SHLIB_EXT }}"  # [unix]
    - test -d "$PREFIX/include/iges"  # [unix]
    - test -f "$PREFIX/include/iges/api/all_api_entities.h"  # [unix]
    - if not exist "%LIBRARY_BIN%\iges.dll" exit 1  # [win]
    - if not exist "%LIBRARY_LIB%\iges.lib" exit 1  # [win]
    - if not exist "%LIBRARY_INC%\iges\api\all_api_entities.h" exit 1  # [win]

about:
  home: https://github.com/ssg-aero/libIGES
  summary: Library for reading and writing IGES files
  license: LGPL-2.1-or-later
  license_file: LICENSE

extra:
  recipe-maintainers:
    - szebos
    - ssg-aero
