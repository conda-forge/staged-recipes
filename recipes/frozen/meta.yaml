{% set name = "frozen" %}
{% set version = "1.1.2dev" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  # url: https://github.com/serge-sans-paille/frozen/archive/refs/tags/{{ version }}.tar.gz
  url: https://github.com/notestaff/frozen/archive/refs/tags/v{{ version }}.tar.gz
  #sha256: f7c7075750e8fceeac081e9ef01944f221b36d9725beac8681cbd2838d26be45
  sha256: 58c99887c71ade5632d1116d6eebd9a178db1454d968ef86d4f325988dbd5075

build:
  noarch: generic
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - make
    - cmake >=3.14
  run:
    - {{ compiler('cxx') }}

test:
  commands:
    - test -f $PREFIX/include/frozen/set.h
    - test -f $PREFIX/include/frozen/string.h

about:
  home: https://github.com/serge-sans-paille/frozen
  summary: 'Header-only library that provides 0 cost initialization for immutable containers, fixed-size containers, and various algorithms.'
  description: |
    frozen provides: (1) immutable (a.k.a. frozen),
    constexpr-compatible versions of std::set, std::unordered_set,
    std::map and std::unordered_map; (2) fixed-capacity,
    constinit-compatible versions of std::map and std::unordered_map
    with immutable, compile-time selected keys mapped to mutable
    values; (3) 0-cost initialization version of std::search for frozen needles 
    using Boyer-Moore or Knuth-Morris-Pratt algorithms.
    The unordered_* containers are guaranteed perfect (a.k.a. no hash collision) 
    and the extra storage is linear with respect to the number of keys.
    Once initialized, the container keys cannot be updated, and in exchange, lookups are faster.
    And initialization is free when constexpr or constinit is used.
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE

extra:
  recipe-maintainers:
    - notestaff
