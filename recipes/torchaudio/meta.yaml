{% set version = "0.8.0" %}
{% set pytorch_version = "1.8.0" %}

package:
  name: torchaudio
  version: {{ version }}


source:
  git_url: https://github.com/pytorch/audio.git
  git_rev: v{{ version }}


build:
  number: 0
  skip: true  # [py>39 or py<36]
  skip: true  # [win]
  script: {{ PYTHON }} setup.py install --single-version-externally-managed --record=record.txt


requirements:
  build:
    - git
    - cmake
    - make
    - {{ compiler('cxx') }}
  host:
    - python
    - setuptools
    - pytorch ={{ pytorch_version }}
    - sox
  run:
    - python
    - pytorch ={{ pytorch_version }}


test:
  imports:
    - torchaudio
    - torchaudio.datasets
    - torchaudio.kaldi_io
    - torchaudio.sox_effects
    - torchaudio.transforms


about:
  home: https://github.com/pytorch/audio/
  summary: an audio library for PyTorch
  license: BSD-3-Clause
  license_file: LICENSE


extra:
  recipe-maintainers:
    - tyrius02
