{% set name = "torchaudio" %}
{% set version = "0.13.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/pytorch/audio/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 3a5c108a9ea31d0e6533a2cd6cbaf133efaefe4bdcb4b689183a33b991c95d12

build:
  script: {{ PYTHON }} setup.py install  # [linux]
  script: CC=clang CXX=clang++ {{ PYTHON }} setup.py install  # [osx]
  skip: True  # [win]
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - python
    - pip
  run:
    - python
    - pytorch

test:
  imports:
    - torchaudio
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/pytorch/audio
  summary: 'Data manipulation and transformation for audio signal processing, powered by PyTorch'
  description: |
    The aim of torchaudio is to apply PyTorch to the audio domain. 
    By supporting PyTorch, torchaudio follows the same philosophy of providing strong GPU acceleration, having a focus on trainable features through the autograd system, and having consistent style (tensor names and dimension names). 
    Therefore, it is primarily a machine learning library and not a general signal processing library. 
    The benefits of PyTorch can be seen in torchaudio through having all the computations be through PyTorch operations which makes it easy to use and feel like a natural extension.
  license: BSD-2-Clause
  license_file: LICENSE

extra:
  recipe-maintainers:
    - janjagusch
    - xhochy
