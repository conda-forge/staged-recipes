{% set name = "audio" %}
{% set version = "0.9.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/pytorch/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: da8665cf0644ed3cf7f2d2e0f95fc19ccb500500d23448b1d34904dfb99a1182

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
  host:
    - pytorch >=1.4.0
    - python >=3.6
    - pip
  run:
    - kaldi_io
    - numpy
    - python >=3.6

test:
  imports:
    - torchaudio

about:
  home: https://github.com/pytorch/audio
  license: BSD-2-Clause
  license_file: LICENSE
  summary: An audio library for PyTorch
  description: |
    The aim of torchaudio is to apply PyTorch to the audio domain. By supporting
     PyTorch, torchaudio follows the same philosophy of providing strong GPU
     acceleration, having a focus on trainable features through the autograd
     system, and having consistent style (tensor names and dimension names).
     Therefore, it is primarily a machine learning library and not a general
     signal processing library. The benefits of PyTorch can be seen in
     torchaudio through having all the computations be through PyTorch
     operations which makes it easy to use and feel like a natural extension.


extra:
  recipe-maintainers:
    - thewchan
