From 78d2eb20ca32fc8d9d5d9f6c5744cee8452edf48 Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Sat, 10 Jun 2023 00:36:55 +1100
Subject: [PATCH 1/2] don't rebuild libs we have already

---
 third_party/CMakeLists.txt | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

diff --git a/third_party/CMakeLists.txt b/third_party/CMakeLists.txt
index f2b82966..c13cb1e9 100644
--- a/third_party/CMakeLists.txt
+++ b/third_party/CMakeLists.txt
@@ -21,11 +21,9 @@ endif()
 # Decoder
 ################################################################################
 if (BUILD_CTC_DECODER)
-  add_subdirectory(zlib)
-  add_subdirectory(bzip2)
-  if (NOT MSVC)
-    add_subdirectory(lzma)
-  endif()
+  find_package(zlib REQUIRED CONFIG)
+  find_package(bzip2 REQUIRED CONFIG)
+  find_package(lzma REQUIRED CONFIG)
   add_subdirectory(kenlm)
   add_subdirectory(flashlight-text)
 endif()
