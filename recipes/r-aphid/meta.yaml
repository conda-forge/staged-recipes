{% set version = '1.3.5' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-aphid
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/aphid_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/aphid/aphid_{{ version }}.tar.gz
  sha256: b2311ad67b4381e2aa246bf6575d403b889b8a3538958b191114c0ce470c99df

build:
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ stdlib("c") }}
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-rcpp >=0.12.5
    - r-kmer >=1.0.0
    - r-openssl
  run:
    - r-base
    - r-rcpp >=0.12.5
    - r-kmer >=1.0.0
    - r-openssl

test:
  commands:
    - $R -e "library('aphid')"           # [not win]
    - "\"%R%\" -e \"library('aphid')\""  # [win]

about:
  home: https://github.com/shaunpwilkinson/aphid
  license: GPL-3.0-only
  summary: 'Designed for the development and application of hidden Markov models and profile
    HMMs for biological sequence analysis. Contains functions for multiple and pairwise
    sequence alignment, model construction and parameter optimization, file import/export,
    implementation of the forward, backward and Viterbi algorithms for conditional sequence
    probabilities, tree-based sequence weighting, and sequence simulation. Features
    a wide variety of potential applications including database searching, gene-finding
    and annotation, phylogenetic analysis and sequence classification. Based on the
    models and algorithms described in Durbin et al (1998, ISBN: 9780521629713).'
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - mhoban

# Package: aphid
# Type: Package
# Title: Analysis with Profile Hidden Markov Models
# Version: 1.3.5
# Authors@R: person("Shaun", "Wilkinson", email = "shaunpwilkinson@gmail.com", role = c("aut", "cre"))
# Author: Shaun Wilkinson [aut, cre]
# Maintainer: Shaun Wilkinson <shaunpwilkinson@gmail.com>
# Description: Designed for the development and application of hidden Markov models and profile HMMs for biological sequence analysis. Contains functions for multiple and pairwise sequence alignment, model construction and parameter optimization, file import/export, implementation of the forward, backward and Viterbi algorithms for conditional sequence probabilities, tree-based sequence weighting, and sequence simulation. Features a wide variety of potential applications including database searching, gene-finding and annotation, phylogenetic analysis and sequence classification. Based on the models and algorithms described in Durbin et al (1998, ISBN: 9780521629713).
# License: GPL-3
# URL: https://github.com/shaunpwilkinson/aphid
# BugReports: https://github.com/shaunpwilkinson/aphid/issues
# LazyData: TRUE
# Encoding: UTF-8
# SystemRequirements: GNU make
# Depends: R(>= 3.0.0)
# Imports: graphics, openssl, kmer (>= 1.0.0), Rcpp (>= 0.12.5), stats
# Suggests: ape (>= 4.0), knitr, qpdf, rmarkdown, testthat
# LinkingTo: Rcpp
# VignetteBuilder: knitr
# RoxygenNote: 7.1.1
# NeedsCompilation: yes
# Packaged: 2022-12-04 01:59:59 UTC; shaun
# Repository: CRAN
# Date/Publication: 2022-12-05 08:10:13 UTC
