
{% set name = "pycreds" %}
{% set version = "1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: d9038f6969acf057c394c4dd14d1545f3d91e9d16084ac8cba173f822b767f12

build:
  number: 0
  skip: true  # [py<37]
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - libsecret  # [linux] 
    - pybind11 
    - pybind11-abi 
    - pybind11-global
  host:
    - python
    - pip
    - setuptools_scm
    - wheel
    - libsecret  # [linux]
    - pybind11 
    - pybind11-abi 
    - pybind11-global
  run:
    - python
    - libsecret  # [linux]

test:
  imports:
    - pycreds
    - pycreds._pycreds

about:
  home: https://github.com/kumaraditya303/pycreds
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.txt
  summary: Python Library to keep credentials safe by storing in platform keystores.
  description: |
    PyCreds is a Python Library written in C++ to keep credentials safe by storing 
    in platform keystores. On MacOS the passwords are managed by the Keychain, on 
    Linux they are managed by the Secret Service API/libsecret, and on Windows they
    are managed by Credential Vault.
  doc_url: https://github.com/kumaraditya303/pycreds
  dev_url: https://github.com/kumaraditya303/pycreds

extra:
  recipe-maintainers:
    - kumaraditya303
    
