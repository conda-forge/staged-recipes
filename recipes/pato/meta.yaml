{% set name = "pato" %}
{% set version = "2.3.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/jmeurisse/pato_releases_conda/archive/refs/tags/v{{ version }}.tar.gz
  sha256: acb1d4f3d656908a53b14783c7232de10442330b5986a536bee1bf2306894440
  
build:
  number: 0
  skip: True  # [win]
  binary_relocation: False
  ignore_prefix_files: True

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make
    - wget
    - cmake 
    - openmpi
    - patchelf  # [linux]
    - flex  # [linux]
    - zlib  # [linux]

  host:
    - boost ==1.72
    - metis
    - cgal ==5.0.1
    - scotch
    - ptscotch
    - qt
    - openmpi
    # - python == 3.9

  run:
    - boost ==1.72
    - metis
    - cgal ==5.0.1
    - scotch
    - ptscotch
    - openmpi
    # - python == 3.9

about:
  home: https://pato.ac
  license: NASA-1.3
  license_file: 
    - licenses/pato_LICENSE.txt
    - licenses/openfoam_LICENSE.txt
  summary: 'A package to perform the analysis of multiphase porous reactive materials'
  description: |
    The Porous material Analysis Toolbox (PATO) is a modular analysis platform for multiphase porous 
    reactive materials. It can be run as a simple Fourier heat transfer code or include more advanced 
    features as internal decomposition (pyrolysis, vaporization), gas-gas and gas-solid chemical 
    interactions (combustion, cracking, coking), gas species transport (convection, diffusion), and 
    solid morphology evolutions (internal density changes, surface ablation). PATO is implemented as 
    a C++ top level module of the open source (GNU GPL) computational fluid dynamics software program 
    OpenFOAM. PATO also uses the open source (GNU LGPL) thermodynamics, transport, and chemistry library 
    Mutation++ produced by the von Karman Institute for Fluid Dynamics.
    <p align="center">
      <img src="http://pato.ac/wp-content/uploads/2017/06/PATO_architecture-overview-300x138.png" width="100%"></img>
    </p>
  doc_url: https://pato.ac/index.php/documentation

extra:
  recipe-maintainers:
    - fsemerar
    - jmeurisse
