{% set name = "nanoarrow" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/apache/arrow-{{ name }}/releases/download/apache-arrow-{{ name }}-0.1.0/apache-arrow-{{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 2b22164aaf7ae3c4dfde5c9d9554bc8c2a40009338dcadaaf14cc26a33deae76

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}

test:
  commands:
    - test -f ${PREFIX}/include/nanoarrow/nanoarrow.h  # [unix]
    - if not exist %LIBRARY_PREFIX%\include\nanoarrow\nanoarrow.h (exit 1)  # [win]
    - test -f ${PREFIX}/lib/libnanoarrow.so  # [linux]
    - test -f ${PREFIX}/lib/libnanoarrow.dylib  # [osx]

about:
  home: https://github.com/apache/arrow-nanoarrow
  summary:  The nanoarrow library is a set of helper functions to interpret and generate Arrow C Data Interface and Arrow C Stream Interface structures. 
  description: |
    The nanoarrow library is a set of helper functions to interpret and generate Arrow C Data Interface and Arrow C Stream Interface structures. 
  license: 	Apache-2.0
  license_family: 	Apache
  license_file: LICENSE.txt
  doc_url: https://apache.github.io/arrow-nanoarrow/dev/
  dev_url: https://github.com/apache/arrow-nanoarrow

extra:
  recipe-maintainers:
    - DerThorsten

