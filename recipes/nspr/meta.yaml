{% set version = "4.12" %}

package:
  name: nspr
  version: {{ version }}

source:
  fn: nspr-{{ version }}.tgz
  url: https://ftp.mozilla.org/pub/nspr/releases/v{{ version }}/src/nspr-{{ version }}.tar.gz
  sha256: e0b10a1e569153668ff8bdea6c7e491b389fab69c2f18285a1ebf7c2ea4269de

build:
  number: 0
  skip: true  # [win]

test:
  commands:
    - test -f ${PREFIX}/lib/libnspr4.a         # [unix]
    - test -f ${PREFIX}/lib/libnspr4.a         # [unix]
    - test -f ${PREFIX}/lib/libnspr4.so        # [linux]
    - test -f ${PREFIX}/lib/libplc4.a          # [unix]
    - test -f ${PREFIX}/lib/libplc4.so         # [linux]
    - test -f ${PREFIX}/lib/libplc4.dylib      # [osx]
    - test -f ${PREFIX}/lib/libplds4.a         # [unix]
    - test -f ${PREFIX}/lib/libplds4.so        # [linux]
    - test -f ${PREFIX}/lib/libplds4.dylib     # [osx]

about:
  home: https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSPR
  license: MPL 2
  summary: A platform-neutral API for system level and libc-like functions.

extra:
  recipe-maintainers:
    - jakirkham
