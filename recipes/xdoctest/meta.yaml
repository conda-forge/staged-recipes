{% set name = "xdoctest" %}
{% set version = "0.12.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 2d985d8d78d4444079d3b072965327ab06a5e6dcb4882f3561d7596eb4da6b13

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python >=2.7
    - six >=1.10.0
    - pip
  run:
    - python
    - Pygments >=2.2.0
    - colorama >=0.4.1
    - pytest >= 3.3.1
    - pytest-cov
    - codecov >= 2.0.15
    - scikit-build
    - cmake
    - ninja
    - pybind11

test:
  imports:
    - xdoctest
  commands:
    - xdoctest --help
    - xdoctest --version
    - pytest xdoctest
  requires:
    - pytest
  source_files:
    - testing/

about:
  home: https://github.com/Erotemic/xdoctest
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: "A rewrite of Python's builtin doctest module (with pytest plugin integration) but without all the weirdness"

  # The remaining entries in this section are optional, but recommended.
  description: |
    The xdoctest package is a re-write of Python's builtin doctest module. It replaces the old regex-based parser
    with a new abstract-syntax-tree based parser (using Python's ast module). The goal is to make doctests easier
    to write, simpler to configure, and encourage the pattern of test driven development.
  doc_url: https://xdoctest.readthedocs.io/
  dev_url: https://github.com/Erotemic/xdoctest

extra:
  recipe-maintainers:
    # GitHub IDs for maintainers of the recipe.
    # Always check with the people listed below if they are OK becoming maintainers of the recipe. (There will be spam!)
    - Erotemic
    - Zeitsperre
