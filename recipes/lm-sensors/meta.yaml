{% set name = "lm-sensors" %}
{% set version = "3.6.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/lm-sensors/lm-sensors/archive/refs/tags/V{{ version.replace(".", "-") }}.tar.gz
  sha256: 0591f9fa0339f0d15e75326d0365871c2d4e2ed8aa1ff759b3a55d3734b7d197

build:
  number: 0
  skip: true  # [win or osx]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ stdlib("c") }}
    - bison
    - flex
    - make
  host:
    - libiconv
  run:
    - libiconv

test:
  commands:
    - test -f $PREFIX/lib/libsensors.so  # [unix]
    - test -f $PREFIX/include/sensors/sensors.h
    - test -f $PREFIX/bin/sensors  # [unix]

about:
  home: https://github.com/lm-sensors/lm-sensors
  license: LGPL-2.1-or-later AND GPL-2.0-or-later
  license_family: LGPL
  license_file:
    - COPYING.LGPL
    - COPYING
  summary: 'Hardware monitoring tools for Linux'
  description: |
    lm-sensors provides tools and libraries for monitoring the temperatures, 
    voltages, and fans of Linux systems with hardware monitoring chips.
  dev_url: https://github.com/lm-sensors/lm-sensors

extra:
  recipe-maintainers:
    - j34ni
