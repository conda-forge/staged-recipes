{% set name = "r-logpadjust" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/andvon/logpadjust/archive/{{ version }}.tar.gz
  sha256: d8aae36b5db982b29fc101eae7cd354118b1fb7c7a791fbd53694456c3669cba

build:
  noarch: generic
  script: {{ R }} CMD INSTALL --build .
  number: 0

requirements:
  host:
    - r-base
  run:
    - r-base

test:
  requires:
    - r-testthat
  source_files:
    - tests/
  commands:
    - $R -e "library('logpadjust')"                                                   # [not win]
    - $R -e "testthat::test_file('tests/testthat.R', stop_on_failure=TRUE)"           # [not win]
    - "\"%R%\" -e \"library('logpadjust')\""                                          # [win]
    - "\"%R%\" -e \"testthat::test_file('tests/testthat.R', stop_on_failure=TRUE)\""  # [win]

about:
  home: https://github.com/andvon/logpadjust
  summary: 'Multiple test correction for log-scale p-values'
  description: |
    Provides log-space equivalents of 'stats::p.adjust' methods so
    that multiple testing adjustments can be computed directly on log
    p-values. This is useful when p-values may be extremely small (e.g.,
    < 1e-300) and underflow to zero on the linear scale.
  license: MIT
  license_family: MIT
  license_file: LICENSE
  dev_url: https://github.com/andvon/logpadjust

extra:
  recipe-maintainers:
    - andvon
