{% set name = "renku" %}
{% set version = "1.0.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

build:
  skip: true  # [py>=40 or py2k]
  entry_points:
    - renku = renku.cli:cli
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/renku-{{ version }}.tar.gz
  sha256: 24d499436b3f83a1acc2c29e2dbfe5a5622bb33a14d916f71c35c8113dad19a3

requirements:
  host:
    - pip
    - python
  run:
    - appdirs >=1.4.3,<=1.4.4
    - attrs >=19.3.0,<21.3.0
    - calamus >=0.3.13,<0.4
    - click >=8.0,<8.0.2
    - click-option-group >=0.5.2,<0.6.0
    - click-plugins ==1.1.1
    - cryptography >=3.4.1,<35.1
    - cwl-utils >=0.12
    - cwltool ==3.1.20210922203925
    - deepmerge ==0.3.0
    - environ-config >=18.2.0,<21.3.0
    - filelock >=3.0.0,<3.3.3
    - flake8 >=3.8,<4.0
    - gitpython ==3.1.24
    - grandalf ==0.7
    - humanize >=2.5.0,<3.12.0
    - importlib-metadata >=4.8.1,<4.9.0
    - importlib-resources >=5.4.0,<5.5.0
    - inject >=4.3.0,<4.4.0
    - jinja2 >=2.11.3,<3.0.2
    - ndg-httpsclient ==0.5.1
    - networkx >=2.6.0,<2.7
    - numpy >=1.20.0,<1.22.0
    - packaging >=21.3,<22.0
    - pathspec >=0.8.0,<1.0.0
    - patool ==1.12
    - pluggy ==1.0.0
    - portalocker >=2.2.1,<2.4
    - psutil >=5.4.7,<5.8.1
    - pyasn1 >=0.4.5,<=0.4.8
    - pyjwt ==2.1.0
    - pyld ==2.0.3
    - pyopenssl >=19.0.0,<20.1.0
    - pyshacl ==0.17.2
    - python
    - python-dateutil >=2.6.1,<2.8.3
    - python-editor ==1.0.4
    - python-gitlab >=2.10.1,<2.11
    - pyyaml >=5.4,<6.1.0
    - rdflib >=6.0.0,<7.0
    - requests >=2.23.0,<2.27.0
    - rich >=9.3.0,<10.13.0
    - shellingham ==1.4.0
    - tabulate >=0.7.7,<0.8.10
    - tqdm >=4.48.1,<4.62.4
    - wcmatch >=6.0.0,<8.3
    - werkzeug >=0.15.5,<2.0.3
    - yagup >=0.1.1
    - zc.relation >=1.1,<1.2
    - zodb ==5.6.0
    - zstandard ==0.16.0

test:
  imports:
    - renku
  commands:
    - pip check
    - renku --help
  requires:
    - pip

about:
  home: https://github.com/swissdatasciencecenter/renku-python
  summary: Python SDK and CLI for the Renku platform.
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - izahn
