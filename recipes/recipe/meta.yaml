{% set name = "openmolcas" %}
{% set version = "21.10" %}

{% set build = 0 %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://gitlab.com/Molcas/OpenMolcas/-/archive/v{{ version }}/OpenMolcas-v{{ version }}.tar.gz 
  sha256: 46f30c47a9f30e030cf1a4ac8b73964da81657ea9093654da057a21c7fac63f3

build:
  number: {{ build }}
  skip: true  # [not linux]

requirements:
  build:
    - git
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - {{ compiler('fortran') }}
    - cmake >=2.8.12
    - make
  host:
    - python
    - {{ mpi }}
    - openblas-ilp64
    - liblapack
    - hdf5
    - pyparsing
    - gsl
    - boost >=1.56
  run:
    - python
    - {{ mpi }}
    - libblas * *openblas
    - openblas-ilp64
    - liblapack
    - hdf5
    - gsl
    - pyparsing

test:
  commands:
    - pyopenmolcas --help

about:
  home: https://molcas.gitlab.io/OpenMolcas/sphinx
  license: LGPL-2.1-only
  license_family: GPL
  license_file: LICENSE
  summary: 'A quantum chemistry software package developed by scientists
and intended to be used by scientists'
  description: |
      OpenMolcas is a quantum chemistry software package developed by scientists and intended to be used by scientists. It includes programs to apply many different electronic structure methods to chemical systems, but its key feature is the multiconfigurational approach, with methods like CASSCF and CASPT2.
      OpenMolcas is not a fork or reimplementation of Molcas, it is a large part of the Molcas codebase that has been released as free and open-source software (FOSS) under the Lesser General Public License (LGPL). 
      Some parts of Molcas remain under a different license by decision of their authors (or impossibility to reach them), and are therefore not included in OpenMolcas.
  doc_url: https://molcas.gitlab.io/OpenMolcas/sphinx
  dev_url: https://gitlab.com/Molcas/OpenMolcas

extra:
  recipe-maintainers:
    - ltalirz
