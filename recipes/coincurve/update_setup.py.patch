diff --git a/setup.py b/setup.py
--- a/setup.py	(revision a3c2fdb643d684090ed33b79de4703b3d49924f8)
+++ b/setup.py	(date 1692286211698)
@@ -149,9 +148,35 @@
 
         if not os.path.exists(absolute('libsecp256k1/configure')):
             # configure script hasn't been generated yet
-            autogen = absolute('libsecp256k1/autogen.sh')
-            os.chmod(absolute(autogen), 0o755)
-            subprocess.check_call([autogen], cwd=absolute('libsecp256k1'))
+            # autogenautogen = absolute('libsecp256k1/autogen.sh')
+            # os.chmod(absolute(autogen), 0o755)
+            # subprocess.check_call([autogen], cwd=absolute('libsecp256k1'))
+            # subprocess.check_call(["autoreconf", "-i", "-f", "--warnings=all"],
+            #                       cwd=absolute('libsecp256k1'),
+            #                       shell=False)
+            bash = "bash"
+            library_bin = os.environ.get('LIBRARY_BIN', None)
+            prefix = os.environ.get('PREFIX', None)
+            build_prefix = os.environ.get('BUILD_PREFIX', None)
+            if library_bin is not None and os.path.isfile(
+                os.path.join(library_bin, 'bash.exe')):
+                bash = os.path.join(library_bin, 'bash.exe')
+                print(f"Using bash from LIBRARY_BIN: {bash}")
+
+            if prefix is not None and os.path.isfile(
+                os.path.join(prefix, 'bash.exe')):
+                bash = os.path.join(prefix, 'bash.exe')
+                print(f"Using bash from PREFIX: {bash}")
+
+            if build_prefix is not None and os.path.isfile(
+                os.path.join(build_prefix, 'bash.exe')):
+                bash = os.path.join(build_prefix, 'bash.exe')
+                print(f"Using bash from PREFIX: {bash}")
+
+            subprocess.check_call([f'''{bash} -c "autoreconf -if --warnings=all"'''],
+                                  cwd=absolute('libsecp256k1'),
+                                  shell=True)
+
 
         for filename in [
             'libsecp256k1/configure',
@@ -187,7 +212,6 @@
             '--enable-module-ecdh',
             '--enable-benchmark=no',
             '--enable-tests=no',
-            '--enable-openssl-tests=no',
             '--enable-exhaustive-tests=no',
         ]
         if 'COINCURVE_CROSS_HOST' in os.environ:
@@ -274,7 +298,7 @@
     license='MIT OR Apache-2.0',
 
     python_requires='>=3.7',
-    install_requires=['asn1crypto', 'cffi>=1.3.0'],
+    # install_requires=['asn1crypto', 'cffi>=1.3.0'],
 
     packages=find_packages(exclude=('_cffi_build', '_cffi_build.*', 'libsecp256k1', 'tests')),
     package_data=package_data,
