{% set name = "orekit" %}
{% set version = "9.0" %}
{% set sha256 = "d58439c548433adcda98e695be53e526ba940a4b9c44fb9a05d92cd495cdd47f" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  git_url: https://www.orekit.org/git/orekit-labs/python-wrapper-main.git
  git_tag: orekit-v9
  sha256: {{ sha256 }}

build:
  skip: true  # [win32 or linux32]

  number: 0

  # script: python setup.py install --single-version-externally-managed --record record.txt

  rpaths:  # Only valid for linux
    - lib/
    - jre/lib/amd64/
    - jre/lib/amd64/server/

requirements:
  build:
    - python
    - setuptools
    - toolchain
    - jcc >=3
    - openjdk 8.0.121 1  # Force anaconda openjdk

  run:
    - python
    - jcc >=3
    - openjdk 8.0.121 1  # Force anaconda openjdk

test:
  imports:
    - orekit

  files:
    - test/orekit-data.zip
    - test/AltitudeDetectorTest.py
    - test/NodeDetectorTest.py
    - test/ImpulseManeuverTest.py
    - test/BackAndForthDetectorTest.py
    - test/KeplerianConverterTest.py
    - test/EventHandlerTest.py
    - test/AbstractDetectorTest.py
    - test/EventDetectorTest.py
    - test/SmallManeuverAnalyticalModelTest.py
    - test/GroundFieldOfViewDetectorTest.py

about:
  home: https://www.orekit.org/forge/projects/orekit-python-wrapper
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE.txt
  summary: 'An accurate and efficient core layer for space flight dynamics applications'

  description: |
    Orekit aims at providing accurate and efficient low level components for
    the development of flight dynamics applications. It is designed to be
    easily used in very different contexts, from quick studies up to critical operations.
    As a library, Orekit provides basic elements (orbits, dates, attitude, frames, ...) and various algorithms to handle them (conversions, propagations, pointing, ...).
  doc_url: https://www.orekit.org/static/apidocs/

extra:
  recipe-maintainers:
     - petrushy
