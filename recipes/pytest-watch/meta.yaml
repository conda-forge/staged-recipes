{% set name = "pytest-watch" %}
{% set version = "4.1.0" %}
{% set sha256 = "69b94fe4cb3d3b106b184056bc80ade6b0a9062e5a9a1cb65aec58831281" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.zip
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.zip
  sha256: {{ sha256 }}

build:
  noarch: python
  number: 0
  script: python setup.py install --single-version-externally-managed --record record.txt
  entry_points:
    - pytest-watch = pytest_watch:main
    - ptw = pytest_watch:main

requirements:
  build:
    - python
    - setuptools
  run:
    - pytest
    - docopt
    - colorama
    - watchdog

test:
  imports:
    - pytest_watch
  commands:
    - ptw

about:
  home: http://github.com/joeyespo/pytest-watch
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Local continuous test runner with pytest and watchdog.'

  description: |
    pytest-watch a zero-config CLI tool that runs pytest, and re-runs it when
    a file in your project changes. It beeps on failures and can run arbitrary 
    commands on each passing and failing test run.

extra:
  recipe-maintainers:
    - igortg
