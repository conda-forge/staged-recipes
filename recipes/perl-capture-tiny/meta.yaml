{% set author = "DAGOLDEN" %}
{% set name = "Capture-Tiny" %}
{% set version = "0.46" %}
{% set sha256 = "5d7a6a830cf7f2b2960bf8b8afaac16a537ede64f3023827acea5bd24ca77015" %}

package:
  name: perl-{{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: http://cpan.metacpan.org/authors/id/{{ author[0] }}/{{ author[:2] }}/{{ author }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [ win ]
  script: perl Makefile.PL && make && make test && make install 

requirements:
  build:
    - perl
    - make
  run:
    - perl

test:
  commands:
    - perl -e 'use {{ name|replace("-","::") }}'

about:
  home: https://metacpan.org/release/Capture-Tiny
  license: Apache-2.0
  license_file: LICENSE
  summary: 'Capture STDOUT and STDERR from Perl, XS or external programs'

  description: |
     Capture::Tiny provides a simple, portable way to capture almost 
     anything sent to STDOUT or STDERR, regardless of whether it comes
     from Perl, from XS code or from an external program. Optionally, 
     output can be teed so that it is captured while being passed through 
     to the original filehandles. Yes, it even works on Windows (usually). 
     Stop guessing which of a dozen capturing modules to use in any 
     particular situation and just use this one.
  doc_url: https://metacpan.org/pod/Capture::Tiny
  dev_url: https://github.com/dagolden/Capture-Tiny

extra:
  recipe-maintainers:
    - pvanheus
