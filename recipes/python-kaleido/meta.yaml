{% set name = "kaleido" %}
{% set version = "0.0.2" %}

{% set arch = "macosx_10_10_x86_64" %}  # [osx]
{% set arch = "win_amd64" %}  # [win64]
{% set arch = "manylinux2014_x86_64" %}  # [linux64]

package:
  name: python-{{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/py2.py3/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}-py2.py3-none-{{ arch }}.whl

  sha256: 4a9dcae206eb08ae3ad7295a26fb8f3b1ad88e1b9f57ec859b620051fd8802ae  # [osx]
  sha256: 4355f929c1a0df183c3c3d879a699bfcffbe54c00fc2631ea38ccf7a63f7e9b9  # [linux64]
  sha256: c47ca2f83662e129d0fcd761c6df2d253c96d6cf969dc5ee6afc750b79b233d8  # [win64]

build:
  number: 0
  script: "{{ PYTHON }} -m pip install {{ name }}-{{ version }}-py2.py3-none-{{ arch }}.whl -vv --no-deps &&
           copy # [win64]
           cp   # [not win64]
           kaleido-{{ version }}.dist-info/LICENSE.txt ."

  binary_relocation: False
  detect_binary_files_with_prefix: False
  ignore_prefix_files: True
  missing_dso_whitelist:
   - /usr/lib/*    # [osx]
   - /lib64/*      # [linux64]
   - /usr/lib64/*  # [linux64]


requirements:
  host:
    - python
    - pip
  run:
    - python

test:
  imports:
    - kaleido
    - kaleido.scopes

about:
  home: https://github.com/plotly/Kaleido
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  summary: 'Static image export for web-based visualization libraries with zero dependencies'
  doc_url: https://github.com/plotly/Kaleido
  dev_url: https://github.com/plotly/Kaleido

extra:
  recipe-maintainers:
    - jonmmease
