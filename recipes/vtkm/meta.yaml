{% set version = "1.0.0" %}
{% set build_number = 0 %}
{% set sha256 = "7b25b556e00619ddd0fe44af70c0237fb65cc8fc539bc510466c1bd310c1cee4" %}
{% set hash_last_commit_version = "30fdc7f984dfe0ca12c49254da35d3884ddababc" %}

package:
  name: vtkm
  version: {{ version }}

source:
  url:  https://gitlab.kitware.com/vtk/vtk-m/repository/v{{ version }}/archive.tar.gz
  fn:   vtk-m-v{{ version }}-{{ hash_last_commit_version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: {{ build_number }}
  features:
    - vc14  # [win and py>=35]
  skip: true  # [win and py27]

requirements:
  build:
    - python
    - toolchain
    - cmake >=3.3
    - gcc >=4.8  # [linux]
    - tbb
    - boost >=1.52.0
    - ninja
    - vc 14  # [win]
  run:
    - python
    - tbb
    - boost >=1.52.0
    - vc 14  # [win]

about:
  home: http://m.vtk.org/index.php/Main_Page
  license: BSD 3-Clause
  license_file: LICENSE.txt
  summary: 'VTK-m: Accelerating the Visualization Toolkit for Massively Threaded Architectures'
  description: |
            One of the biggest recent changes in high-performance computing is the increasing 
            use of accelerators. Accelerators contain processing cores that independently are 
            inferior to a core in a typical CPU, but these cores are replicated and grouped such 
            that their aggregate execution provides a very high computation rate at a much lower 
            power. Current and future CPU processors also require much more explicit parallelism. 
            Each successive version of the hardware packs more cores into each processor, and 
            technologies like hyperthreading and vector operations require even more parallel 
            processing to leverage each coreâ€™s full potential.
            VTK-m is a toolkit of scientific visualization algorithms for emerging processor 
            architectures. VTK-m supports the fine-grained concurrency for data analysis and 
            visualization algorithms required to drive extreme scale computing by providing 
            abstract models for data and execution that can be applied to a variety of 
            algorithms across many different processor architectures.
  doc_url: http://m.vtk.org/index.php/Main_Page
  dev_url: http://m.vtk.org/index.php/Main_Page#For_Developers

test:
  commands:
    - ninja test
  
extra:
  recipe-maintainers:
    - marcelotrevisani
    - nicoddemus
    