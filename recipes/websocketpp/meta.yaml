{% set name = "xtensor" %}
{% set version = "0.8.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://github.com/zaphoyd/websocketpp/archive/refs/tags/{{ version }}.tar.gz
  sha256: 6ce889d85ecdc2d8fa07408d6787e7352510750daa66b5ad44aacb47bea76755

build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - ninja

test:
  commands:
    - test -f ${PREFIX}/lib/cmake/websocketpp/websocketpp-config.cmake  # [unix]
    - test -f ${PREFIX}/include/websocketpp/version.hpp  # [unix]
    - if not exist %LIBRARY_PREFIX%\lib\cmake\websocketpp\websocketpp-config.cmake (exit 1)  # [win]
    - if not exist %LIBRARY_PREFIX%\include\websocketpp\version.hpp   (exit 1)  # [win]

about:
  home: http://www.zaphoyd.com/websocketpp/
  license: BSD-3-Clause
  license_file: COPYING
  summary: C++ websocket client/server library
  description: |
    WebSocket++ is a header only C++ library that implements RFC6455 The
    WebSocket Protocol. It allows integrating WebSocket client and server
    functionality into C++ programs. It uses interchangeable network
    transport modules including one based on raw char buffers, one based
    on C++ iostreams, and one based on Asio (either via Boost or
    standalone). End users can write additional transport policies to
    support other networking or event libraries as needed.
  doc_url: https://docs.websocketpp.org/
  dev_url: https://github.com/zaphoyd/websocketpp

extra:
  recipe-maintainers:
    - wolfv