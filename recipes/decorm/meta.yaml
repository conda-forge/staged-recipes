{% set name = "DecorM" %}
{% set version = "0.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://github.com/NCAR/DecorM/archive/v{{ version }}.tar.gz
  sha256: 52623d67fbebbd51b6ba7f744372783109516046d411df10e9eb70881e32192d


build: 
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"
  noarch: python
  number: 0

requirements:

  host:
    - python
    - pip
    - mpich
    - mpi4py
    - dill
    - cloudpickle
    - tblib
    - pyyaml
    - six

  run:
    - python
    - mpich
    - mpi4py
    - dill
    - cloudpickle
    - tblib
    - pyyaml
    - six

test:
  imports:
    - decorm

about:

  home: https://github.com/NCAR/DecorM
  license: Apache 2.0
  license_file: LICENSE
  summary: |
    Decorate MPI Python code so that it runs in parallel without mpirun or mpiexec
  dev_url: https://github.com/NCAR/DecorM
  doc_url: https://decorm.readthedocs.io/en/latest/

extra:
  recipe-maintainers:
    - kmpaul
