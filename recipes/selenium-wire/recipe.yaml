context:
  version: 5.1.0

package:
  name: selenium-wire
  version: ${{ version }}

source:
  - url: https://pypi.org/packages/source/s/selenium-wire/selenium-wire-${{ version }}.tar.gz
    sha256: b1cd4eae44d9959381abe3bb186472520d063c658e279f98555def3d4e6dd29b

build:
  number: 0
  script: ${{ PYTHON }} -m pip install .
  noarch: python

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
  run:
    - python >=${{ python_min }}
    - blinker >=1.4,<1.8 # selenium-wire requires blinker._saferef which was removed in 1.8+
    - brotli >=1.0.9
    - certifi >=2019.9.11
    - h2 >=4.0
    - hyperframe >=6.0
    - kaitaistruct >=0.7
    - pyasn1 >=0.3.1
    - pyopenssl >=22.0.0
    - pyparsing >=2.4.2
    - pysocks >=1.7.1
    - selenium >=4.0.0
    - wsproto >=0.14
    - zstandard >=0.14.1
    - if: win
      then:
        - __win
        - pydivert >=2.0.3
    - if: unix
      then:
        - __unix

tests:
  - python:
      imports:
        - seleniumwire
      pip_check: true
      python_version: ${{ python_min }}.*

about:
  homepage: https://github.com/wkeeling/selenium-wire
  summary: Extends Selenium to give you the ability to inspect requests made by the browser.
  description: |+
    Selenium Wire extends Selenium's Python bindings to give you access to the underlying requests made by the browser.
    You author your code in the same way as you do with Selenium, but you get extra APIs for inspecting requests and responses and making changes to them on the fly.
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - ytausch
