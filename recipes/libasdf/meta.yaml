{% set name = "libasdf" %}
{% set version = "0.1.0a1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/asdf-format/libasdf/releases/download/0.1.0-alpha1/libasdf-0.1.0-alpha1.tar.gz
  sha256: 2c58aa69c85e7e4f1b4919183114775de154ede427a1c4b0208580846be509d8

build:
  number: 0
  skip: true # [win]

requirements:
  build:
    - {{ compiler('cxx') }}
    - {{ compiler('c') }}
    - {{ stdlib('c') }}
    - autoconf
    - automake
    - libtool
    - libfyaml
    - make
    - pkg-config
  host:
    - argp-standalone  # [osx]
    - libfyaml

test:
  commands:
    - asdf --help

about:
  home: https://github.com/asdf-format/{{ name }}
  summary: 'C implementation of ASDF'
  description: |
    libasdf is largely a wrapper around libfyaml but with an understanding of
    the structure of ASDF files, with the capability to read and extract binary
    block data, as well as typed getters for metadata in the ASDF tree.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  doc_url: https://{{ name }}.readthedocs.io/
  dev_url: https://github.com/asdf-format/{{ name }}/

extra:
  recipe-maintainers:
    - jhunkeler
