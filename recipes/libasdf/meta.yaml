{% set name = "libasdf" %}
{% set version = "0.1.0-alpha1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/asdf-format/{{ name }}/archive/{{ version }}.tar.gz
  sha256: b3a6566100b985556696f7503135eb70d04ff498588e11c130635ae435f7ea71

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ stdlib('c') }}
  host:
    - fyaml
    - argp-standalone  # [osx]

test:
  commands:
    - ctest -V

about:
  home: https://github.com/asdf-format/{{ name }}
  summary: 'C implementation of ASDF'
  description: |
    libasdf is largely a wrapper around libfyaml but with an understanding of
    the structure of ASDF files, with the capability to read and extract binary
    block data, as well as typed getters for metadata in the ASDF tree.
  license: BSD
  license_family: BSD-3-Clause
  license_file: LICENSE
  doc_url: https://{{ name }}.readthedocs.io/
  dev_url: https://github.com/asdf-format/{{ name }}/

extra:
  recipe-maintainers:
    - embray
    - jhunkeler
