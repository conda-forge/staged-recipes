{% set name = "libasdf" %}
{% set version = "0.1.0a2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/asdf-format/{{ name }}/releases/download/{{ version }}/{{ name }}-{{ version }}.tar.gz
  sha256: dffc8a636f090086821c09d9bb931420fecc28938d3df143009c867140f20995

build:
  number: 0
  skip: true  # [win]

requirements:
  build:
    - {{ compiler('cxx') }}
    - {{ compiler('c') }}
    - {{ stdlib('c') }}
    - autoconf
    - automake
    - bzip2
    - libtool
    - libfyaml
    - lz4-c
    - make
    - pkg-config
    - zlib
  host:
    - argp-standalone  # [osx]
    - bzip2
    - libfyaml
    - lz4-c
    - zlib

test:
  commands:
    - asdf --help

about:
  home: https://github.com/asdf-format/{{ name }}
  summary: 'C implementation of ASDF'
  description: |
    libasdf is largely a wrapper around libfyaml but with an understanding of
    the structure of ASDF files, with the capability to read and extract binary
    block data, as well as typed getters for metadata in the ASDF tree.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  doc_url: https://{{ name }}.readthedocs.io/
  dev_url: https://github.com/asdf-format/{{ name }}/

extra:
  recipe-maintainers:
    - jhunkeler
