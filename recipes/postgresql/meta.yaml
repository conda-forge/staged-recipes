{% set version="9.5.1" %}

package:
  name: postgresql
  version: "9.5.1"

source:
  fn: postgresql-{{ version }}.tar.bz2
  url: https://ftp.postgresql.org/pub/source/v{{ version }}/postgresql-{{ version }}.tar.bz2
  sha256: 6b309d8506a39773a752ff074f47656e5424576ea090b04a24fe1725958c5bd2
  patches:
    - fix_libraries_win.patch  [win]

build:
  features:
    - vc9               # [win and py27]
    - vc10              # [win and py34]
    - vc14              # [win and py35]

requirements:
  build:
    - python
    - openssl
    - zlib
    - perl  5.20.3.1    # [win]
    - gnuwin32          # [win]
  run:
    - python
    - openssl
    - zlib

test:
  commands:
    - pg_config
    - postgres --help

about:
  home: http://www.postgresql.org/
  license: PostgreSQL license (http://www.postgresql.org/about/licence/)
  summary: PostgreSQL is a powerful, open source object-relational database system

extra:
  recipe-maintainers:
    - msarahan