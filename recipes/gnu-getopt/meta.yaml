{% set name = "gnu-getopt" %}
{% set version = "1.1.6" %}
{% set md5 = "4eaff9e6d8b2504a2e0d29ff0e9fd956" %}

package: 
  name: {{ name | lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz # [osx]
  md5: {{ md5 }} # [osx]
  url: http://frodo.looijaard.name/system/files/software/{{ name }}/{{ name }}-{{ version }}.tar.gz # [osx]
  patches:
    - Makefile.osxpatch # [osx]

build:
  number: 0
  skip: True # [not osx]

requirements:
  build:
    - gcc # [osx]
    - gettext # [osx]
  run:
    - libgcc # [osx]
    - gettext # [osx]

test:
    commands:
        - '$PREFIX/bin/gnu-getopt -V' # > /dev/null'

about:
    home: 'http://software.frodo.looijaard.name/{{ name }}/'
    license: "GPL-2.0"
    license_family: GPL
    license_file: COPYING
    summary: "Command-line option parsing library"

extra:
  notes: "On Linux systems gnu-getopt is simply called 'getopt', however due to potential collision with the native BSD getopt on OSX, this binary is renamed 'gnu-getopt'."
  recipe-maintainers:
    - tomkinsc
