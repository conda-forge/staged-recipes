context:
  version: "0.1.13"

package:
  name: model-hosting-container-standards
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/m/model-hosting-container-standards/model_hosting_container_standards-${{ version }}.tar.gz
  sha256: 27a1333410dde2719286a300a2803e24fdde407baa91894eb845c0f268aa194d

build:
  number: 0
  noarch: python
  script:
    - poetry build
    - pip install -f dist model-hosting-container-standards
  python:
    entry_points:
      - generate-supervisor-config = model_hosting_container_standards.supervisor.scripts.generate_supervisor_config:main
      - standard-supervisor = model_hosting_container_standards.supervisor.scripts.standard_supervisor:main

requirements:
  host:
    - python ==${{ python_min }}
    - pip
    - poetry
    - poetry-core >=2,<3
    - setuptools
  run:
    - python >=${{ python_min }}
    - fastapi
    - httpx
    - jmespath
    - pydantic
    - starlette >=0.49.1
    - supervisor >=4.2.0

tests:
  - python:
      python_version:
        - ${{ python_min }}.*
        - 3.*
      imports:
        - model_hosting_container_standards
      pip_check: true
  - script:
      - generate-supervisor-config
      - standard-supervisor

about:
  homepage: https://github.com/aws/model-hosting-container-standards
  summary: Python toolkit for standardized model hosting container implementations with Amazon SageMaker integration.
  license: Apache-2.0
  license_file: LICENSE
  repository: https://github.com/aws/model-hosting-container-standards

extra:
  recipe-maintainers:
    - h-vetinari
