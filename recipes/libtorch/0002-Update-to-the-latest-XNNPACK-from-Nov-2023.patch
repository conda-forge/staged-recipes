From 804ced355a39149be111a0cf2b79a4d5821c3775 Mon Sep 17 00:00:00 2001
From: Mark Harfouche <mark.harfouche@gmail.com>
Date: Sun, 5 Nov 2023 13:16:16 -0500
Subject: [PATCH 2/2] Update to the latest XNNPACK from Nov 2023

---
 aten/src/ATen/native/quantized/cpu/XnnpackUtils.h | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/aten/src/ATen/native/quantized/cpu/XnnpackUtils.h b/aten/src/ATen/native/quantized/cpu/XnnpackUtils.h
index fdc21902c2c..03057105189 100644
--- a/aten/src/ATen/native/quantized/cpu/XnnpackUtils.h
+++ b/aten/src/ATen/native/quantized/cpu/XnnpackUtils.h
@@ -99,7 +99,8 @@ enum xnn_status xnnp_create_convolution2d_nhwc(
         op_min,         /* int8_t output_min                    */
         op_max,         /* int8_t output_max                    */
         flags,          /* uint32_t flags                       */
-        nullptr,        /* xnn_caches_t caches                  */
+        nullptr,        /* xnn_caches_t code_cache              */
+        nullptr,        /* xnn_weights_cache_t weights_cache    */
         op);            /* xnn_operator_t* deconvolution_op_out */
 
   }
@@ -131,7 +132,8 @@ enum xnn_status xnnp_create_convolution2d_nhwc(
         op_min,         /* int8_t output_min                  */
         op_max,         /* int8_t output_max                  */
         flags,          /* uint32_t flags                     */
-        nullptr,        /* xnn_caches_t caches                */
+        nullptr,        /* xnn_caches_t code_cache              */
+        nullptr,        /* xnn_weights_cache_t weights_cache    */
         op);            /* xnn_operator_t* convolution_op_out */
   } else { /* per_channel */
     return xnn_create_convolution2d_nhwc_qc8(
@@ -160,7 +162,8 @@ enum xnn_status xnnp_create_convolution2d_nhwc(
         op_min,         /* int8_t output_min                  */
         op_max,         /* int8_t output_max                  */
         flags,          /* uint32_t flags                     */
-        nullptr,        /* xnn_caches_t caches                */
+        nullptr,        /* xnn_caches_t code_cache            */
+        nullptr,        /* xnn_weights_cache_t weights_cache  */
         op);            /* xnn_operator_t* convolution_op_out */
   }
 }
@@ -257,7 +260,8 @@ enum xnn_status xnnp_create_fully_connected_nc(
       output_min,              /* int8_t output_min                      */
       output_max,              /* int8_t output_max                      */
       flags,                   /* uint32_t flags                         */
-      nullptr,                 /* xnn_caches_t caches                    */
+      nullptr,                 /* xnn_caches_t code_cache                */
+      nullptr,                 /* xnn_weights_cache_t weights_cache      */
       fully_connected_op_out); /* xnn_operator_t* fully_connected_op_out */
 }
 
-- 
2.42.0

