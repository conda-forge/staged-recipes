
package:
    name: esys-escript
    version: 5.4
source:
    - fn: boost_1_68_0.tar.bz2
      sha256: 7f6130bc3cf65f56a618888ce9d5ea704fa10b462be126ad053e80e553d6d8b7
      url: https://dl.bintray.com/boostorg/release/1.68.0/source/boost_1_68_0.tar.bz2
    - svn_url: https://svn.geocomp.uq.edu.au/svn/esys13/trunk
      svn_rev: 6850
      folder: escript
    - fn: trilinos-12.12.1-Source.tar.gz
      url: http://trilinos.csbsju.edu/download/files/trilinos-12.12.1-Source.tar.gz
      sha256: 7c67d83befbeabc773661bcdfee2850c404d249160b755d3f1be2e96f564f9fd
      folder: trilinos
build:
    skip: True  # [win]
    skip: True  # [osx]
    number: '0'
requirements:
    build:
        - binutils_impl_linux-64 2.31.1 h6176602_1
        - binutils_linux-64 2.31.1 h6176602_7
        - gcc_impl_linux-64 7.3.0 habb00fd_1
        - gcc_linux-64 7.3.0 h553295d_7
        - gxx_impl_linux-64 7.3.0 hdf63c60_1
        - gxx_linux-64 7.3.0 h553295d_7
        - libgcc-ng 8.2.0 hdf63c60_1
        - libstdcxx-ng 8.2.0 hdf63c60_1
        - svn
        - scons
        - cmake
        - make
        - suitesparse
        - cppunit
        - numpy 1.14.6 py27he5ce36f_1201
        - python 2.7.15 
    host:
        - blas 1.1 openblas
        - boost-cpp 1.70.0 ha2d47e9_0
        - bzip2 1.0.6 h14c3975_1002
        - ca-certificates 2019.3.9 hecc5488_0
        - icu 58.2 hf484d3e_1000
        - libblas 3.8.0 10_openblas
        - libcblas 3.8.0 10_openblas
        - libffi 3.2.1 he1b5a44_1006
        - libgcc-ng 8.2.0 hdf63c60_1
        - libgfortran-ng 7.3.0 hdf63c60_0
        - liblapack 3.8.0 10_openblas
        - libstdcxx-ng 8.2.0 hdf63c60_1
        - ncurses 6.1 hf484d3e_1002
        - numpy 1.14.6 py27he5ce36f_1201
        - openblas 0.3.6 h6e990d7_2
        - openssl 1.1.1b h14c3975_1
        - python 2.7.15
        - readline 7.0 hf8c457e_1001
        - sqlite 3.28.0 h8b20d00_0
        - tk 8.6.9 h84994c4_1001
        - xz 5.2.4 h14c3975_1001
        - zlib 1.2.11 h14c3975_1004
        - suitesparse
        - cppunit
        #- python 2.7.15 h721da81_1008
    run:
        - boost-cpp 1.70.0.*
        - libgcc-ng >=7.3.0
        - libstdcxx-ng >=7.3.0
        - numpy >=1.14.6,<2.0a0
        - python 2.7.15
        - suitesparse
        - cppunit
test:
    commands:
        - test -f $PREFIX/esys/boost/include/boost/python.hpp
        - test -d $PREFIX/esys/boost/include/boost/python
        - test -f $PREFIX/esys/boost/lib/libboost_python27.a
        - test -f $PREFIX/esys/boost/lib/libboost_python27${SHLIB_EXT}
        - test -f $PREFIX/esys/boost/lib/libboost_numpy27.a
        - test -f $PREFIX/esys/boost/lib/libboost_numpy27${SHLIB_EXT}
        - conda inspect linkages -p $PREFIX/esys/boost boost
about:
  home: https://launchpad.net/escript-finley
  summary: esys-escript is a programming tool for implementing mathematical 
    models in python using the finite element method (FEM).
  license: Apache-2.0
  description: esys-escript is a programming tool for implementing 
    mathematical models in python using the finite element method (FEM). 
    As users do not access the data structures it is very easy to use and 
    scripts can run on desktop computers as well as highly parallel
    supercomputer without changes. Application areas for escript include 
    earth mantle convection, geophysical inversion, earthquakes, 
    porous media flow, reactive transport, plate subduction, erosion, 
    and tsunamis.
  dev_url: https://launchpad.net/escript-finley
  doc_url: https://launchpad.net/escript-finley
  doc_source_url: https://launchpad.net/escript-finley

extra:
  recipe-maintainers:
    - aellery
