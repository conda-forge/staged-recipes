{% set name = "diffpy.srxplanargui" %}
{% set version = "1.0.0rc2" %}
{% set python_min = "3.11" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/d/diffpy_srxplanargui/diffpy_srxplanargui-{{ version }}.tar.gz
  sha256: 5239f79a495ba3894b97111df941c3badb0f73b6dbe6d1aa3b89589dad2458b4

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .
  entry_points:
    - diffpy-srxplanargui = diffpy.srxplanargui.srxplanargui_app:main

requirements:
  host:
    - python {{ python_min }}
    - setuptools
    - setuptools-git-versioning >=2.0
    - pip

  run:
    - python >={{ python_min }}
    - numpy
    - fabio
    - pyface
    - scipy
    - traits
    - pyfai
    - matplotlib-base
    - diffpy.srxplanar
    - traitsui

test:
  requires:
    - python {{ python_min }}
    - pip
    - flake8
    - pytest
    - codecov
    - coverage
    - pytest-cov
    - pytest-env

  source_files:
    - tests

  commands:
    - pip check
    - pytest

about:
  home: https://github.com/diffpy.srxplanargui/diffpy.srxplanargui/
  summary: xPDFsuite, a software for PDF transformation and visualization.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.rst
  description: |
    This is the GUI for diffpy.srxplanar. It is also used by diffpy.xpdfsuite. This suite of algorithms and software, named xPDFsuite, is an 
    easy to use graphical user interface (GUI) to a number of Diffpy programs. It provides a raw-data-to-modelled-PDF solution for X-ray PDFs. 
    It is specially convenient for handling high throughput data with many (hundreds to thousands) of datatsets, such as come from modern 
    synchrotron experiments with 2D detectors. It is equally useful for data from laboratory x-rays. The software runs on laptops and workstations 
    running Windows, Mac OSX and Linux.
  doc_url: http://diffpy.srxplanargui.github.io/diffpy.srxplanargui/
  dev_url: https://github.com/diffpy.srxplanargui/diffpy.srxplanargui/

extra:
  recipe-maintainers:
    - sbillinge
    - zmx27
    - stevenhua0320
