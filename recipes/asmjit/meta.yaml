{% set version = "0.0.0.20231007.475.7e64eab" %}
{% set gitrev = "7e64eabca49c1a4d2cbfb06e4b9d3987bce7f7b3" %}
{% set sha256 = "3ba7b936086c13cedf837fc62befb581b609f6dbf69ed0ee084b02c8bb7f9f0e" %}

package:
  name: asmjit
  version: {{ version }}

source:
  url: https://github.com/asmjit/asmjit/archive/{{ gitrev }}.tar.gz
  sha256: {{ sha256 }}

build:
  # You can probably build this for windows
  skip: true  # [win]
  number: 0
  run_exports:
    # 0 guarantees because they beleive in not creating real releases...
    # https://github.com/pytorch/cpuinfo/issues/84
    - {{ pin_subpackage('asmjit', max_pin='x.x.x.x.x.x') }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - sysroot_linux-64  2.17  # [linux64]
    - cmake
    - make  # [unix]

test:
  commands:
    - test -f ${PREFIX}/include/asmjit/asmjit.h
    - test -f ${PREFIX}/lib/libasmjit${SHLIB_EXT}

about:
  home: https://github.com/asmjit/asmjit
  summary: AsmJit is a lightweight library for machine code generation written in C++ language.
  license: Zlib
  license_family: Other
  license_file: LICENSE.md

extra:
  recipe-maintainers:
    - hmaarrfk
