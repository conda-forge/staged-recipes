{% set name = "metanetx-sdk" %}
{% set version = "0.4.0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz"
  sha256: a46a7b77cc0ffc1d0a4d94d848a2ad83c664774bdc9c3f96d16a323b4e9e0e81

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv --no-deps --ignore-installed"

requirements:
  host:
    - pip
    - setuptools
    - python >=3.8
  run:
    - aioftp
    - click ~=7.0
    - click-log ~=0.3
    - depinfo ~=1.5
    - pandas ~=0.25
    - pydantic ~=1.4
    - python >=3.8
    - python-dateutil
    - pytz
    - toml

test:
  imports:
    - metanetx_sdk
  requires:
    - tox
  commands:
    - mnx-sdk --help
    - tox -e py38

about:
  home: https://github.com/Midnighter/metanetx-sdk
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: "Parse and prepare information from [MetaNetX](https://metanetx.org)."
  description: |
    The main purpose of metanetx-sdk is to download and parse the data tables
    provided by the [MetaNetX FTP
    server](ftp://ftp.vital-it.ch/databases/metanetx/MNXref/). The tables can be
    further transformed to replace the database prefixes for identifiers used by
    MetaNetX with [MIRIAM](http://co.mbine.org/standards/miriam) compliant ones
    from [Identifiers.org](http://identifiers.org/).
  doc_url: https://metanetx-sdk.readthedocs.io/
  dev_url: https://github.com/Midnighter/metanetx-sdk

extra:
  recipe-maintainers:
    - Midnighter
