context:
  version: "2.22.0"

package:
  name: libosmium
  version: ${{ version }}

source:
  - url: https://github.com/osmcode/libosmium/archive/refs/tags/v${{ version }}.tar.gz
    sha256: 8f74e3f6ba295baa7325ae5606e8f74ad9056f1d6ab4555c50bff6aa8246f366

build:
  number: 0

requirements:
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - cmake
    - ninja

  host:
    - libboost-devel
    - expat
    - lz4-c
    - protozero
    - bzip2
    - zlib

tests:
  - package_contents:
      include:
        - osmium/area/**/*.hpp
        - osmium/builder/**/*.hpp
        - osmium/experimental/**/*.hpp
        - osmium/geom/**/*.hpp
        - osmium/handler/**/*.hpp
        - osmium/index/**/*.hpp
        - osmium/io/**/*.hpp
        - osmium/osm/**/*.hpp
        - osmium/relations/**/*.hpp
        - osmium/storage/**/*.hpp
        - osmium/thread/**/*.hpp
        - osmium/tags/**/*.hpp
        - osmium/util/**/*.hpp
        - osmium/version.hpp

about:
  homepage: https://osmcode.org/libosmium/
  license: BSL-1.0
  license_file:
    - LICENSE
  summary: Fast and flexible C++ library for working with OpenStreetMap data.
  description: |
    The Osmium Library has extensive support for all types of OSM entities: nodes, ways, relations, 
    and changesets. It allows reading from and writing to OSM files in XML, PBF, and several other
    formats, including change files and full history files.
  documentation: https://github.com/mapbox/libosmium
  repository: https://github.com/mapbox/libosmium

extra:
  recipe-maintainers:
    - travishathaway
