context:
  version: "3.3.0"

package:
  name: idelib
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/i/idelib/idelib-${{ version }}.tar.gz
  sha256: 39f88bdf70b4b70aaa7da7d6d3ae8bc6f8b62c9da0be8042442730edd46eb51e

build:
  noarch: python
  script: python -m pip install . -vv
  number: 0
  python:
    entry_points:
      - ideexport=idelib.tools.ideexport:main
      - ideinfo=idelib.tools.ideinfo:main

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
  run:
    - python >=${{ python_min }}
    - numpy
    - ebmlite >=3.1.0

tests:
  - python:
      python_version: ${{ python_min }}.*
      imports:
        - idelib
        - idelib.dataset
        - idelib.importer
        # - idelib.sync   # not available in 3.3.0
        - idelib.util
        - idelib.tools.ideexport
        - idelib.tools.ideinfo
      pip_check: true
  - script:
      - ideexport --help
      - ideinfo --help

about:
  homepage: https://github.com/MideTechnology/idelib
  summary: Python API for accessing IDE data recordings
  description: |
    idelib is the core Python API for accessing the contents of enDAQ .IDE recording files.
    It provides a means of easily accessing time series sensor data, with all necessary
    calibration applied, as well as recording metadata.

    The package also contains the command-line utilities ideexport and ideinfo for use
    outside of Python.

    IDE files are EBML-based, read-only hierarchical data format that stores recording
    information generated by enDAQ sensor devices. They contain both time-indexed data
    from several different kinds of sensors (like acceleration, pressure, temperature, etc.),
    as well as metadata about the recording device and recording settings.
  license: MIT
  license_file: LICENSE
  documentation: https://mide-technology-idelib.readthedocs-hosted.com/en/latest/
  repository: https://github.com/MideTechnology/idelib

extra:
  recipe-maintainers:
    - hmaarrfk
