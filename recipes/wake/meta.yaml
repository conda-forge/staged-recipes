{% set name = "wake" %}
{% set version = "0.27.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/sifive/wake/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 

build:
  number: 0
  skip: True # [not linux]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make
  host:
    - gmp
    - libfuse
    - libutf8proc
    - ncurses
    - re2
    - re2c
    - sqlite
  run:
    - python

test:
  commands:
    - wake --version

about:
  home: https://github.com/sifive/wake
  summary: 'wake build tool'
  description: |
      Wake is a build orchestration tool and language. If you have a build whose steps cannot be
      adequately expressed in make/tup/bazel/etc, you probably need wake. If you don't want to waste
      time rebuilding things that don't need it, or that your colleagues already built, you might
      appreciate wake.
  license: Apache-2.0 AND CC0-1.0 AND WTFPL AND MIT AND Unicode-DFS-2016
  license_file: 
    - LICENSE
    - LICENSE.Apache2
    - vendor/blake2/LICENSE.CC0
    - vendor/gopt/LICENSE.TFL
    - vendor/siphash/LICENSE.CC0
    - vendor/utf8proc/LICENSE.MIT
    - vendor/utf8proc/LICENSE.UNICODE
    - vendor/whereami/LICENSE.WTFPLv2
  doc_url: https://github.com/sifive/wake/tree/master/share/doc/wake
  dev_url: https://github.com/sifive/wake

extra:
  recipe-maintainers:
    - timsnyder
