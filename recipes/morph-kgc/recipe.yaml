# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
schema_version: 1

context:
  version: "2.9.0"
  # need pyoxigraph 3.x for python 3.13+
  python_check_max: "3.12"

recipe:
  name: morph-kgc-split
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/m/morph-kgc/morph_kgc-${{ version }}.tar.gz
  sha256: 39d06525b74449b7377372c702456063b9886676c0466f14ed489ef8a9f65952

build:
  number: 0
  noarch: python

outputs:
  - package:
      name: morph-kgc
    build:
      noarch: python
      script:
        - ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation --disable-pip-version-check
    requirements:
      host:
        - hatchling >=1.11.0
        - pip
        - python ${{ python_min }}.*
      run:
        - elementpath >=4.0.0,<5.0.0
        - falcon >=3.0.0,<5.0.0
        - jsonpath-python >=1.0.6,<2.0.0
        - pandas >=2.1.0,<3.0.0
        - pyoxigraph >=0.3.0,<0.4.0
        - python >=${{ python_min }}
        - python-duckdb >=1.0.0,<2.0.0
        - rdflib >=6.1.1,<8.0.0
        - ruamel.yaml >=0.18.0,<0.19.0
    tests:
      - python:
          imports: morph_kgc
          pip_check: true
          python_version:
            - ${{ python_min }}.*
            - ${{ python_check_max }}.*

about:
  summary: Powerful [R2]RML engine to create RDF knowledge graphs from heterogeneous data sources.
  license: Apache-2.0
  license_file: LICENSE
  homepage: https://github.com/morph-kgc/morph-kgc
  documentation: https://morph-kgc.readthedocs.io

extra:
  feedstock-name: morph-kgc
  recipe-maintainers:
    - bollwyvl
