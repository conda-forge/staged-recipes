{% set name = "molassembler" %}
{% set pkg_name = "scine-" + name %}
{% set version = "1.2.0" %}

package:
  name: {{ pkg_name }}
  version: {{ version }}

source:
  - url: https://github.com/qcscine/molassembler/archive/refs/tags/{{ version }}.tar.gz
    sha256: a515e2d820b9f1d3e7b07af73707cfd829f6a43761f09396fd368b29d2a93b72
  - url: https://github.com/qcscine/development-utils/archive/refs/tags/5.0.0.tar.gz
    sha256: bb2f161ed15811def85ca635924427356564a811779993123077f4ada048be84
    folder: dev

build:
  number: 0
  skip: true  # [win]

  run_exports:
    - {{ pin_subpackage(pkg_name, max_pin='x') }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - ninja
    - pkg-config
  host:
    - boost-cpp
    - eigen
    - gtest
    - gmock
    - nauty
    - nlohmann_json
    - outcome
    - scine-core
    - scine-utilsos
  run:
    - boost-cpp
    - nauty

test:
  commands:
    - test -f $PREFIX/lib/lib{{ name }}${SHLIB_EXT}

about:
  license: BSD-3-Clause
  license_file: LICENSE.txt
  summary: |
    Chemoinformatics toolkit with support for inorganic molecules
  description: |
    Molassembler is a C++ library that aims to facilitate conversions between
    Cartesian and graph representations of molecules. It provides the necessary
    functionality to represent a molecule as a graph, modify it in graph space,
    and generate new coordinates from graphs. It can capture the absolute configuration
    of inorganic molecules with multidentate and haptic ligands from Cartesian
    coordinates and enumerate non-superposable stereopermutations at non-terminal
    atoms and non-isotropic bonds at arbitrary local shapes ranging up to the
    icosahedron and cuboctahedron.
  home: https://scine.ethz.ch/
  dev_url: https://github.com/qcscine/molassembler

extra:
  recipe-maintainers:
    - awvwgk
