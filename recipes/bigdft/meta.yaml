{% set name = "bigdft" %}
{% set version = "1.9.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://gitlab.com/l_sim/{{ name }}-suite/-/archive/{{ version }}/{{ name }}-suite-{{ version }}.tar.gz
  sha256: dc9e49b68f122a9886fa0ef09970f62e7ba21bb9ab1b86be9b7d7e22ed8fbe0f

build:
  number: 0
  skip: true  # [ not linux ]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('fortran') }}
    - automake
    - cmake
    - make
    - llvm-openmp  # [osx]
    - libgomp      # [linux]
  host:
    - yaml
    - liblapack
    - scalapack
    - {{ mpi }}
  run:

test:
  commands:
    - bigdft-tool --help

about:
  home: http://bigdft.org
  license: GPL-2.0-only
  license_family: GPL
  license_file: LICENSE
  summary: 'BigDFT: electronic structure calculation based on Daubechies wavelets.'
  description: |
    BigDFT is a DFT massively parallel electronic structure code (GPL 
    license) using a wavelet basis set. Wavelets form a real space basis 
    set distributed on an adaptive mesh (two levels of resolution in our 
    implementation). GTH or HGH pseudopotentials are used to remove the 
    core electrons. Thanks to our Poisson solver based on a Green function 
    formalism, periodic systems, surfaces and isolated systems can be 
    simulated with the proper boundary conditions.
  doc_url: http://bigdft.org/Wiki/index.php?title=BigDFT_manual
  dev_url: https://gitlab.com/l_sim/bigdft-suite

extra:
  recipe-maintainers:
    - jan-janssen
