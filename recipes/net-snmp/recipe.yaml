context:
  version: "5.7.3"

package:
  name: net-snmp
  version: ${{ version }}

source:
  url: http://downloads.sourceforge.net/project/net-snmp/net-snmp/${{ version }}/net-snmp-${{ version }}.tar.gz
  sha256: 12ef89613c7707dc96d13335f153c1921efc9d61d3708ef09f3fc4a7014fb4f0

build:
  skip:
    - win
    - osx
  number: 0

requirements:
  build:
    - ${{ compiler('c') }}
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - make
    - perl
    - file
  run_exports:
    - ${{ pin_subpackage('net-snmp', upper_bound='x.x.x') }}

tests:
  - package_contents:
      files:
        - bin/encode_keychange
        - bin/snmptranslate
        - bin/snmpget
        - bin/snmpgetnext
        - bin/snmpbulkget
        - bin/snmpwalk
        - bin/snmpbulkwalk
        - bin/snmpset
        - bin/snmptest
        - bin/tkmib
        - bin/snmptable
        - bin/snmpdelta
        - bin/snmpusm
        - bin/snmpvacm
        - bin/snmpstatus
        - bin/snmpnetstat
        - bin/snmpdf
        - share/snmp/mibs/*.txt
      lib:
        - netsnmp
        - netsnmphelpers
        - netsnmpmibs
        - netsnmptrapd

about:
  homepage: http://www.net-snmp.org/
  license: BSD-3-Clause
  license_file: COPYING
  summary: "Net-SNMP is a suite of applications used to implement SNMP v1, SNMP v2c and SNMP v3 using both IPv4 and IPv6."

extra:
  recipe-maintainers:
    - simon-ess
