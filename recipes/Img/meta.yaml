{% set name = "Img" %}
{% set version = "1.4.13" %}
{% set tcl_version = "8.6.11" %}
{% set tk_version = "8.6.11" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  - url: https://sourceforge.net/projects/tkimg/files/tkimg/1.4/tkimg%201.4.13/Img-1.4.13-Source.zip
    sha256: aab0a782b35d86e6d19589690dcf7f3d33c520e7fb4cecb0096f8146dde4f64f
  - url: https://downloads.sourceforge.net/tcl/tcl{{ tcl_version }}-src.tar.gz
    folder: tcl_source
    sha256: 8c0486668586672c5693d7d95817cb05a18c5ecca2f40e2836b9578064088258
  - url: https://downloads.sourceforge.net/tcl/tk{{ tk_version }}-src.tar.gz
    folder: tk_source
    sha256: 5228a8187a7f70fa0791ef0f975270f068ba9557f57456f51eb02d9d4ea31282

build:
  number: 0
  skip: true  # [osx]

requirements:
  host:
    - {{ compiler('c') }}
    - {{ cdt('xorg-x11-proto-devel') }}  # [linux]
    - {{ cdt('libx11-devel') }}          # [linux]
    - {{ cdt('libxcb') }}                # [linux]
    - {{ cdt('libxau') }}                # [linux]
    - make                               # [linux]

  run:
    - tk


test:
  commands:
    - echo package require Img;exit | tclsh --  # [win]

about:
  home: https://tkimg.sourceforge.net/
  license: BSD-3-Clause
  license_family: BSD
  license_file: ImgSource/license.terms
  summary: 'Img is a Tk extension that provides the handling of several image formats beyond the standard formats in Tk'
  # The remaining entries in this section are optional, but recommended.
  doc_url: https://wiki.tcl-lang.org/page/Img

extra:
  recipe-maintainers:
    - nandandevinagara
