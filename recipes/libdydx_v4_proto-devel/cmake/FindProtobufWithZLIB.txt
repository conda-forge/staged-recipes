# Manually define ZLIB variables
set(ZLIB_FOUND TRUE)

set(ZLIB_INCLUDE_DIR "$ENV{PREFIX}/include")

if (CMAKE_SYSTEM_NAME STREQUAL "Windows")
    set(ZLIB_LIBRARY "$ENV{PREFIX}/Library/lib/zlib.lib")
elseif (CMAKE_SYSTEM_NAME STREQUAL "Darwin")
    set(ZLIB_LIBRARY "$ENV{PREFIX}/lib/libz.dylib")
else()
    set(ZLIB_LIBRARY "$ENV{PREFIX}/lib/libz.so")
endif()

# Include directories and link libraries for Zlib
include_directories(${ZLIB_INCLUDE_DIR})
link_libraries(${ZLIB_LIBRARY})

message(STATUS "ZLIB_INCLUDE_DIR: ${ZLIB_INCLUDE_DIR}")
find_package(Protobuf 5.27.5 REQUIRED)
set(Protobuf_USE_STATIC_LIBS OFF)
include_directories(${Protobuf_INCLUDE_DIRS})
