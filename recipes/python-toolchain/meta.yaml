package:
  name: python-toolchain
  version: 1.0.0

build:
  number: 0

requirements:
  build:
    - python

  run:
    - python

test:
  commands:
    # Configure `STDLIB_DIR` location.
    - python -c 'from distutils.sysconfig import get_python_lib; print(get_python_lib())' > temp.txt
    - export STDLIB_DIR="$(cat temp.txt)"                                  # [unix]
    - set /p STDLIB_DIR=<temp.txt                                          # [win]

    # Test configuration files are in place.
    - test -f "${PREFIX}/etc/pip.conf"                                     # [unix]
    - test -f "${STDLIB_DIR}/../distutils/distutils.cfg"                   # [unix]
    - if not exist "%LIBRARY_PREFIX%\\etc\\pip.conf" exit 1                # [win]
    - if not exist "%STDLIB_DIR%\\..\\distutils\\distutils.cfg" exit 1     # [win]

about:
  home: https://github.com/conda-forge/python-toolchain-feedstock
  license: BSD 3-Clause
  summary: A meta-package to enable the right python-toolchain.

extra:
  recipe-maintainers:
    - jakirkham
