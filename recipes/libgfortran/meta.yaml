{% set version = "4.8.5" %}

package:
  name: libgfortran
  version: {{ version }}

build:
  number: 0
  skip: true                    # [win]
  always_include_files:
    - lib/libgfortran.dylib     # [osx]
    - lib/libgfortran.3.dylib   # [osx]
    - lib/libgfortran.so        # [linux]
    - lib/libgfortran.so.3      # [linux]
    - lib/libgfortran.so.3.0.0  # [linux]

requirements:
  build:
    - gcc {{ version }}
    - cloog 0.18.0 10

  run:
    - libquadmath {{ version }}

test:
  commands:
    - test -f "${PREFIX}/lib/libgfortran.dylib"     # [osx]
    - test -f "${PREFIX}/lib/libgfortran.3.dylib"   # [osx]
    - test -f "${PREFIX}/lib/libgfortran.so"        # [linux]
    - test -f "${PREFIX}/lib/libgfortran.so.3"      # [linux]
    - test -f "${PREFIX}/lib/libgfortran.so.3.0.0"  # [linux]

about:
  home: http://gcc.gnu.org/
  summary: Fortran libraries from the GNU Compiler Collection
  license: GPL 3 (with GCC Runtime Library Exception 3.1)

extra:
  recipe-maintainers:
    - jakirkham
