{% set name = "avahi" %}
{% set version = "0.8.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: http://avahi.org/download/{{ name }}-{{ version[:-2] }}.tar.gz
  sha256: 060309d7a333d38d951bc27598c677af1796934dbd98e1024e7ad8de798fedda

build:
  number: 0
  skip: True  # [win]

requirements:
  build:
    # If your project compiles code (such as a C extension) then add the required compilers as separate entries here.
    # Compilers are named 'c', 'cxx' and 'fortran'.
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - libevent
    - libdaemon

test:
  requires:
    - libdaemon
    - libevent
  commands:
    - avahi-browse --version
    - avahi-publish --version
    - avahi-resolve --version

about:
  home: http://www.avahi.org/
  license: LGPL-2.1-only
  license_family: LGPL
  license_file: LICENSE
  summary: 'Service Discovery for Linux using mDNS/DNS-SD -- compatible with Bonjour'
  description: |
    Avahi is a system which facilitates service discovery on a local network
    via the mDNS/DNS-SD protocol suite. This enables you to plug your laptop or
    computer into a network and instantly be able to view other people who you
    can chat with, find printers to print to or find files being shared.
    Compatible technology is found in Apple MacOS X
    (branded "Bonjour" and sometimes "Zeroconf").
  doc_url: http://www.avahi.org/doxygen/
  dev_url: https://github.com/lathiat/avahi

extra:
  recipe-maintainers:
    - andfoy
