{% set name = "pgcontents" %}
{% set version = "0.5.3" %}
{% set file_ext = "tar.gz" %}
{% set hash_type = "sha256" %}
{% set hash_value = "d9df470201b753ed347c13e92dbd1a06bb359f74418648fad87e0f871cf9adad" %}

package:
  name: '{{ name|lower }}'
  version: '{{ version }}'

source:
  fn: '{{ name }}-{{ version }}.{{ file_ext }}'
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.{{ file_ext }}
  '{{ hash_type }}': '{{ hash_value }}'

build:
  number: 0
  noarch: python
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  host:
    - python
    - pip
  run:
    - python
    - sqlalchemy >=1.0.5
    - alembic >=0.7.6
    - click >=3.3
    - cryptography >=1.4
    - psycopg2 >=2.6.1
    - requests >=2.7.0
    - six >=1.9.0
    - tox >=2.3

test:
  imports:
    - pgcontents
    - pgcontents.alembic
    - pgcontents.tests
    - pgcontents.utils

about:
  home: https://github.com/quantopian/pgcontents
  license: Apache
  license_family: APACHE
  license_file: ''
  summary: A Postgres-backed ContentsManager for IPython/Jupyter.
  description: |
    PGContents is a PostgreSQL-backed implementation of
    https://github.com/ipython/ipython/wiki/IPEP-27:-Contents-Service
    It aims to a be a transparent, drop-in replacement for IPython's standard filesystem-backed
    storage system.  PGContents' `PostgresContentsManager` class can be used to replace all local
    filesystem storage with database-backed storage, while its `PostgresCheckpoints` class can be
    used to replace just IPython's checkpoint storage.  These features are useful when running
    IPython in environments where you either don't have access to (or don't trust the reliability
    of) the local filesystem of your notebook server.
  dev_url: 'https://github.com/quantopian/pgcontents'

extra:
  recipe-maintainers:
    - mariusvniekerk
