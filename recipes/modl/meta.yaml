{% set name = "modl" %}
{% set version = "0.6.1.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 7df69946b1cb7232cd1688ed6cc5836fd1a5280a040362ae87ccd32de7e6b053

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"
  skip: true  # [win]
  skip: true  # [py2k or py>=37]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - python
    - setuptools
    - cython
    - pip
    - numpy
  run:
    - python
    - {{ pin_compatible('numpy') }}
    - scipy
    - matplotlib
    - nibabel
    - nilearn
    - scikit-learn
    - scikit-image
    - pandas
    - joblib

test:
  imports:
    - modl

about:
  home: https://github.com/arthurmensch/modl
  license: BSD-2-Clause
  license_family: BSD
  license_file: LICENSE
  summary: 'Massive Online Dictionary Learning'
  description: |
    This python package (webpage) allows to perform sparse / dense matrix factorization 
    on fully-observed/missing data very efficiently, by leveraging random subsampling with 
    online learning. It is able to factorize matrices of terabyte scale with hundreds of 
    components in the latent space in a few hours.
    The stochastic-subsampled online matrix factorization (SOMF) algorithm is an order or 
    magnitude faster than online matrix factorization (OMF) on large datasets.
    It provides scikit-learn compatible estimators that fully implements the 
    stochastic-subsampled online matrix factorization (SOMF) algorithms. This package 
    allows to reproduce the experiments and figures from the papers cited in reference.
  doc_url: https://github.com/arthurmensch/modl/blob/master/docs/index.md
  dev_url: https://github.com/arthurmensch/modl

extra:
  recipe-maintainers:
    - marcelotrevisani
