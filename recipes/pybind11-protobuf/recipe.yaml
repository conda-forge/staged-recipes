package:
  name: pybind11-protobuf
  version: 20250727

source:
  url: https://github.com/pybind/pybind11_protobuf/tarball/87ec9afa645dbe5d8f1fafe494acd45049ed8211
  sha256: b0d803162e074f309de63327361bf61614711cafc05540aff0d5a01ab98725c6

build:
  number: 0
  noarch: generic
  script:
    - if: unix
      then:
        - mkdir -p "${PREFIX}/include/pybind11_protobuf"
        - cp -r pybind11_protobuf/*.h "${PREFIX}/include/pybind11_protobuf/"
    - if: win
      then:
        - set "INC=%LIBRARY_INC%"
        - if "%INC%"=="" set "INC=%PREFIX%\Library\include"
        - mkdir "%INC\pybind11_protobuf"
        - xcopy /Y /I pybind11_protobuf\*.h "%INC%\pybind11_protobuf\"

requirements:
  host: []
  run: []

tests:
  - package_contents:
      include:
        - if: unix
          then:
            - pybind11_protobuf/native_proto_caster.h
      files:
        - if: win
          then:
            - Library/include/pybind11_protobuf/native_proto_caster.h

about:
  homepage: https://github.com/pybind/pybind11_protobuf
  repository: https://github.com/pybind/pybind11_protobuf
  license: Apache-2.0
  license_file: LICENSE
  summary: "Adapters to make Protocol Buffer message types work with pybind11"

extra:
  recipe-maintainers:
    - mdealencar
