{% set name = "flanders_r" %}
{% set version = "0.1.0" %}  # Set the package version

package:
  name: r-{{ name|lower }}     # Name must be lowercase
  version: {{ version }}

source:
  url: # TODO: https://github.com/Biostatistics-Unit-HT/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: # TODO
build:
  rpaths:
    - lib/R/lib/
    - lib/
  noarch: generic

requirements:
  # Build-time dependencies (what you need to build the package)
  host:
    - r-base=4.4
  run:
    - r-anndata=0.7.5.6
    - r-base=4.4
    - r-coloc=5.2.3
    - r-data.table=1.17.0
    - r-dplyr=1.1.4
    - r-matrix=1.7_3
    - r-optparse=1.7
    - r-susier=0.12.35
    - bioconductor-singlecellexperiment=1.28.0
    - bioconductor-zellkonverter=1.16.0
    - bioconductor-scrnaseq=2.20.0

test:
  commands:
    - $R -e "library('flanders_r')"

about:
  home: https://github.com/Biostatistics-Unit-HT/flanders_r
  license: # TODO set proper license
  license_family: # TODO set proper license
  summary: "Fast colocalization using AnnData objects in R"
  description: |
    flanders is an R package designed to seamlessly convert finemapping output files from the nf-flanders pipeline
    into a unified AnnData object and facilitate colocalization analysis.
    The package provides functions to:
    - Convert multiple *finemap.rds files into a single AnnData object with credible set metadata.
    - Generate an input table (coloc_input) for colocalization testing.
    - Run pairwise colocalization tests, with minimal runtime overhead (typically 5â€“10 tests per second on standard hardware).
  license_file: LICENSE # TODO make license file

extra:
  recipe-maintainers:
    - Sodbo
    - edg1983
