{% set name = "diagnostic" %}
{% set version = "3.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 5c80d7f77706dca775cc85d7b0492e4e96385dade2103052cf06cf6ab105b855

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python >=3.10
    - pip
    - flit-core >=3.2,<4
  run:
    - python >=3.10
    - rich
    - markdown-it-py
    - docutils

test:
  imports:
    - diagnostic
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/pradyunsg/diagnostic
  summary: Present errors that contain causes to better understand what happened.
  description: |
    diagnostic makes it easier to build command line tools with great error
    reporting. It provides unique codes on every Diagnostic, tooling to help
    ensure all codes in the codebase are documented, fancy graphical output
    built on top of rich with graceful fallbacks to ASCII and plain strings,
    and the ability to present a causal chain if needed.
  license: MIT
  license_family: MIT
  license_file: LICENSE
  doc_url: https://diagnostic.readthedocs.io/en/stable/
  dev_url: https://github.com/pradyunsg/diagnostic

extra:
  recipe-maintainers:
    - cxzhong
