{% set name = "cockroach" %}
{% set version = "1.0.6" %}
{% set sha256 = "1f9b867385f6d99e8ff0f15b66e6bf7205b14617030db7482641627472eae0c8" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-v{{ version }}.src.tar.gz
  url: https://binaries.cockroachdb.com/{{ name }}-v{{ version }}.src.tgz
  sha256: {{ sha256 }}

build:
  number: 0
  script:
    - make buildoss
    - make install

requirements:
  build:
    - toolchain
    - cmake 3.8.*
    - go 1.8.*
    - xz 5.2.*
  run:

test:
  commands:
    - bash

about:
  home: http://cockroachlabs.com
  license: APL2
  license_file: LICENSE.txt
  summary: 'CockroachDB is a cloud-native SQL database for building global, scalable cloud services that survive disasters.'

  description: |
    CockroachDB is a distributed SQL database built on a transactional and
    strongly-consistent key-value store. It scales horizontally; survives disk,
    machine, rack, and even datacenter failures with minimal latency disruption and
    no manual intervention; supports strongly-consistent ACID transactions; and
    provides a familiar SQL API for structuring, manipulating, and querying data.
  doc_url: https://www.cockroachlabs.com/docs
  dev_url: https://github.com/cockroachdb/cockroach

extra:
  recipe-maintainers:
    - sodre
