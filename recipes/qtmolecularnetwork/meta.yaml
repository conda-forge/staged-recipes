{% set version = "0.6.0" %}

package:
  name: qtmolecularnetwork
  version: {{ version }}

source:
  path: E:/git/QtMolecularNetwork
  # url: https://github.com/metgem/QtMolecularNetwork/archive/v{{ version }}.tar.gz
  # sha256: b0d2ce21304e166376726975e8eb3b5e579fdb24a4d3692dfad1e6945c10e957

build:
  number: 0

requirements:
  build:
    - python {{ python }}
    - cmake>=3.13
    - {{ compiler('cxx') }}
    - make                               # [not win]
    - ninja                              # [win]
    - gxx                                # [linux]
    - rdkit-dev
    - eigen

  host:
    - qt
    
  run:
    - rdkit
    
test:
  commands:
    - if not exist %LIBRARY_BIN%\\qtmolecularnetwork.dll exit 1                  # [win]
    - test -f $PREFIX/lib/libqtmolecularnetwork${SHLIB_EXT}                      # [unix]

about:
  home: https://github.com/metgem/QtMolecularNetwork
  license:  LGPL-2.1-only
  license_file: LICENSE
  summary: Qt Molecular Networking library

extra:
  recipe-maintainers:
    - n-elie
