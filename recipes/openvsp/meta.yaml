{% set name = "openvsp" %}
{% set version = "3.36.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/OpenVSP/OpenVSP/archive/OpenVSP_{{ version }}.tar.gz
  sha256: e568bba08e91bb9c6400848a3c3df206a892463f9e0385c6fda3b00ac51fd25c

build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name, max_pin='x.x') }}

requirements:
  build:
    - python
    - cross-python_{{ target_platform }}  # [build_platform != target_platform]
    - {{ compiler('cxx') }}
    - cmake
    - make  # [unix]
  host:
    - adept
    - libxml2
    - exprparse
    - eigen
    - pinocchio
    - fltk
    - glm
    - glew
    - cminpack
  run:
    - python

test:
  commands:
    - vspviewer --help
    - vspaero --help

about:
  home: https://github.com/OpenVSP/OpenVSP
  summary: 'A parametric aircraft geometry tool'
  description: |
    OpenVSP is a parametric aircraft geometry tool. OpenVSP allows the user to create a 3D model
    of an aircraft defined by common engineering parameters. This model can be processed into
    formats suitable for engineering analysis. The predecessors to OpenVSP have been developed by
    JR Gloudemans and others for NASA since the early 1990's. In January 2012, OpenVSP was released
    as an open source project under the NOSA 1.3 license. The first open source version was 2.0.0.
  # TODO
  license: MIT
  license_family: MIT
  license_file: LICENSE
  dev_url: https://github.com/OpenVSP/OpenVSP

extra:
  recipe-maintainers:
    - martinRenou
