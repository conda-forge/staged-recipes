{% set name = "rocksdb" %}
{% set version = "5.17.2" %}
{% set sha256 = "101f05858650a810c90e4872338222a1a3bf3b24de7b7d74466814e6a95c2d28" %}
package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/facebook/rocksdb/archive/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
    number: '0'
    string: '0'
    skip: True  # [win or osx]

requirements:
    build:
        #- {{ compiler('c') }}
        - {{ compiler('cxx') }}
        - gflags 2.2.2 he6710b0_0
        - zlib 1.2.11 h7b6447c_3
        - cmake 3.12.2 h52cb24c_0
        - snappy 1.1.7 hbae5bb6_3
        - bzip2 1.0.6 h14c3975_5
        - lz4 2.1.6

    run:
        - snappy >=1.1.7
        - zlib >=1.2.11
        - bzip2 >=1.0.6
        - libstdcxx-ng >=8.2.0
        - libgcc-ng >=8.2.0
        - gflags >=2.2.2
        - lz4 >=2.1.6
        
test:
    commands:
        - test -e $PREFIX/include/rocksdb/db.h
        - test -e $PREFIX/lib/librocksdb$SHLIB_EXT

about:
    home: https://github.com/facebook/rocksdb
    license: BSD
    summary: RocksDB shared library
extra:
    recipe-maintainers:
      - parth67
