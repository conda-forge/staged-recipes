{% set name = "xmlf90" %}
{% set version = "1.5.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://gitlab.com/siesta-project/libraries/{{ name }}/-/archive/{{ version }}/{{ name }}-{{ version }}.tar.gz
  sha256: c4492596c911b668b94fee40a53453f06aef3bc41014b9e2f4b51e640ad20528

build:
  number: 0
  skip: true  # [win]
  
requirements:
  build:
    - {{ compiler('fortran') }}
    - cmake
    - ninja

test:
  commands:
    - test -f $PREFIX/lib/libxmlf90${SHLIB_EXT}

about:
  home: https://gitlab.com/siesta-project/libraries/xmlf90
  license: BSD-2-Clause
  license_family: BSD
  license_file: COPYING
  summary: 'A lightweight XML parser and generator in Fortran'
  description: |
    xmlf90 is a suite of libraries to handle XML in Fortran. A
    first component is a XML parsing library, designed to be a
    useful tool in the extraction and analysis of data in the
    context of scientific computing. The priorities were
    efficiency and the ability to deal with very large XML files
    while maintaining a small memory footprint. The most complete
    programming interface is based on the very successful SAX
    (Simple API for XML) model, although a partial DOM interface
    and a very experimental XPATH interface are also present. Also
    included is a library (xmlf90-wxml) that facilitates the
    writing of well-formed XML, including such features as
    automatic start-tag completion, attribute pretty-printing, and
    element indentation. There are also helper routines to handle
    the output of numerical arrays.

extra:
  recipe-maintainers:
    - albgar
