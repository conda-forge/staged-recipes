{% set version = "1.1" %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-radialmr
  version: {{ version|replace("-", "_") }}

source:
  url: https://mrcieu.r-universe.dev/src/contrib/RadialMR_{{ version }}.tar.gz
  ## note these are not stable and get periodically rebuilt: see https://github.com/r-universe-org/help/discussions/262
  ## an official md5 checksum can be retrieved from: https://mrcieu.r-universe.dev/api/packages
  md5: 1bff241da36d5d48878abab6d8110eb4

build:
  merge_build_host: true  # [win]
  noarch: generic
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
    - {{ posix }}zip               # [win]
  host:
    - r-base
    - r-ggplot2
    - r-magrittr
    - r-plotly
  run:
    - r-base
    - r-ggplot2
    - r-magrittr
    - r-plotly

test:
  commands:
    - $R -e "library('RadialMR')"           # [not win]
    - "\"%R%\" -e \"library('RadialMR')\""  # [win]

about:
  home: https://wspiller.github.io/RadialMR/
  dev_url: https://github.com/WSpiller/RadialMR
  license: GPL-3.0-only
  summary: A package for implementing radial inverse variance weighted
    and MR-Egger methods.
  license_family: GPL
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3

extra:
  recipe-maintainers:
    - conda-forge/r

# Package: RadialMR
# Title: RadialMR
# Version: 1.1
# Authors@R: c(
#     person("Wes", "Spiller", , "wes.spiller@bristol.ac.uk", role = c("aut", "cre"),
#            comment = c(ORCID = "0000-0002-8169-5531")),
#     person("Jack", "Bowden", , "j.bowden2@exeter.ac.uk", role = "aut",
#            comment = c(ORCID = "0000-0003-2628-3304")),
#     person("Tom", "Palmer", , "tom.palmer@bristol.ac.uk", role = "aut",
#            comment = c(ORCID = "0000-0003-4655-4511"))
#   )
# Description: A package for implementing radial inverse variance weighted
#     and MR-Egger methods.
# License: GPL-3
# URL: https://github.com/WSpiller/RadialMR,
#     https://wspiller.github.io/RadialMR/
# Depends: 
#     R (>= 3.5.0)
# Imports:
#     ggplot2,
#     magrittr,
#     plotly
# Suggests:
#     MendelianRandomization,
#     TwoSampleMR (>= 0.5.0)
# Remotes:
#     mrcieu/twosamplemr
# Encoding: UTF-8
# LazyData: true
# Roxygen: list(markdown = TRUE)
# RoxygenNote: 7.2.3
