{% set name = "pyindi-client" %}
{% set version = "0.2.3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 76a9d1830fdf9d51b53ec9a8f3e8caed68f8efd0fa44c9071eca753bd9ab0163
  patches:
    - libindiclient_path.patch

build:
  number: 0
  skip: True  # [win]
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    # If your project compiles code (such as a C extension) then add the required compilers as separate entries here.
    # Compilers are named 'c', 'cxx' and 'fortran'.
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - swig
  host:
    - python
    - pip
    - indi
    - cfitsio
    - zlib
  run:
    - python

test:
  imports:
    - PyIndi

about:
  home: https://sourceforge.net/p/pyindi-client/code/HEAD/tree/trunk/pip/pyindi-client
  license: GPL-3.0
  license_family: GPL
  license_file: gpl-3.0.txt
  summary: 'Python bindings for the client API of INDI'
  description: |
    pyindiclient provides Python bindings to the client API of INDI,
    the Instrument Neutral Device Interface protocol
  doc_url: https://indilib.org/develop/indi-python-bindings.html
  dev_url: https://sourceforge.net/p/pyindi-client/code/HEAD/tree/trunk/pip/pyindi-client

extra:
  recipe-maintainers:
    - joseph-long

