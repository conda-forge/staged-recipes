--- a/prov/cxi/src/cxip_evtq.c
+++ b/prov/cxi/src/cxip_evtq.c
@@ -465,6 +465,10 @@
 	return num_slots * C_EE_CFG_ECB_SIZE;
 }
 
+#ifndef MAP_HUGE_SHIFT
+#define MAP_HUGE_SHIFT 26
+#endif
+
 #define MAP_HUGE_2MB    (21 << MAP_HUGE_SHIFT)
 int cxip_evtq_init(struct cxip_evtq *evtq, struct cxip_cq *cq,
 		   size_t num_events, size_t num_fc_events,
