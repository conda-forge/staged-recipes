{% set name = "jreleaser" %}
{% set version = "1.15.0" %}
{% set asset_url = "https://github.com/jreleaser/jreleaser/releases/download/v" %}

package:
  name: {{ name|lower }}
  version: "{{ version }}"

source:                                                     
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-osx-x86_64.zip       # [osx and x86_64]
    sha256: afe23adab54b10b2665536e130e8ad834292883000ee9a88e084294e4687d23b                   # [osx and x86_64]
    folder: '{{ name }}-{{ version }}'                                                         # [osx and x86_64]
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-osx-aarch64.zip      # [osx and arm64]
    sha256: 56122a90d9efb4805fdce79d7a82ecc594b1c86675a8b3da6f92687ef2363edd                   # [osx and arm64]
    folder: '{{ name }}-{{ version }}'                                                         # [osx and arm64]
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-linux-x86_64.zip     # [linux and x86_64]
    sha256: 528eb1eb011798ad8b6a25c21aa6fcf414034e0b9b35aaa27aa658e5973b5dd7                   # [linux and x86_64]
    folder: '{{ name }}-{{ version }}'                                                         # [linux and x86_64]
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-linux-aarch64.zip    # [linux and arm64]
    sha256: bc1e54f4638653e4ebb27a90c7ff322069099003f54423831bdb287884f08ee4                   # [linux and arm64]
    folder: '{{ name }}-{{ version }}'                                                         # [linux and arm64]
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-windows-x86_64.zip   # [win and x86_64]
    sha256: c0922f49aeb8d687fbcba072b6f2b8c9099a78547c1df946ef4177b31760b37d                   # [win and x86_64]
    folder: '{{ name }}-{{ version }}'                                                         # [win and x86_64]
  - url: {{ asset_url }}{{ version }}/{{ name }}-standalone-{{ version }}-windows-aarch64.zip  # [win and arm64]
    sha256: c4b271206ab06920cef82c2c09c242c3a983bad2f562dc537915e79af7161595                   # [win and arm64]
    folder: '{{ name }}-{{ version }}'                                                         # [win and arm64]

build:
  number: 0
  binary_relocation: false  # [osx]
  ignore_run_exports:       # [osx]
    - libcxx                # [osx]
  missing_dso_whitelist:
    - "**/*.dylib"          # [osx]
    - "**/*.so"             # [linux]
    - "**/*.so.[0-9]"       # [linux]
    - "**/*.dll"            # [win]

test:
  commands:
    - jreleaser -V

about:
  home: https://jreleaser.org
  summary: Release projects quickly and easily with JReleaser
  description: |
    JReleaser is a release automation tool. Its goal is to simplify creating releases and
    publishing artifacts to multiple package managers while providing customizable options.

    JReleaser takes inputs from popular builds tools (Ant, Maven, Gradle) such as JAR files,
    binary distributions (.zip, .tar), JLink images, or any other file that youâ€™d like to
    publish as a Git release on popular Git services such as GitHub, GitLab, or Gitea.
    Distribution files may additionally be published to be consumed by popular package managers
    such as Homebrew, Chocolatey, Snapcraft, or get ready to be launched via JBang. Releases
    may be announced in a variety of channels such as Twitter, Zulip, SDKMAN!, and more.
  license: Apache-2.0
  license_family: APACHE
  license_file: '{{ name }}-{{ version }}/LICENSE'

extra:
  recipe-maintainers:
    - aalmiray
