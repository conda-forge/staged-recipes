{% set name = "diffpy.srxplanar" %}
{% set version = "1.0.0rc0" %}
{% set python_min = "3.11" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/d/diffpy_srxplanar/diffpy_srxplanar-{{ version }}.tar.gz
  sha256:  # FIXME: This needs to be added when it is released on PyPI
build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .
  entry_points:
    - srxplanar = diffpy.srxplanar.srxplanar_app:main


requirements:
  host:
    - python {{ python_min }}
    - setuptools
    - setuptools-git-versioning >=2.0
    - pip

  run:
    - python >={{ python_min }}
    - numpy
    - numpy
    - scipy
    - fabio
    - tifffile
    - configparser
    - diffpy.srxconfutils

test:
  requires:
    - python {{ python_min }}
    - pip
    - pytest
    - flake8
    - codecov
    - coverage
    - pytest-cov
    - pytest-env

  source_files:
    - tests

  commands:
    - pip check
    - pytest

about:
  home: https://github.com/diffpy.srxplanar/diffpy.srxplanar/
  summary: This is part of xPDFsuite package. diffpy.srxplanar package provides 2D diffraction image integration using non splitting pixel algorithm. And it can estimate and propagate statistic uncertainty of raw counts and integrated intensity. To learn more about diffpy.srxplanar library, see the examples directory included in this distribution or the API documentation at http://diffpy.github.io/diffpy.srxplanar/
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.rst
  description: |
    Used by diffpy.xpdfsuite. This suite of algorithms and software, named xPDFsuite, is an easy to use graphical user interface (GUI) to a number of Diffpy programs. It provides a raw-data-to-modelled-PDF solution for X-ray PDFs. It is specially convenient for handling high throughput data with many (hundreds to thousands) of datatsets, such as come from modern synchrotron experiments with 2D detectors. It is equally useful for data from laboratory x-rays. The software runs on laptops and workstations running windows, mac OSX and linux.
  doc_url: http://diffpy.srxplanar.github.io/diffpy.srxplanar/
  dev_url: https://github.com/diffpy.srxplanar/diffpy.srxplanar/

extra:
  recipe-maintainers:
    - sbillinge
    - zmx27
    - stevenhua0320