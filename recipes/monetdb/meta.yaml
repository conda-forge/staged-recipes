{% set name = "MonetDB" %}
{% set version = "11.25.15" %}
{% set sha256 = "8166268f676f75f0df7fdf3f8b2a49ffff422420d275bb994dddcab95012f89e" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.xz
  url: https://www.monetdb.org/downloads/sources/Dec2016-SP3/{{ name }}-{{ version }}.tar.xz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [not linux]

requirements:
  build:
    - toolchain
    - bzip2
    - cfitsio 3.*
    - curl 7.52.*
    - gdal 2.1.*
    - gsl 2.2.*
    - libatomic_ops 7.4.*
    - libiconv 1.*
    - libnetcdf 4.4.*
    - libxml2 2.9.*
    - numpy x.x
    - pcre 8.*
    - proj4 4.9.*
    - openssl 1.0.*
    - readline 6.2*
    - unixodbc 2.3.*
  run:
    - bzip2
    - cfitsio 3.*
    - curl 7.52.*
    - gdal 2.1.*
    - gsl 2.2.*
    - libatomic_ops 7.4.*
    - libiconv 1.*
    - libnetcdf 4.4.*
    - libxml2 2.9.*
    - numpy x.x
    - pcre 8.*
    - proj4 4.9.*
    - openssl 1.0.*
    - readline 6.2*
    - unixodbc 2.3.*

test:
  commands:
    - monetdb --help
    - monetdbd --help
    - conda inspect linkages -p $PREFIX $PKG_NAME  # [linux]
    - conda inspect objects -p $PREFIX $PKG_NAME  # [osx]

about:
  home: https://www.monetdb.org
  license: MPL-2.0
  license_family: NONE
  license_file: COPYING
  summary: Column-oriented database management system
  description: |
    MonetDB is an open source column-oriented database management system developed
    at the Centrum Wiskunde & Informatica (CWI) in the Netherlands. It was designed
    to provide high performance on complex queries against large databases, such as
    combining tables with hundreds of columns and millions of rows.
  doc_url: https://www.monetdb.org/Documentation
  dev_url: https://www.monetdb.org/Developers

extra:
  recipe-maintainers:
    - dfroger
