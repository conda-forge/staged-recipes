{% set name = "datoviz" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/archive/v{{ version }}-alpha.0.tar.gz
  sha256: 1e0de7058b4daf83c3a414ef489421667511eb476788969421914e9c7b4d8d14

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}

    - build-essential  # [linux]
    - cmake  # [linux or osx]
    - ninja  # [linux or osx]
    - xcb  # [linux]
    - libx11-xcb-dev  # [linux]
    - libglfw3-dev  # [linux]
    - patchelf  # [linux]

    - libpng-dev  # [linux]
    - libavcodec-dev  # [linux]
    - libavformat-dev  # [linux]
    - libavfilter-dev  # [linux]
    - libavutil-dev  # [linux]
    - libswresample-dev  # [linux]
    - libqt5opengl5-dev  # [linux]
    - libfreetype6-dev  # [linux]

    - tqdm
    - numpy
    - cython
  host:
    - python
    - pip
  run:
    - python

test:
  imports:
    - datoviz
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/{{ name }}/{{ name }}
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Datoviz is an open-source high-performance interactive scientific data visualization library.'
  description: |
    Datoviz is an open-source high-performance interactive scientific data visualization library
    leveraging the graphics processing unit (GPU) for speed, visual quality, and scalability.
  doc_url: https://datoviz.org/#documentation
  dev_url: https://github.com/{{ name }}/{{ name }}

extra:
  recipe-maintainers:
    - rossant
    - benjaminrwilson

