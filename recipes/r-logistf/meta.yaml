{% set version = '1.22' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}
{% set name = 'logistf' %}

package:
  name: 'r-{{ name }}'
  version: '{{ version }}'

source:
  fn: 'logistf_{{ version }}.tar.gz'
  url:
    - '{{ cran_mirror }}/src/contrib/logistf_{{ version }}.tar.gz'
    - '{{ cran_mirror }}/src/contrib/Archive/logistf/logistf_{{ version }}.tar.gz'
  sha256: 'e866f02b1b40332e6e57c932201993725742e464f362e0053776bb8ce8c2fc5a'

build:
  merge_build_host: True  # [win]
  number: 0

  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}        # [not win]
    - {{native}}toolchain        # [win]
    - {{posix}}filesystem        # [win]
    - {{posix}}make

  host:
    - r-base
    - r-mgcv
    - r-mice

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-mgcv
    - r-mice

test:
  commands:
    - $R -e "library('logistf')"           # [not win]
    - "\"%R%\" -e \"library('logistf')\""  # [win]


about:
  home: 'http://cemsiis.meduniwien.ac.at/en/kb/science-research/software/statistical-software/fllogistf/'
  license: 'GPL'
  summary: 'Fit a logistic regression model using Firths bias reduction method, equivalent to
    penalization of the log-likelihood by the Jeffreys  prior. Confidence intervals
    for regression coefficients can be computed by penalized profile likelihood. Firths
    method was proposed as ideal solution to the problem of separation in logistic regression.
    If needed, the bias reduction can be turned off such that ordinary maximum likelihood
    logistic regression is obtained.'
  license_family: 'GPL'

