{% set name = "cld2-cffi" %}
{% set version = "0.1.4" %}
{% set sha256 = "3a29948364ed1e426c5bf542832eee208b1c70c0ad512b1a99bec0e6486f6c67" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  build:
    - python
    - pip
    - toolchain
    - cffi>=1.7.0
    - six
  run:
    - python
    - cffi>=1.7.0
    - six

test:
  imports:
    - cld2
    - python -c 'import cld2; cld2.detect("This is my sample text")'

about:
  home: https://github.com/GregBowyer/cld2-cffi
  license: Apache-2.0
  license_family: Apache
  license_file: '{{ environ["RECIPE_DIR"] }}/LICENSE'
  summary: 'This package contains the CLD (Compact Language Detection) library as maintained by Dick Sites.'

  description: |
    This package contains the CLD (Compact Language Detection) library as maintained by Dick Sites
    (https://code.google.com/p/cld2/). The first fork was done at revision r161. It also contains
    python bindings that were originally created by Mike McCandless. The bindings have gone through
    several hands, with the latest changes being made to rework the bindings for CFFI. These bindings
    are identical in API to the original cld2 bindings, and as a result can be used as a drop in replacement.
  dev_url: https://github.com/GregBowyer/cld2-cffi

extra:
  recipe-maintainers:
    - cu8blank
