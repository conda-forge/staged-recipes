{% set name = "disparity_interpolation" %}
{% set version = "1.0.3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 2d16a7222fd2ccf066a66b71ee64144959daf37c39cf66e4aa00608697f74154

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}

    - cython
    - numpy
    - opencv
  host:
    - python
    - pip
    
    - cython
    - numpy
    - opencv
  run:
    - python

test:
  imports:
    - disparity_interpolation
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/jhonykaesemodel/{{ name }}
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  summary: 'Nearest neighbor interpolation for disparity images with missing parts.'
  description: |
    Some stereo matching methods such as Semi-Global Matching (SGM) might provide sparse disparity maps,
    meaning that some pixels will not have valid disparity values. In those cases,
    an interpolation of the predicted disparity map might be needed for evaluation against semi-dense ground-truth,
    as in the KITTI Stereo 2015 benchmark.
  dev_url: https://github.com/jhonykaesemodel/{{ name }}

extra:
  recipe-maintainers:
    - benjaminrwilson
