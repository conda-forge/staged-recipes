{% set name = "pytraj" %}
{% set version = "2.0.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/Amber-MD/{{ name }}/archive/refs/tags/v.{{ version }}.tar.gz
  sha256: cf47ae1de7b58134ba4311ca8697f664625ccc5f1f5e6bbeea86a551b44505e5

build:
  script: {{ PYTHON }} setup.py install --prefix=$AMBERHOME
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - python
    - pip
    - ambertools
  run:
    - python
    - ambertools

test:
  imports:
    - pytraj
  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/Amber-MD/pytraj
  summary: 'Interactive data analysis for molecular dynamics simulations'
  description: |
    A Python front-end of [cpptraj program] 
    (https://github.com/Amber-MD/cpptraj) 
    (a data analysis package for biomolecular simulation).
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  doc_url: https://amber-md.github.io/pytraj/
  dev_url: https://github.com/Amber-MD/pytraj

extra:
  recipe-maintainers:
    - hainm
    - xiki-tempula
