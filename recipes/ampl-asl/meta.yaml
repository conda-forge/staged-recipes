{% set name = "ampl-asl" %}
{% set version = "20221103" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  # This is checkout corresponding to release 20221103, see the commit message
  - url: https://github.com/ampl/asl/archive/193c580d790684cdac798062fd23bdf5db01aebc.zip
    sha256: c52c98b7ff2c24534c17ad97d5fea8ca0cb7ff38cc933b8d08bac6e498a2ea6b


build:
  number: 0
  run_exports:
    - {{ pin_subpackage(name, max_pin='x') }}

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - pkg-config
    - ninja

test:
  commands:
    - test -f $PREFIX/include/asl/asl.h  # [unix]
    - test -f $PREFIX/lib/libasl${SHLIB_EXT}  # [unix]
    - if not exist %LIBRARY_INC%\\asl\asl.h exit 1  # [win]
    - if not exist %LIBRARY_LIB%\\asl.lib exit 1  # [win]
    - if not exist %LIBRARY_BIN%\\asl.dll exit 1  # [win]

about:
  home: https://github.com/ampl/asl
  license: ???
  license_file: ???
  summary: AMPL Solver Library.

extra:
  recipe-maintainers:
    - traversaro
