{% set name = "classy" %}
{% set version = "2.9.4.0" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/classy-{{ version }}.tar.gz
  sha256: 8a5afdec48414776c2c3bb75ee80884547f33efb82dd1efe19a3f687f9a35caa

build:
  number: 0
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - cython
    - numpy
    - pip
    - python
  run:
    - python
    - {{ pin_compatible('numpy') }}

test:
  imports:
    - classy.Class
  commands:
    - pip check
  requires:
    - pip

about:
  home: http://class-code.net
  license: ''
  license_file: LICENSE
  summary: 'the Cosmic Linear Anisotropy Solving System'
  description: |
    The purpose of CLASS is to simulate the evolution of linear perturbations in the universe and to compute CMB and large scale structure observables. Its name also comes from the fact that it is written in object-oriented style mimicking the notion of class. Classes are a wonderfull programming feature available e.g. in C++ and python, but these languages are known to be less vectorizable/parallelizable than plain C (or Fortran), and hence potentially slower. For CLASS we choose to use plain C for high performances, while organizing the code in a few modules that reproduce the architecture and philosophy of C++ classes, for optimal readability and modularity.
  doc_url: https://github.com/lesgourg/class_public/wiki/Python-wrapper
  dev_url: https://github.com/lesgourg/class_public

extra:
  recipe-maintainers:
    - ickc
