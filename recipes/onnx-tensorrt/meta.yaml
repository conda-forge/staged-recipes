{% set version = "22.02" %}


package:
  name: onnx-tensorrt
  version: {{ version }}

source:
  url: https://github.com/onnx/onnx-tensorrt/archive/{{ version }}.tar.gz
  sha256: efd8b1315cf7bfb8cd87e2b5861e153980e610dee6747a30f6db0e290cda593e
  patches:
    - shared_onnx.patch

build:
  # You can probably build this for windows
  skip: true  # [win]
  # Not building cuda stuff yet
  skip: true
  number: 0
  run_exports:
    - {{ pin_subpackage('onnx-tensorrt', max_pin='x.x.x') }}

requirements:
  build:
    # - python                                 # [build_platform != target_platform]
    # - cross-python_{{ target_platform }}     # [build_platform != target_platform]
    # - numpy                                  # [build_platform != target_platform]
    # - pybind11                               # [build_platform != target_platform]
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - make
    - libprotobuf
  host:
    - onnx
    - libprotobuf

test:
  commands:
    - exit 1

about:
  home: https://github.com/onnx/onnx-tensorrt
  summary: Parses ONNX models for execution with TensorRT.
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE

extra:
  recipe-maintainers:
    - hmaarrfk
