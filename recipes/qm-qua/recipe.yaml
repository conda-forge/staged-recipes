schema_version: 1

context:
  version: 1.2.5

package:
  name: qm-qua
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/q/qm-qua/qm_qua-${{ version }}.tar.gz
  sha256: a296da4de2d0df7c41975111bf26de28e7309c9624bdab868f37d7bfb2bd0c0b

build:
  number: 0
  skip:
    - match(python, "<3.9")
    - match(python, ">=3.13")
  script:
    - ${{ PYTHON }} -c "open('README.md', 'a').close()"
    - ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python
    - poetry-core
    - poetry-dynamic-versioning >=1.0.0,<2.0.0
    - pip
  run:
    - python
    - grpcio >=1.57.0,<2.0.0
    - protobuf >=4,<7
    - betterproto 2.0.0b7.*
    - marshmallow >=3,<3.24
    - marshmallow-polyfield >=5.7.0,<6.0.0
    - numpy <3
    - tinydb >=4.6.1,<5.0.0
    - datadog-api-client >=2.6.0,<3.0.0
    - dependency_injector >=4.41.0,<5.0.0
    - qm-octave 2.1.6.*
    - typing_extensions >=4.5.0,<5.0.0
    - plotly >=5.13.0,<6.0.0
    - httpx >=0.27.0,<1
  run_constraints:
    - certifi *

tests:
  - requirements:
      run:
        - pip
        - python
    script:
      - pip check

about:
  summary: QUA language SDK to control a Quantum Computer
  license: BSD-3-Clause
  license_file: LICENSE
  homepage: https://www.quantum-machines.co/

extra:
  recipe-maintainers:
    - noya-gol
