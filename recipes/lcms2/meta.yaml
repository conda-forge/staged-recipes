{% set version = "2.8" %}

package:
  name: lcms2
  version: {{version}}

source:
  fn: lcms2-{{version}}.tar.gz
  url: https://sourceforge.net/projects/lcms/files/lcms/{{version}}/lcms2-{{version}}.tar.gz
  sha256: 66d02b229d2ea9474e62c2b6cd6720fde946155cd1d0d2bffdab829790a0fb22

build:
  number: 0
  features:
    - vc9   # [win and py27]
    - vc10  # [win and py34]
    - vc14  # [win and py35]

requirements:
  build:
    - cmake         # [win]
    - jpeg 9b
    - libtiff 4.0.6
    - python        # [win]
    - zlib 1.2.8
  run:
    - jpeg >=9b
    - jpeg 9*
    - libtiff >=4.0.6
    - libtiff 4.0.*
    - zlib >=1.2.8
    - zlib 1.2.*

test:
  requires:
    - python   # [win]
  commands:
    # Disable on Linux to work around
    # a bug unique to the test environment
    # created by conda-build.
    - jpgicc   # [not linux]
    - linkicc
    - psicc
    - tificc   # [not linux]
    - tifdiff  # [win]
    - transicc

about:
  home: www.littlecms.com
  license: MIT
  license_family: MIT
  summary: Open source color management engine.

extra:
  recipe-maintainers:
    - insertinterestingnamehere
