{% set version = '2.6-0' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-pcalg
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/pcalg_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/pcalg/pcalg_{{ version }}.tar.gz
  sha256: 2ed97698a0c5bdee7fa499504eb774b589067e03b27bb4ec18b49baf607cacf5

build:
  merge_build_host: True  # [win]
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}        # [not win]
    - {{ compiler('cxx') }}      # [not win]
    - {{native}}toolchain        # [win]
    - {{posix}}filesystem        # [win]
    - {{posix}}make
    - {{posix}}sed               # [win]
    - {{posix}}coreutils         # [win]
    - {{posix}}zip               # [win]
  host:
    - r-base
    - r-bh
    - r-rbgl
    - r-rcpp
    - r-rcpparmadillo
    - r-abind
    - r-bdsmatrix
    - r-clue
    - r-corpcor
    - r-dagitty
    - r-fastica
    - r-ggm
    - r-graph
    - r-igraph
    - r-robustbase
    - r-sfsmisc >=1.0_26
    - r-vcd
  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-bh
    - r-rbgl
    - r-rcpp
    - r-rcpparmadillo
    - r-abind
    - r-bdsmatrix
    - r-clue
    - r-corpcor
    - r-dagitty
    - r-fastica
    - r-ggm
    - r-graph
    - r-igraph
    - r-robustbase
    - r-sfsmisc >=1.0_26
    - r-vcd

test:
  commands:
    - $R -e "library('pcalg')"           # [not win]
    - "\"%R%\" -e \"library('pcalg')\""  # [win]

about:
  home: http://pcalg.r-forge.r-project.org/
  license: GPL (>= 2)
  summary: Functions for causal structure learning and causal inference using graphical models.
    The main algorithms for causal structure learning are PC (for observational data
    without hidden variables), FCI and RFCI (for observational data with hidden variables),
    and GIES (for a mix of data from observational studies (i.e. observational data)
    and data from experiments involving interventions (i.e. interventional data) without
    hidden variables). For causal inference the IDA algorithm, the Generalized Backdoor
    Criterion (GBC), the Generalized Adjustment Criterion (GAC) and some related functions
    are implemented. Functions for incorporating background knowledge are provided.
  license_family: GPL3
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
    - cbrueffer
    - dbast
    - dpryan79
