context:
  version: 2.4.0

package:
  name: bioio-czi
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/b/bioio-czi/bioio_czi-${{ version }}.tar.gz
  sha256: 9632a97471bd0af40ce25be8b6686f7bd51b6427762732d2b8f9fdfe45cdaae8

build:
  script: ${{ PYTHON }} -m pip install .
  noarch: python
  number: 0

requirements:
  host:
  - python ${{ python_min }}.*
  - setuptools >=65
  - wheel
  - setuptools_scm[toml] >=6.2
  - pip
  run:
  - python >=${{ python_min }}
  - aicspylibczi >=3.2.1
  - 'aiohttp '
  - bioio-base >=3.0.0
  - dask[array] >=2021.4.1
  - fsspec >=2022.8.0
  - lxml >=4.6
  # - lxml >=5 # python_version >= "3.13"
  - ome-types >=0.3.4
  - 'pylibczirw '
  - python-dateutil >=2.9.0.post0
  - 'requests '
  - xarray >=2022.6.0
  # - pre-commit >=2.20.0 # extra == "lint"
  # - coverage >=5.1 # extra == "test"
  # - pytest >=5.4.3 # extra == "test"
  # - pytest-cov >=2.9.0 # extra == "test"
  # - pytest-raises >=0.11 # extra == "test"

tests:
- python:
    imports:
    - bioio-czi
    pip_check: true
    python_version: ${{ python_min }}.*

about:
  summary: A Bioio reader plugin for reading czi images.
  description: A BioIO reader plugin for reading CZIs using `pylibczirw` (default) or `aicspylibczi`.
  license: GPL-3.0-only
  homepage: https://github.com/bioio-devs/bioio-czi
  license_file: LICENSE

extra:
  recipe-maintainers:
    - lucascolley
