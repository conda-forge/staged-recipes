{% set name = "kedro-datasets" %}
{% set version = "0.0.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
#  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/kedro-datasets-{{ version }}.tar.gz
#  sha256: 7b8b376d8616b6ae6e1a6bd8ba01d32a0c4f385d4fab884d3e3ee536a9b1d49b
  git_url: https://github.com/kedro-org/kedro-plugins.git
  git_tag: main
  folder: kedro-plugins/kedro-datasets
#  git_rev: 1.1.4
  git_depth: 1 # (Defaults to -1/not shallow)  
   

build:
  skip: true  # [py>=311 or py2k or py<37]
  skip: true  # [win or osx]
  script: {{ PYTHON }} -m pip install ../../kedro-plugins/kedro-datasets/ -vv
  #script: python ../kedro-plugins/kedro-datasets/setup.py install --single-version-externally-managed --record record.txt
  number: 0

requirements:
  build:
    - python {{ PY_VER }}*
    # cython inclusion here is to test https://github.com/conda/conda-build/issues/149
    # cython chosen because it is implicated somehow in setup.py complications.  Numpy would also work.
    - cython
  host:
    - python
    - pip
  run:
    - python
    - adlfs <=2022.2,>=2021.7.1
    - bandit <2.0,>=1.6.2
    - biopython >=1.73,<2
    - dask-core >=2021.10,<2022
    - dill >=0.3.1,<0.4
    - filelock <4.0,>=3.4.0
    - gcsfs <=2022.1,>=2021.4
    - geopandas <1.0,>=0.6.0
    - python-hdfs <3.0,>=2.5.8
    - holoviews >=1.13.0,<1.14
    - ipython <8.0,>=7.31.1
    - jinja2 <3.1.0
    - joblib >=0.14
    - jupyterlab >=3.0,<4
    - jupyter >=1.0,<2
    - lxml >=4.6,<5
    - memory_profiler <1.0,>=0.50.0
    - networkx >=2.4,<3
    - openpyxl <4.0,>=3.0.3
    - pandas-gbq <1.0,>=0.12.0
    - pandas >=1.3,<2
    - pillow >=9.0,<10
    - plotly <6.0,>=4.8.0
    - psutil >=5.8.0,<6.0.0
    - pyarrow <10.0,>=1.0
    - pylint <3.0,>=2.5.2
    - pyproj >=3.0,<4
    - pyspark <4.0,>=2.2  # [not win]
    - redis-py >=4.1,<5
    - requests >=2.20,<3
    - s3fs <0.5,>=0.3.0
    - sqlalchemy >=1.2,<2
    - tensorflow >=2.0,<3  # [not win]
    - xlsxwriter >=1.0,<2
    - pytables >=3.6,<4  # [not win]
    - matplotlib-base <3.4,>=3.0.3  # [py<39]

test:
  imports:
    - kedro_datasets

about:
  home: https://github.com/kedro-org/kedro-plugins/tree/main/kedro-datasets
  summary: Kedro-Datasets is where you can find all of Kedro's data connectors.
  license: Apache-2.0
  license_file: PLEASE_ADD_LICENSE_FILE

extra:
  recipe-maintainers:
    - rxm7706
