{% set name = "bids-validator" %}
{% set version = "1.3.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/bids-standard/{{ name }}/archive/{{ version }}.tar.gz
  sha256: 3230732bf7b80bcd9fe4b879cb34f80468d1181aae7a79545ae1759baa4a4ddd

build:
  number: 0
  script: npm install ./bids-validator && npm install -g ./bids-validator
  script: npm pack ./bids-validator; npm install -g {{ name }}-{{ version }}.tgz

requirements:
  build:
    - nodejs
  run:
    - nodejs

test:
  commands:
    - npm list -g bids-validator
    - bids-validator --help

about:
  home: https://github.com/bids-standard/bids-validator
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Validator for the Brain Imaging Data Structure'

extra:
  recipe-maintainers:
    - rwblair
