{% set version = "1.0" %}

package:
  name: cupyifcudaavailable
  version: {{ version }}

{% set build = 0 %}

{% if with_cuda %}
# Tell the solver to prefer the cuda installation
{% set build = build + 100 %}
{% endif  %}

build:
  number: {{ build }}
  noarch: generic
  string: cuda_{{ PKG_BUILDNUM }}  # [with_cuda]
  string: cpu_{{ PKG_BUILDNUM }}   # [with_cuda]


requirements:    # [with_cuda]
  run:           # [with_cuda]
    - __cuda     # [with_cuda]
    - cupy       # [wtih_cuda]

test:
  commands:
    - echo "no tests for this package"

about:
  home: https://github.com/conda-forge/cupyifcudaavailable-feedstock
  license: BSD-3-Clause
  license_file: LICENSE
  summary: 'Allows noarch packages to depend on cupy without large downloads'

extra:
  recipe-maintainers:
    - hmaarrfk
