{% set name = "jupyterlab-celltests" %}
{% set version = "3.8.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 295db4fec59c8c88a84525ffd47fb7b463397751af33cba8d408c4a0eb61b788

requirements:
  host:
    - nodejs
    - pip
    - python >=3.6
  run:
    - flake8
    - jupyterlab >=2.0.0
    - nbconvert
    - nbval >=0.9.1
    - nodejs
    - pytest >=4.4.0
    - pytest-html >=1.20.0
    - python >=3.6

test:
  imports:
    - jupyterlab_celltests
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/jpmorganchase/nbcelltests
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: 'Cell-by-cell tests for JupyterLab'
  description: |
    nbcelltests is designed for writing tests for linearly executed notebooks. Its primary use is for unit testing reports. When converting notebooks into html/pdf/email reports, they are executed top-to-bottom one time, and are expected to contain as little code as reasonably possible, focusing primarily on the plotting and markdown bits. Libraries for this type of thing include Papermill, JupyterLab Emails, etc.
  doc_url: https://nbcelltests.readthedocs.io/
  dev_url: https://github.com/jpmorganchase/nbcelltests

extra:
  recipe-maintainers:
    - thewchan
