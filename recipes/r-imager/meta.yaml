{% set version = '0.41.2' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-imager
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/imager_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/imager/imager_{{ version }}.tar.gz
  sha256: 9be8bc8b3190d469fcb2883045a404d3b496a0380f887ee3caea11f0a07cd8a5

build:
  merge_build_host: True  # [win]
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{posix}}filesystem        # [win]
    - {{posix}}sed               # [win]
    - {{posix}}grep              # [win]
    - {{posix}}autoconf
    - {{posix}}automake          # [not win]
    - {{posix}}automake-wrapper  # [win]
    - {{posix}}pkg-config
    - {{posix}}make
    - {{posix}}coreutils         # [win]
    - {{posix}}zip               # [win]
  host:
    - r-base
    - r-cairo
    - r-rcpp >=0.11.5
    - r-downloader
    - r-igraph
    - r-jpeg
    - r-magrittr
    - r-plyr
    - r-png
    - r-purrr
    - r-readbitmap
    - r-stringr
    - fftw
    - libtiff
  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-cairo
    - r-rcpp >=0.11.5
    - r-downloader
    - r-igraph
    - r-jpeg
    - r-magrittr
    - r-plyr
    - r-png
    - r-purrr
    - r-readbitmap
    - r-stringr
    - fftw
    - libtiff

test:
  commands:
    - $R -e "library('imager')"           # [not win]
    - "\"%R%\" -e \"library('imager')\""  # [win]

about:
  home: http://dahtah.github.io/imager, https://github.com/dahtah/imager
  license: LGPL
  summary: Fast image processing for images in up to 4 dimensions (two spatial dimensions, one
    time/depth dimension, one colour dimension). Provides most traditional image processing
    tools (filtering, morphology, transformations, etc.) as well as various functions
    for easily analysing image data using R. The package wraps 'CImg', <http://cimg.eu>,
    a simple, modern C++ library for image processing.
  license_family: LGPL
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/LGPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r

# Package: imager
# Type: Package
# Title: Image Processing Library Based on 'CImg'
# Version: 0.41.2
# Date: 2018-05-30
# Author: Simon Barthelme [aut, cre], David Tschumperle [ctb], Jan Wijffels [ctb], Haz Edine Assemlal [ctb]
# Authors@R: c(person("Simon","Barthelme",email="simon.barthelme@gipsa-lab.fr",role=c("aut","cre")), person("David","Tschumperle",role=c("ctb")), person("Jan","Wijffels",role=c("ctb")), person("Haz Edine","Assemlal",role=c("ctb")))
# Maintainer: ORPHANED
# Description: Fast image processing for images in up to 4 dimensions (two spatial dimensions, one time/depth dimension, one colour dimension). Provides most traditional image processing tools (filtering, morphology, transformations, etc.) as well as various functions for easily analysing image data using R. The package wraps 'CImg', <http://cimg.eu>, a simple, modern C++ library for image processing.
# License: LGPL
# Imports: Rcpp (>= 0.11.5),methods,stringr,png,jpeg,readbitmap,grDevices,purrr,Cairo,downloader,igraph,plyr
# Depends: R (>= 2.10.0),magrittr
# URL: http://dahtah.github.io/imager, https://github.com/dahtah/imager
# BugReports: https://github.com/dahtah/imager/issues
# SystemRequirements: fftw3,libtiff,C++11
# LinkingTo: Rcpp
# LazyData: true
# RoxygenNote: 6.0.1
# Suggests: knitr, rmarkdown,ggplot2,dplyr,scales, testthat,OpenMPController,raster,spatstat
# VignetteBuilder: knitr
# NeedsCompilation: yes
# Packaged: 2019-01-21 11:13:57 UTC; ripley
# Repository: CRAN
# Date/Publication: 2019-01-23 10:43:50 UTC
# X-CRAN-Original-Maintainer: Simon Barthelme <simon.barthelme@gipsa-lab.fr>
# X-CRAN-Comment: Orphaned on 2019-01-23 as no response to request to fix check issues.
