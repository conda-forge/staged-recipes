{% set name = "vscode" %}
{% set version = "1.23.1" %}
{% set plat = "linux-x64" %}
{% set channel = "stable" %}
{% set sha256 = "f3d1d1bf9de4d4bdd53da2f08816e4673c0f84422257330dc6d117873fa2cc7f" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://{{ name }}-update.azurewebsites.net/{{ version }}/{{ plat }}/{{ channel }}
  sha256: {{ sha256 }}
  fn: {{ name }}-{{channel}}_{{ version }}_{{ plat }}.tar.gz
  folder: {{ name }}

build:
  number: 0
  script: mv ./vscode ${PREFIX}
  binary_relocation: false
  rpaths:
    - "/lib64/"
    - "lib/"
  #detect_binary_files_with_prefix: true


  # script: tar --extract --directory={{ name }} --strip-components=1 --file={{ name }}-{{channel}}_{{ version }}_{{ plat }}.tar.gz
  #script: tar --extract --strip-components=1 --file={{ name }}/{{ name }}-{{channel}}_{{ version }}_{{ plat }}.tar.gz
  #
about:
  home: https://code.visualstudio.com
  license: MIT
  license_family: MIT
  license_file: {{ name }}/resources/app/LICENSE.txt
  summary: 'Visual Studio Code is a software development environment that combines a code editor with tools which what developers need for their core edit-build-debug cycle.'

  # The remaining entries in this section are optional, but recommended
  description: |
    Visual Studio Code is a lightweight but powerful source code editor which runs
    on your desktop and is available for Windows, macOS and Linux. It comes with
    built-in support for JavaScript, TypeScript and Node.js and has a rich ecosystem
    of extensions for other languages (such as C++, C#, Java, Python, PHP, Go) and
    runtimes (such as .NET and Unity). Begin your journey with VS Code with
    introductory videos at https://code.visualstudio.com/docs/introvideos/overview
  doc_url: https://code.visualstudio.com/docs/
  dev_url: https://github.com/Microsoft/vscode/

extra:
  recipe-maintainers:
    - Didenko
