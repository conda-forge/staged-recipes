{% set version = "0.16.0" %}

package:
  name: kserve
  version: {{ version }}

source:
  - url: https://pypi.org/packages/source/k/kserve/kserve-{{ version }}.tar.gz
    sha256: 31babe50989fee8dd375277da795136269ca76210cce17c23366a31dddb5a6a4
  - url: https://raw.githubusercontent.com/kserve/kserve/refs/tags/v{{ version }}/LICENSE
    sha256: c71d239df91726fc519c6eb72d318ec65820627232b2f796219e87dcf35d0ab4
    fn: LICENSE-kserve.txt

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python {{ python_min }}
    - setuptools >=61.0
    - pip
  run:
    - python >={{ python_min }},<3.13
    - cloudevents <2.0.0,>=1.6.2
    - fastapi >=0.115.3
    - grpc-interceptor <1.0.0,>=0.15.4
    - grpcio <2.0.0,>=1.64.1
    - grpcio-tools <2.0.0,>=1.64.1
    - httpx <1.0.0,>=0.27.2
    - numpy <3.0.0,>=1.26.0
    - orjson <4.0.0,>=3.9.15
    - pandas <3.0.0,>=2.2.0
    - prometheus_client <1.0.0,>=0.20.0
    - protobuf <6.0.0,>=5.27.1
    - psutil <6.0.0,>=5.9.6
    - pydantic <3.0.0,>=2.5.0
    - python-dateutil <3.0.0,>=2.8.0
    - python-kubernetes >=23.3.0
    - pyyaml <7.0.0,>=6.0.0
    - six <2.0.0,>=1.16.0
    - tabulate <1.0.0,>=0.9.0
    - timing-asgi <1.0.0,>=0.3.0
    - uvicorn <1.0.0,>=0.30.6

test:
  imports:
    - kserve
  commands:
    - pip check
  requires:
    - pip
    - python {{ python_min }}

about:
  home: https://pypi.org/project/kserve/
  summary: KServe Python SDK
  dev_url: https://github.com/kserve/kserve
  doc_url: https://kserve.github.io/website/
  license: Apache-2.0
  license_file: LICENSE-kserve.txt

extra:
  recipe-maintainers:
    - dbast
    - sraza-ana
