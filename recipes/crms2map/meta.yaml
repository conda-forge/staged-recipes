{% set name = "crms2map" %}
{% set version = "1.0" %}

package:
  name: {{ name |lower }}
  version: {{ version }}

source:
  url: https://github.com/jinikeda/{{ name |lower }}/archive/refs/tags/{{ version }}.tar.gz
  sha256: 7c718dbe50dd3fe7cb2cf294418e846028126ed6a4f9c3960db92b7cfce3ae53

build:
  noarch: python
  entry_points:
    - CRMS2Map = src.click_main:click_main
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  host:
    - python {{ python_min }} 
    - pip
    - setuptools
  run:
    - python >={{ python_min }}
    - gdal
    - numpy
    - pandas
    - geopandas
    - rasterio
    - scipy
    - matplotlib-base
    - seaborn
    - basemap
    - rioxarray
    - click

test:
  imports:
    - src.CRMS_general_functions
  requires:
    - python {{ python_min }}
    - pytest
    - pytest-mock
  source_files:
    - tests
    - tests/test_CRMS_general_functions.py
    - tests/__init__.py
  commands:
    - CRMS2Map --help
    - pytest tests/test_CRMS_general_functions.py

about:
  home: https://github.com/jinikeda/crms2map
  summary: 'Automated data analytical and mapping tools for the Louisiana Coastal Reference Monitoring System (CRMS) Hydrographic Data'
  description: |
    CRMS2Map is a Python CRMS data processing, analysis, and mapping tool. The tool automatically downloads hydrographic data from https://cims.coastal.la.gov/monitoring-data/ and creates datasets for salinity, water levels, percent time inundation, and inundation depth, respectively. After that, the tool conducts data analytics and mapping for coastal Louisiana with user-defined input parameters.
  license: MIT
  license_family: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - jinikeda
