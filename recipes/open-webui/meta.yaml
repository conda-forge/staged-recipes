{% set name = "open-webui" %}
{% set version = "0.5.7" %}
{% set python_min = "3.11" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/open-webui-{{ version }}.tar.gz
  sha256: 2b20a8533e4cd4e6cc8394c2928fa7c0206ee656cd1eeec87f36bddcc05c4466

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python >={{ python_min }},<3.13
    - hatchling
    - pip
  run:
    - python >={{ python_min }},<3.13
    - fastapi ==0.111.0
    - uvicorn ==0.30.6
    - pydantic ==2.9.2
    - python-multipart ==0.0.18
    - flask ==3.1.0
    - flask-cors ==5.0.0
    - python-socketio ==5.11.3
    - python-jose ==3.3.0
    - passlib ==1.7.4
    - requests ==2.32.3
    - aiohttp ==3.11.8
    - async-timeout
    - aiocache
    - aiofiles
    - sqlalchemy ==2.0.32
    - alembic ==1.14.0
    - peewee ==3.17.8
    - peewee-migrate ==1.12.2
    - psycopg2-binary ==2.9.9
    - pgvector ==0.3.5
    - pymysql ==1.1.1
    - bcrypt ==4.2.0
    - pymongo
    - redis-py
    - boto3 ==1.35.53
    - argon2-cffi ==23.1.0
    - apscheduler ==3.10.4
    - openai
    - anthropic
    - google-generativeai ==0.7.2
    - tiktoken
    - langchain ==0.3.7
    - langchain-community ==0.3.7
    - fake-useragent ==1.5.1
    - chromadb ==0.6.2
    - pymilvus ==2.5.0
    - qdrant-client >=1.12.0,<1.13.dev0
    - opensearch-py ==2.7.1
    - transformers
    - sentence-transformers ==3.3.1
    - colbert-ai ==0.2.21
    - einops ==0.8.0
    - ftfy ==6.2.3
    - pypdf ==4.3.1
    - fpdf2 ==2.8.2
    - pymdown-extensions ==10.11.2
    - docx2txt ==0.8
    - python-pptx ==1.0.0
    - unstructured ==0.15.9
    - nltk ==3.9.1
    - markdown ==3.7
    - pypandoc ==1.13
    - pandas ==2.2.3
    - openpyxl ==3.1.5
    - pyxlsb ==1.0.10
    - xlrd ==2.0.1
    - validators ==0.34.0
    - psutil
    - sentencepiece
    - soundfile ==0.12.1
    - opencv ==4.10.0.84
    - rapidocr-onnxruntime ==1.3.24
    - rank-bm25 ==0.2.2
    - faster-whisper ==1.0.3
    - pyjwt ==2.10.1
    - authlib ==1.3.2
    - black ==24.8.0
    - langfuse ==2.44.0
    - youtube-transcript-api ==0.6.3
    - pytube ==15.0.0
    - msg-extractor
    - pydub
    - duckduckgo-search >=7.2.1,<7.3.dev0
    - google-api-python-client
    - google-auth-httplib2
    - google-auth-oauthlib
    - docker-py >=7.1.0,<7.2.dev0
    - pytest >=8.3.2,<8.4.dev0
    - pytest-docker >=3.1.1,<3.2.dev0
    - moto >=5.0.26
    - googleapis-common-protos ==1.63.2
    - google-cloud-storage ==2.19.0
    - ldap3 ==2.9.1
    - gcp-storage-emulator >=2024.8.3

test:
  imports:
    - open_webui
  commands:
    - pip check
  requires:
    - pip

about:
  summary: Open WebUI is an extensible, feature-rich, and user-friendly self-hosted AI platform designed to operate entirely offline.
  home: https://github.com/open-webui/open-webui
  license: BSD-3-Clause
  license_file: LICENSE

extra:
  recipe-maintainers:
    - raybellwaves
