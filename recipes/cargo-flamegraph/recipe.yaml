context:
  name: cargo-flamegraph
  version: "0.6.8"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: "https://github.com/flamegraph-rs/flamegraph/archive/v${{ version }}.tar.gz"
  sha256: 2673a04bd4de142220d42706e0c25a4dea08aee52cdffbf87cca5738cec649ff

build:
  number: 0

requirements:
  build:
    - ${{ compiler('rust') }}
    - ${{ compiler('c') }}
    - ${{ stdlib('c') }}
    - cargo-bundle-licenses
  run:
    - if: linux
      then: linux-perf

tests:
  - script:
      - cargo-flamegraph --help

about:
  homepage: https://github.com/flamegraph-rs/flamegraph/
  summary: "A Rust-powered flamegraph generator with additional support for Cargo projects."
  description: |
    A Rust-powered flamegraph generator with additional support for Cargo
    projects! It can be used to profile anything, not just Rust projects! No
    perl or pipes required <3
  license: MIT
  license_file:
    - LICENSE-APACHE
    - LICENSE-MIT
  repository: https://github.com/flamegraph-rs/flamegraph

extra:
  recipe-maintainers:
    - Hofer-Julian
    - M-Sabrina
