{% set name = "actionlint" %}
{% set version = "1.6.13" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/rhysd/{{ name }}/archive/refs/tags/v{{ version }}.tar.gz
  sha256: ad0cf7ab26416df5abc4a0ded7bb416c834e57fcebfe330a335129e8d5a9c3bd

build:
  number: 0

requirements:
  build:
    - go-cgo >=1.17.0
    - {{ compiler('go') }}
    - make

test:
  commands:
    - actionlint --version

about:
  home: https://github.com/rhysd/actionlint
  summary: 'actionlint is a static checker for GitHub Actions workflow files'
  description: |
    Syntax check for workflow files to check unexpected or missing keys following workflow syntax
    Strong type check for `$\{\{ \}\}` expressions to catch several semantic errors like access to not existing property, type mismatches
    Actions usage check to check that inputs at with: and outputs in steps.{id}.outputs are correct
    shellcheck and pyflakes integrations for scripts at run:
    Security checks; script injection by untrusted inputs, hard-coded credentials
    Other several useful checks; glob syntax validation, dependencies check for needs:, runner label validation, cron syntax validation
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  doc_url: https://rhysd.github.io/actionlint/
  dev_url: https://github.com/rhysd/actionlint

extra:
  recipe-maintainers:
    - xmnlab
    - jloehel
