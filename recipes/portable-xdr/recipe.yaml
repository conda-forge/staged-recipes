context:
  name: portable-xdr
  version: "4.9.1"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://people.redhat.com/~rjones/portablexdr/files/portablexdr-${{ version }}.tar.gz
  sha256: 5cf4bdd153cf4d44eaf10b725f451d0cfadc070b4b9a9ccfb64094b8f78de72c

build:
  number: 0

requirements:
  build:
    - ${{ compiler("c") }}
    - ${{ compiler("cxx") }}
    - ${{ stdlib("c") }}
    - cmake
    - ninja
  run_exports:
    - ${{ pin_subpackage("portable-xdr", lower_bound="x.x.x", upper_bound="x.x.x") }}

tests:
  - package_contents:
      lib:
        - xdr
      include:
        - rpc/rpc.h
        - rpc/types.h
        - rpc/config.h

about:
  homepage: https://people.redhat.com/~rjones/portablexdr/
  summary: PortableXDR - external data representation (XDR) library
  description: |
    Portable XDR is an XDR (RFC 4506) library for Unix, Linux, Windows and Mac OS X.
    The goals of this library are very narrowly defined at the moment:

    1. Support the XDR functions required to build libvirt.
    2. Compile, install and use under modern versions of Windows, using MinGW compiler and MSys toolchain; and Mac OS X â‰¥ 10.3 using gcc.
    3. Supply binaries and installers for Windows and Mac users.
    4. Remove all Sun code because of questionable license.
  license: LGPL-2.0-or-later
  license_file: COPYING
  repository: http://git.annexia.org/?p=portablexdr.git

extra:
  recipe-maintainers:
    - munechika-koyo
