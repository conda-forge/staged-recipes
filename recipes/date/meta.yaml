{% set name = "date" %}
{% set version = "3.0.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/HowardHinnant/date/archive/v{{ version }}.tar.gz
  sha256: 7a390f200f0ccd207e8cff6757e04817c1a0aec3e327b006b7eb451c57ee3538

build:
  number: 0
  skip: true  # [win]

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - make  # [unix]

test:
  commands:
    - test -f ${PREFIX}/include/date/date.h
    - test -f ${PREFIX}/lib/libdate-tz${SHLIB_EXT}
    - test -f ${PREFIX}/include/date/tz.h
    - test -f ${PREFIX}/lib/cmake/date/dateConfig.cmake
    - test -f ${PREFIX}/lib/cmake/date/dateConfigVersion.cmake
    - test -f ${PREFIX}/lib/cmake/date/dateTargets.cmake
    - test -f ${PREFIX}/lib/cmake/date/dateTargets-release.cmake

about:
  summary: A date and time library based on the C++17 <chrono> header
  description: A date and time library based on the C++17 <chrono> header
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  home: https://howardhinnant.github.io/date/date.html
  dev_url: https://github.com/HowardHinnant/date

extra:
  recipe-maintainers:
    - jjerphan
