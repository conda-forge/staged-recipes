{% set name = "sire" %}
{% set version = "2021.1.0" %}
{% set build = 0 %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/michellab/{{ name }}/archive/{{ version }}.tar.gz
  sha256: 127f8d6af5371a21a6a5c43ccf1206f863b6ab9ffbd956a7920c5b09fd1a92f2

build:
  number: {{ build }}
  skip: true  # [win]

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - automake
    - cmake
    - git
    - libtool
    - make
  host:
    - {{ blas_impl }}
    - boost
    - gsl
    - libnetcdf
    - openmm
    - python
    - qt
    - tbb-devel
  run:
    - libblas * *{{ blas_impl }}
    - {{ blas_impl }}
    - boost
    - gsl
    - libnetcdf
    - openmm
    - pymbar
    - pyqt
    - python
    - qt
    - tbb

test:
  imports:
    - Sire

about:
  home: https://github.com/michellab/Sire
  license: GPL-2.0-or-later
  license_file:
    - '{{ environ["RECIPE_DIR"] }}/LICENSE'
    - '{{ environ["RECIPE_DIR"] }}/THIRDPARTY'
  summary: "An advanced, multiscale, molecular-simulation framework."
  dev_url: https://github.com/michellab/Sire
  doc_url: https://siremol.org
  description: |
                Sire is a free, open source, multiscale molecular-simulation framework,
                written to allow computational modellers to quickly prototype and develop
                new algorithms for molecular simulation and molecular design. Sire is written
                as a collection of libraries, each of which contains self-contained and
                robust C++/Python building blocks. These building blocks are vectorised
                and thread-aware and can be streamed (saved/loaded) to and from a
                version-controlled and tagged binary format, thereby allowing them to be
                combined together easily to build custom multi-processor molecular
                simulation applications.

extra:
  recipe-maintainers:
    - chryswoods
    - jmichel80
    - lohedges
