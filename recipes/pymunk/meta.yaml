{% set name = "pymunk" %}
{% set version = "5.4.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  
  # url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.zip
  # sha256: dcd92862927c57873a3d138a41330ecf0a553609b4c60887221c872a9fdf1054
  # temp url while debugging...
  url: https://github.com/viblo/pymunk/archive/4ea5444a41b1ba2afdfc446277ca1ff56ab20768.zip
  sha256: 277630044866f7c0b7a83b557511a29b6287369e131e6beb61101fc4fdd8a635
  
  
build:
  number: 0
  # Note: --no-deps is currently required due to https://github.com/conda/conda-build/issues/3254
  # Once resolved, it should be removed.
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  build:
    - {{ compiler('m2w64_c') }}  # [win]
    - {{ compiler('c') }}  # [unix]
  host:
    - python
    - pip
    - cffi
  run:
    - python
    - cffi

test:
  imports:
    - pymunk

about:
  home: https://www.pymunk.org
  license: MIT
  license_family: MIT
  license_file: LICENSE.txt
  summary: 'Pymunk is a easy-to-use pythonic 2d physics library'

  # The remaining entries in this section are optional, but recommended
  description: |
    Pymunk is a easy-to-use pythonic 2d physics library that can be used 
    whenever you need 2d rigid body physics from Python. Perfect when you need 
    2d physics in your game, demo or other application! It is built on top of 
    the very capable 2d physics library Chipmunk <http://chipmunk-physics.net>.
  doc_url: https://www.pymunk.org
  dev_url: https://github.com/viblo/pymunk

extra:
  recipe-maintainers:
    - viblo
