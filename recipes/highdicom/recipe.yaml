context:
    version: 0.25.1
    python_min: 3.10

package:
    name: highdicom
    version: ${{ version }}

source:
    - url: https://pypi.org/packages/source/h/highdicom/highdicom-${{ version }}.tar.gz
      sha256: db77eec2c533d79ea698cc10c0be7c203dc5ce5bf0f2b6ca822b816c4c0531f1

build:
    script: ${{ PYTHON }} -m pip install .
    noarch: python
    number: 0

requirements:
    host:
        - python ${{ python_min }}.*
        - setuptools >=64
        - pip
    run:
        - python >=${{ python_min }}
        - numpy >=1.19
        - pillow >=8.3
        - pydicom >=3.0.1
        - pyjpegls >=1.0.0
        - typing-extensions >=4.0.0
    # TODO:: Discuss with Chris about including these extras
    # - pylibjpeg-libjpeg >=2.1 # extra == "libjpeg"
    # - pylibjpeg-openjpeg >=2.0.0 # extra == "libjpeg"
    # - pylibjpeg >=2.0 # extra == "libjpeg"

tests:
    - python:
          python_version: ${{ python_min }}.*
          imports:
              - highdicom
          pip_check: true

about:
    summary: High-level DICOM abstractions.
    license_file: LICENSE
    homepage: "https://github.com/imagingdatacommons/highdicom"
    license: MIT
    documentation: "https://highdicom.readthedocs.io/"
    repository: "https://github.com/ImagingDataCommons/highdicom.git"

extra:
    recipe-maintainers:
        - jjjermiah
