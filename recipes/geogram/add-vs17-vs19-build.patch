From 78600356a370263d0ee567a1932c12f865c7e2c4 Mon Sep 17 00:00:00 2001
From: Neil Godber <njgodber@outlook.com>
Date: Sun, 20 Jun 2021 10:44:40 +1000
Subject: [PATCH] add vs19 build

---
 cmake/platforms/Win64-vs2017/config.cmake | 3 +++
 cmake/platforms/Win64-vs2017/setvars.bat  | 8 ++++++++
 cmake/platforms/Win64-vs2019/config.cmake | 3 +++
 cmake/platforms/Win64-vs2019/setvars.bat  | 8 ++++++++
 4 files changed, 22 insertions(+)
 create mode 100644 cmake/platforms/Win64-vs2017/config.cmake
 create mode 100644 cmake/platforms/Win64-vs2017/setvars.bat
 create mode 100644 cmake/platforms/Win64-vs2019/config.cmake
 create mode 100644 cmake/platforms/Win64-vs2019/setvars.bat

diff --git a/cmake/platforms/Win64-vs2017/config.cmake b/cmake/platforms/Win64-vs2017/config.cmake
new file mode 100644
index 0000000..766a7f6
--- /dev/null
+++ b/cmake/platforms/Win64-vs2017/config.cmake
@@ -0,0 +1,3 @@
+set(VORPALINE_ARCH_64 true)
+include(${GEOGRAM_SOURCE_DIR}/cmake/platforms/Windows-vs.cmake)
+
diff --git a/cmake/platforms/Win64-vs2017/setvars.bat b/cmake/platforms/Win64-vs2017/setvars.bat
new file mode 100644
index 0000000..465ffad
--- /dev/null
+++ b/cmake/platforms/Win64-vs2017/setvars.bat
@@ -0,0 +1,8 @@
+:: Get the Visual Studio installation dir
+set MSVCDIR=%VS140COMNTOOLS%..\..\VC
+
+:: Configure environment for Visual Studio
+call "%MSVCDIR%\VCVARSALL.BAT" x64
+
+:: Set the generator to use
+set CMAKE_VS_GENERATOR=Visual Studio 15 2017
diff --git a/cmake/platforms/Win64-vs2019/config.cmake b/cmake/platforms/Win64-vs2019/config.cmake
new file mode 100644
index 0000000..766a7f6
--- /dev/null
+++ b/cmake/platforms/Win64-vs2019/config.cmake
@@ -0,0 +1,3 @@
+set(VORPALINE_ARCH_64 true)
+include(${GEOGRAM_SOURCE_DIR}/cmake/platforms/Windows-vs.cmake)
+
diff --git a/cmake/platforms/Win64-vs2019/setvars.bat b/cmake/platforms/Win64-vs2019/setvars.bat
new file mode 100644
index 0000000..53cf810
--- /dev/null
+++ b/cmake/platforms/Win64-vs2019/setvars.bat
@@ -0,0 +1,8 @@
+:: Get the Visual Studio installation dir
+set MSVCDIR=%VS140COMNTOOLS%..\..\VC
+
+:: Configure environment for Visual Studio
+call "%MSVCDIR%\VCVARSALL.BAT" x64
+
+:: Set the generator to use
+set CMAKE_VS_GENERATOR=Visual Studio 16 2019
-- 
2.19.1.windows.1

