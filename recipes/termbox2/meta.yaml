{% set version = "2.5.0" %}

package:
  name: termbox2
  version: {{ version }}

source:
  url: https://github.com/termbox/termbox2/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 1d7a9811060e3673be417019007acbf4e2575734b6f95baaf6e8aed27f06c65a

build:
  number: 0
  skip: true  # [win]
  script: CFLAGS='-std=gnu99' make prefix=$PREFIX install_h_lib install_so

requirements:
  build:
    - {{ compiler('c') }}
    - {{ stdlib('c') }}
    - make

test:
  commands:
    - find $PREFIX
    - test -f $PREFIX/include/termbox2.h
    - test -f $PREFIX/lib/libtermbox2.so  # [ linux ]
    - test -f $PREFIX/lib/libtermbox2.dylib  # [ osx ]

about:
  home: https://github.com/termbox/termbox2
  summary: 'suckless terminal rendering library'
  description: |
    termbox2 is a terminal rendering library for creating TUIs. It is a
    suckless alternative to the ubiquitous ncurses library. It ships
    with built-in support for popular terminals and can also fallback to
    terminfo if present. Compared to the original termbox, it retains a
    simple API and no dependencies beyond libc, and adds stricter error
    checking, more efficient escape sequence parsing, opt-in support for
    32-bit color, extended grapheme clusters, code gen for built-in
    escape sequences, a test suite, and more.
  license: MIT
  license_family: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - rd4com
