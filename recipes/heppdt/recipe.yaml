context:
  version: "2.06.01"

package:
  name: heppdt
  version: ${{ version }}

source:
  url: https://lcgpackages.web.cern.ch/lcgpackages/tarFiles/sources/HepPDT-${{ version }}.tar.gz
  sha256: 12a1b6ffdd626603fa3b4d70f44f6e95a36f8f3b6d4fd614bac14880467a2c2e
  patches:
    - enable-shared-macos.patch

build:
  number: 0
  skip:
    - win
  script:
    - cp $BUILD_PREFIX/share/gnuconfig/config.* .
    - autoreconf -fiv
    - ./configure --prefix=$PREFIX --enable-shared
    - make -j${CPU_COUNT}
    - make install

requirements:
  run_exports:
    - ${{ pin_subpackage('heppdt', upper_bound='x') }}
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - make
    - gnuconfig
    - autoconf
    - automake
    - libtool

tests:
  - package_contents:
      lib:
        - libHepPDT
        - libHepPID
      files:
        - lib/libHepPDT.a
        - lib/libHepPID.a
      include:
        - HepPDT/defs.h
        - HepPDT/ParticleDataTable.hh
        - HepPID/ParticleIDMethods.hh

about:
  homepage: https://cdcvs.fnal.gov/redmine/projects/heppdt/wiki
  license: LGPL-2.1-or-later
  license_file: README
  summary: C++ library for particle data tables and particle ID translations
  description: |
    HepPDT is a C++ library containing two main components:

    - HepPDT: A particle data table package that can maintain a table of
      particle properties, including decay mode information. The main class
      is HepPDTable, which contains HepParticleData objects with properties
      closely related to what is published by the Particle Data Group (PDG).

    - HepPID: Translation methods for particle IDs between various Monte Carlo
      generators (Pythia, Herwig, EvtGen, Isajet, QQ) and the PDG standard
      numbering scheme.

    The library provides information including measured mass with errors,
    measured width and/or decay length, charge, spin, and color information
    for different particle types.
  documentation: http://lcgapp.cern.ch/project/simu/HepPDT/
  repository: https://cdcvs.fnal.gov/redmine/projects/heppdt/

extra:
  recipe-maintainers:
    - chrisburr
