{% set name = "ciftiTools" %}
{% set version = "0.17.4" %}

package:
  name: r-{{ name | lower }}
  version: '{{ version }}'

source:
  url: https://cran.r-project.org/src/contrib/{{ name }}_{{ version }}.tar.gz
  sha256: 060ba91dc005a52f3dfc52828adbfb57aacadaa840a68026b02b7d0b0284186b

build:
  number: 0
  merge_build_host: true
  script: R CMD INSTALL --build .
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  host:
    - r-RColorBrewer
    - r-RNifti >=1.7.0
    - r-base
    - r-fields
    - r-gifti >0.7.5
    - r-oro.nifti
    - r-rgl
    - r-viridisLite
    - r-xml2
  run:
    - r-RColorBrewer
    - r-RNifti >=1.7.0
    - r-base
    - r-fields
    - r-gifti >0.7.5
    - r-oro.nifti
    - r-rgl
    - r-viridisLite
    - r-xml2

test:
  commands:
    - $R -e "library('{{ name }}')"  # [not win]
    - "\"%R%\" -e \"library('{{ name }}')\""  # [win]

about:
  home: https://github.com/mandymejia/{{ name }}
  license: GPL-3.0-or-later
  license_file: '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'
  summary: CIFTI files contain brain imaging data in "grayordinates," which represent the gray matter as cortical surface vertices (left and right) and subcortical voxels (cerebellum, basal ganglia, and other deep gray matter). 'ciftiTools' provides a unified environment for reading, writing, visualizing and manipulating CIFTI-format data. It supports the "dscalar," "dlabel," and "dtseries" intents. Grayordinate data is read in as a "xifti" object, which is structured for convenient access to the data and metadata, and includes support for surface geometry files to enable spatially-dependent 
    functionality such as static or interactive visualizations and smoothing.

extra:
  recipe-maintainers:
    - psadil
