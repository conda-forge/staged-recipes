{% set name = "bezier-py" %}
{% set github_org = "dhermes" %}
{% set github_repo = "bezier" %}
{% set version = "2020.2.3" %}
{% set tar_gz_hash = "d2387f9089d2317a80bc97f278843d5326d1bebde7b08c9c9f6caaed9b0a08b1" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/{{ github_org }}/{{ github_repo }}/archive/{{ version }}.tar.gz
  sha256: {{ tar_gz_hash }}

build:
  number: 0
  script: "BEZIER_INSTALL_PREFIX=${LIBRARY_PREFIX} {{ PYTHON }} -m pip install . -vv"                   # [linux or osx]
  script: "cmd /C \"set BEZIER_INSTALL_PREFIX=%LIBRARY_PREFIX% && {{ PYTHON }} -m pip install . -vv\""  # [win]
  skip: true                                                                                            # [py<36]

requirements:
  build:
    - libbezier =={{ version }}
  host:
    - numpy
    - python
    - pip
  run:
    - matplotlib
    - numpy
    - python
    - scipy
    - sympy

test:
  imports:
    - bezier
  requires:
    - pytest
  commands:
    - {{ PYTHON }} -m pytest "${SRC_DIR}/tests/unit"  # [linux or osx]
    - {{ PYTHON }} -m pytest %SRC_DIR%\\tests\\unit"    # [win]

about:
  home: https://github.com/dhermes/bezier
  license: Apache 2.0
  license_family: Apache
  license_file: LICENSE
  summary: "Helper for B\xe9zier Curves, Triangles, and Higher Order Objects"

  doc_url: https://bezier.readthedocs.io/en/{{ version }}/
  dev_url: https://github.com/dhermes/bezier

extra:
  recipe-maintainers:
    - dhermes
