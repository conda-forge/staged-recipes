{% set name = "fe2at" %}
{% set version = "3.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://bitbucket.org/arunpksh/fe2at/get/69448004abb2eadb0048b2a7e8e3fe9441a18f24.tar.gz
  sha256: 7554562cf6836bf48c93588a42f127bc9f2263dc659e966fa7617b2b47e32e93
  patches:
    - logic.patch

build:
  number: 0
  skip: True  # [win]

requirements:
  build:
    - {{ compiler('fortran') }}
  host:
  run:

test:
  files:
    - example_bending/Mo_wire_x011y100z01-1_1250x150x150.imd.gz
    - example_bending/Mo_y1250_xz150_xbend70A.displacements
    - example_bending/Mo_y1250_xz150_xbend70A.elements
    - example_bending/Mo_y1250_xz150_xbend70A.fe2atparam
    - example_bending/Mo_y1250_xz150_xbend70A.nodes
    - example_bending/Mo_y1250_xz150_xbend70A.odb
  commands:
    - cd example_bending; FE2ATmap -p Mo_y1250_xz150_xbend70A.fe2atparam

about:
  home: https://bitbucket.org/arunpksh/fe2at
  summary: 'Mapping the nodal displacements of a deformed FE mesh onto atoms'
  description: |
    FE2AT is a simple but versatile approach that uses finite 
    element calculations to provide appropriate initial and boundary 
    conditions for atomistic simulations.
  license: GPL-3.0-or-later
  license_family: GPL
  license_file: LICENSE
  doc_url: https://bitbucket.org/arunpksh/fe2at/wiki/Home
  dev_url: https://bitbucket.org/arunpksh/fe2at

extra:
  recipe-maintainers:
    - jan-janssen
