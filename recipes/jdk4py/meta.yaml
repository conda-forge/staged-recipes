{% set name = "jdk4py" %}
{% set version = "11.0.5.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

build:
  number: 0
  missing_dso_whitelist:
    - lib/python*/site-packages/jdk4py/java-runtime/bin/* # [linux]
    - lib/python*/site-packages/jdk4py/java-runtime/lib/* # [linux]
    - /lib64/ld-linux-x86-64.so.2 # [linux]
    - /lib64/libc.so.6            # [linux]
    - /lib64/libdl.so.2           # [linux]
    - /lib64/libm.so.6            # [linux]
    - /lib64/libpthread.so.0      # [linux]
    - /lib64/libz.so.1            # [linux]
    - $RPATH/libasound.so.2       # [linux]
    - $RPATH/libjvm.so            # [linux]
    - $RPATH/libX11.so.6          # [linux]
    - $RPATH/libXext.so.6         # [linux]
    - $RPATH/libXi.so.6           # [linux]
    - $RPATH/libXtst.so.6         # [linux]
    - $RPATH/libXrender.so.1      # [linux]
    - /usr/lib/libSystem.B.dylib  # [osx]
    - /usr/lib/libc++.1.dylib     # [osx]
    - /usr/lib/libiconv.2.dylib   # [osx]
    - /usr/lib/libobjc.A.dylib    # [osx]
    - /usr/lib/libz.1.dylib       # [osx]
    - $RPATH/libjvm.dylib         # [osx]

requirements:
  host:
    - pip
  run:
    - python

test:
  imports:
    - jdk4py

about:
  home: https://github.com/atoti/jdk4py
  license: Apache-2.0
  license_file: LICENSE
  summary: 'Packaged JDK for Python.'
  dev_url: https://github.com/atoti/jdk4py

extra:
  recipe-maintainers:
    - fabiencelier
