# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  version: 0.58b0
  python_min: 3.9

package:
  name: opentelemetry-instrumentation-confluent-kafka
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/o/opentelemetry-instrumentation-confluent-kafka/opentelemetry_instrumentation_confluent_kafka-${{ version }}.tar.gz
  sha256: cf107d555e05e226c379a5bb2a77afe060b2f7efb882e63a600aba3b346ff9f9

build:
  number: 0
  script: ${{ PYTHON }} -m pip install .
  noarch: python

requirements:
  host:
  - python ${{ python_min }}.*
  - hatchling
  - pip
  run:
  - python >=${{ python_min }}
  - opentelemetry-api ~=1.12
  - opentelemetry-instrumentation ==0.58b0
  - wrapt <2.0.0,>=1.0.0
  - python-confluent-kafka <=2.11.0,>=1.8.2

tests:
  - python:
      imports:
      - opentelemetry.instrumentation.confluent_kafka
      pip_check: true
      python_version: ${{ python_min }}.*
  - requirements:
      run:
        - python ${{ python_min }}.*

about:
  summary: OpenTelemetry Confluent Kafka instrumentation
  license: Apache-2.0
  license_file: LICENSE
  homepage: "https://github.com/open-telemetry/opentelemetry-python-contrib/tree/main/instrumentation/opentelemetry-instrumentation-confluent-kafka"
  description: |
    OpenTelemetry confluent-kafka Instrumentation
    =============================================
    References
    ----------

    * `OpenTelemetry confluent-kafka/ Tracing <https://opentelemetry-python-contrib.readthedocs.io/en/latest/instrumentation/confluent_kafka/confluent_kafka.html>`_
    * `OpenTelemetry Project <https://opentelemetry.io/>`_

extra:
  recipe-maintainers:
    - sumanth-manchala
