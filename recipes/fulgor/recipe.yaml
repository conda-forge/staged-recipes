context:
  name: fulgor
  version: "3.0.0"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  - url: https://github.com/jermp/fulgor/archive/refs/tags/v${{ version }}.tar.gz
    sha256: f5a39658c71b6d937bf977c91de656c20f32372e195b5e41d57d271270fdb661
  # List of submodules
  - url: https://github.com/rob-p/FQFeeder/archive/bbc6e70c3bc412646b576d5074aa2edcbcfade61.tar.gz
    sha256: 4e4cb9cf9f33e5c653cf2d0fff23930c618c9fd084b6ca23dd20972431a1a871
    target_directory: external/FQFeeder
  - url: https://github.com/algbio/ggcat/archive/b6a2c2bf409a6a58540b8d23504c4fb7f8c655ef.tar.gz
    sha256: c029b2b7524905094b33e9bb3619cabf8aaa7a4f7fd7c7fce527bccde3a2a814
    target_directory: external/ggcat
  - url: https://github.com/jermp/sshash/archive/05d61277f1531d4dc6d6de26c37536979f579896.tar.gz
    sha256: da7c21c0605b79d3383d1f5d40c898a18020f315826d31fa387bce5465495a9a
    target_directory: external/sshash
  - url: https://github.com/jermp/pthash/archive/94663599ab7d092a9301bf8c8709fbf558a04601.tar.gz
    sha256: 68fb0088dd87bca8f1d63e03a4eddbb3865c7ab39573495794ec7915249c39bf
    target_directory: external/sshash/external/pthash

build:
  number: 0

requirements:
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    # - ${{ compiler('rust') }} >= 1.82
    - cargo-bundle-licenses
    - cmake
    - ninja

tests:
  - script:
    - fulgor --help

about:
  homepage: https://github.com/jermp/fulgor
  summary: 'Fulgor is a colored de Bruijn graph index for large-scale matching and color queries, powered by SSHash and GGCAT'
  license: MIT
  license_file:
    - LICENSE
    - THIRDPARTY.yml
  documentation: https://github.com/jermp/fulgor
  repository: https://github.com/jermp/fulgor

extra:
  recipe-maintainers:
    - luizirber
