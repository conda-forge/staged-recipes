{% set version = '0.2.0' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-ggtime
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/ggtime_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/ggtime/ggtime_{{ version }}.tar.gz
  sha256: cab7877700f0f0a08d0eb9a5fff57d28ec8ca32cfb34e3c83e29b7f100320f70

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-cli
    - r-dplyr
    - r-fabletools
    - r-ggplot2
    - r-gtable
    - r-lifecycle
    - r-lubridate >=1.7.1
    - r-rlang
    - r-scales
    - r-tidyr
    - r-tsibble
    - r-vctrs
  run:
    - r-base
    - r-cli
    - r-dplyr
    - r-fabletools
    - r-ggplot2
    - r-gtable
    - r-lifecycle
    - r-lubridate >=1.7.1
    - r-rlang
    - r-scales
    - r-tidyr
    - r-tsibble
    - r-vctrs

test:
  commands:
    - $R -e "library('ggtime')"           # [not win]
    - "\"%R%\" -e \"library('ggtime')\""  # [win]

about:
  home: https://pkg.mitchelloharawild.com/ggtime/
  license: GPL-3.0-or-later
  summary: Extends the capabilities of 'ggplot2' by providing grammatical elements and plot helpers
    designed for visualizing temporal patterns. The package implements a grammar of
    temporal graphics, which leverages calendar structures to highlight changes over
    time. The package also provides plot helper functions to quickly produce commonly
    used time series graphics, including time plots, season plots, and seasonal sub-series
    plots.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
