{% set name = "grpcio" %}
{% set version = "1.6.3" %}
{% set sha256 = "e9662782c58bc21be26163b78136eaed091dfd45fac699cb711ee9eeeb7e2f9b" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  script: python setup.py install --single-version-externally-managed --record record.txt

requirements:
  build:
    - python
    - setuptools
    - cython
    - toolchain
  run:
    - python
    - six >=1.5.2
    - protobuf >=3.3.0
    - futures >=2.2.0  # [py2k] 
    - enum34 >=1.0.4  # [py2k]
test:
  imports:
    - grpc

about:
  home: https://grpc.io
  license: Apache 2.0
  license_family: Apache
  license_file: '{{ environ["RECIPE_DIR"] }}/LICENSE'
  summary: 'HTTP/2-based RPC framework'

  description: |
    gRPC is a modern open source high performance RPC framework that can run in any environment. It can efficiently connect services in and across data centers with pluggable support for load balancing, tracing, health checking and authentication. It is also applicable in last mile of distributed computing to connect devices, mobile applications and browsers to backend services
  doc_url: https://grpc.io/docs/quickstart/python.html
  dev_url: https://github.com/grpc/grpc/tree/master/src/python

extra:
  recipe-maintainers:
    - david-gang
