context:
  version: 9.0.0

package:
  name: mathics-django
  version: ${{ version }}

source:
  - url: https://pypi.org/packages/source/m/mathics-django/mathics_django-${{ version }}.tar.gz
    sha256: 458e64ed7fa1991d38c8d11323caf12f8eb004685b2b63b46e5d64ad47c4d8d2

build:
  number: 0
  script: ${{ PYTHON }} -m pip install .
  python:
    entry_points:
      - mathicsserver = mathics_django.server:main
  noarch: python

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
  run:
    - python >=${{ python_min }}
    - mathics-scanner >=1.4.1
    - mathics3 >=8.0.0
    - django
    - matplotlib-base
    - networkx >=3.0
    - ujson
    - pygments
    - requests

tests:
  - script:
      - pip check
      - mathicsserver --help
    requirements:
      run:
        - python ${{ python_min }}

about:
  homepage: https://mathics.org/
  summary: A Django front end for Mathics3.
  license: GPL-3.0-or-later
  license_file: COPYING.txt
  repository: https://github.com/Mathics3/mathics-django
  documentation: https://mathics.org/#doc

extra:
  recipe-maintainers:
    - carlodri
