schema_version: 1

context:
  name: imagej
  version: 1.54k

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  - url: https://github.com/imagej/ImageJ/archive/refs/tags/v${{ version }}.tar.gz
    sha256: 85678e7f400c7dc53fbef7cc9c5bb951edda35e5225d1e82bcb757227adcdb2d

build:
  number: 0
  noarch: generic

requirements:
  build:
    - maven
  run:
    - openjdk >=8
  
tests:
  - script:
      # running the software requires X display. Check only for existence
      - if: unix
        then:
          - test -x ${PREFIX}/bin/imagej.sh
          - test -e ${PREFIX}/share/imagej/ij.jar

about:
  homepage: http://imagej.org/
  summary: Public domain software for processing and analyzing scientific images.
  description: ImageJ can display, edit, analyze, process, save and print 8-bit, 
    16-bit and 32-bit images. It can read many image formats including TIFF, GIF,
    JPEG, BMP, DICOM, FITS and "raw". It supports "stacks", a series of images 
    that share a single window. It is multithreaded, so time-consuming operations 
    such as image file reading can be performed in parallel with other operations.
  license: NIST-PD
  license_file: LICENSE.txt
  repository: https://github.com/imagej/ImageJ
  documentation: https://imagej.net/ij/docs/index.html

extra:
  recipe-maintainers:
    - martin-g
