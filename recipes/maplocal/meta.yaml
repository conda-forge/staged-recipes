{% set name = "maplocal" %}
{% set version = "0.2.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/maplocal-{{ version }}.tar.gz
  sha256: b4a38db49241ae8d66c5d5f2a5c33810d02b22d30d13d4aef50dcbfa23d6d3fe

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python >=3.7
    - hatchling
    - hatch-vcs
    - pip
  run:
    - python >=3.7
    - pydantic >2
    - pydantic-settings

test:
  imports:
    - maplocal
  commands:
    - pip check
  requires:
    - pip

about:
  home: https://github.com/maxfordham/maplocal
  summary: 'Map from remote server to local machine'
  description: |
    You manage a cloud-hosted service that is attached to file-server storing user data. 
    Users have access to your service, but also separately have access to file-directory 
    through their computers. The way that the file-server is mounted is different for 
    the user and for the cloud hosted service. This provides a way to map the root 
    directory of the users machine and the file server. It also provides a hacky, 
    potentially unsafe hook that allows a locally saved script file to inject the 
    functions openfile and runcmd that are intended to provide ways for the server to 
    open a file from the users machine and run a shell command on the users machine.

    Examples
      running WSL, Ubuntu. Opening files saved in the Ubuntu file system with Windows Programs.
      running WSL, Ubuntu. Opening files on the windows files system (mounted C:\drive).
  dev_url: https://github.com/maxfordham/maplocal
  license: MIT
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - ollyhensby
    - jgunstone
