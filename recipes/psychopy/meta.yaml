{% set name = "psychopy" %}
{% set version = "1.90.1" %}
{% set sha256 = "5955886caf07661390d48f9124a363adca79ea49e7d33358c62cdb1255167148" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://github.com/psychopy/psychopy/archive/{{ version }}.1.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  script: python -m pip install --no-deps --ignore-installed .

requirements:
  build:
    - python
    - setuptools
    - requests
    - numpy
    - scipy
    - matplotlib
    - pandas
    - pillow
    - wxpython
    - pyglet
    - configobj
    - pyopengl
    - pysoundfile
    - python-sounddevice
    - python-bidi
    - cffi
    - future
    - json_tricks
    - pyosf
    - xlrd
    - openpyxl
    - pyserial
    - pyparallel
    - pyyaml
    - gevent
    - msgpack-python
    - psutil
    - pytables
    - pyzmq
    - moviepy
    - opencv
    - pyobjc-core  # [osx]
    - pyobjc-framework-quartz  # [osx]
    - pip

  run:
    - python
    - requests
    - numpy
    - scipy
    - matplotlib
    - pandas
    - pillow
    - wxpython
    - pyglet
    - configobj
    - pyopengl
    - pysoundfile
    - python-sounddevice
    - python-bidi
    - cffi
    - future
    - json_tricks
    - pyosf
    - xlrd
    - openpyxl
    - pyserial
    - pyparallel
    - pyyaml
    - gevent
    - msgpack-python
    - psutil
    - pytables
    - pyzmq
    - moviepy
    - opencv
    - pyobjc-core  # [osx]
    - pyobjc-framework-quartz  # [osx]

test:
  # Python imports
  imports:
    - psychopy
    - psychopy.app
    - psychopy.app.Resources
    - psychopy.app.builder
    - psychopy.app.builder.dialogs
    - psychopy.app.coder
    - psychopy.app.viewer
    - psychopy.contrib
    - psychopy.contrib.http
    - psychopy.data
    - psychopy.demos
    - psychopy.demos.builder
    - psychopy.demos.coder
    - psychopy.demos.coder.experiment control
    - psychopy.demos.coder.hardware
    - psychopy.demos.coder.input
    - psychopy.demos.coder.stimuli
    - psychopy.demos.coder.timing
    - psychopy.experiment
    - psychopy.experiment.components
    - psychopy.experiment.components.aperture
    - psychopy.experiment.components.cedrusBox
    - psychopy.experiment.components.code
    - psychopy.experiment.components.dots
    - psychopy.experiment.components.envelopegrating
    - psychopy.experiment.components.eyetracker
    - psychopy.experiment.components.grating
    - psychopy.experiment.components.image
    - psychopy.experiment.components.ioLabs
    - psychopy.experiment.components.keyboard
    - psychopy.experiment.components.microphone
    - psychopy.experiment.components.mouse
    - psychopy.experiment.components.movie
    - psychopy.experiment.components.noise
    - psychopy.experiment.components.parallelOut
    - psychopy.experiment.components.patch
    - psychopy.experiment.components.polygon
    - psychopy.experiment.components.ratingScale
    - psychopy.experiment.components.settings
    - psychopy.experiment.components.sound
    - psychopy.experiment.components.static
    - psychopy.experiment.components.text
    - psychopy.experiment.components.unknown
    - psychopy.gui
    - psychopy.hardware
    - psychopy.hardware.bbtk
    - psychopy.hardware.crs
    - psychopy.hardware.joystick
    - psychopy.iohub
    - psychopy.iohub.client
    - psychopy.iohub.datastore
    - psychopy.iohub.datastore.pandas
    - psychopy.iohub.devices
    - psychopy.iohub.devices.daq
    - psychopy.iohub.devices.daq.hw
    - psychopy.iohub.devices.daq.hw.labjack
    - psychopy.iohub.devices.daq.hw.labjack.win32
    - psychopy.iohub.devices.daq.hw.labjack.win32.python27
    - psychopy.iohub.devices.daq.hw.labjack.win32.python27.pylabjack
    - psychopy.iohub.devices.daq.hw.mc
    - psychopy.iohub.devices.display
    - psychopy.iohub.devices.experiment
    - psychopy.iohub.devices.eyetracker
    - psychopy.iohub.devices.eyetracker.filters
    - psychopy.iohub.devices.eyetracker.hw
    - psychopy.iohub.devices.eyetracker.hw.gazepoint
    - psychopy.iohub.devices.eyetracker.hw.gazepoint.gp3
    - psychopy.iohub.devices.eyetracker.hw.lc_technologies
    - psychopy.iohub.devices.eyetracker.hw.lc_technologies.eyegaze
    - psychopy.iohub.devices.eyetracker.hw.smi
    - psychopy.iohub.devices.eyetracker.hw.smi.iviewx
    - psychopy.iohub.devices.eyetracker.hw.sr_research
    - psychopy.iohub.devices.eyetracker.hw.sr_research.eyelink
    - psychopy.iohub.devices.eyetracker.hw.sr_research.eyelink.win32
    - psychopy.iohub.devices.eyetracker.hw.sr_research.eyelink.win32.python27
    - psychopy.iohub.devices.eyetracker.hw.theeyetribe
    - psychopy.iohub.devices.eyetracker.hw.tobii
    - psychopy.iohub.devices.keyboard
    - psychopy.iohub.devices.mcu
    - psychopy.iohub.devices.mcu.iosync
    - psychopy.iohub.devices.mouse
    - psychopy.iohub.devices.network
    - psychopy.iohub.devices.serial
    - psychopy.iohub.devices.touch
    - psychopy.iohub.devices.touch.hw
    - psychopy.iohub.devices.touch.hw.elo
    - psychopy.iohub.devices.wintab
    - psychopy.iohub.devices.xinput
    - psychopy.iohub.removed
    - psychopy.iohub.removed.util
    - psychopy.iohub.util
    - psychopy.localization
    - psychopy.monitors
    - psychopy.parallel
    - psychopy.platform_specific
    - psychopy.preferences
    - psychopy.sound
    - psychopy.tests
    - psychopy.tests.test_all_visual
    - psychopy.tests.test_app
    - psychopy.tests.test_app.test_builder
    - psychopy.tests.test_iohub
    - psychopy.tests.test_psychojs
    - psychopy.tools
    - psychopy.visual
    - psychopy.visual.backends
    - psychopy.visual.textbox
    - psychopy.visual.textbox.freetype_bf
    - psychopy.visual.textbox.freetype_bf.ft_enums
    - psychopy.voicekey

about:
  home: http://www.psychopy.org
  license: GNU GPLv3 (or more recent equivalent)
  summary: 'Psychology experiment software in Python'
  license_family: GPL3

  description: |
    PsychoPy is an open-source package for creating psychology stimuli in
    Python (A real and free alternative to Matlab). PsychoPy combines the
    graphical strengths of OpenGL with the easy Python syntax to give
    psychophysics a free and simple stimulus presentation and control package.
  doc_url: http://psychopy.org/documentation.html
  dev_url: https://github.com/psychopy/psychopy

extra:
  recipe-maintainers:
    - kastman
    - peircej
