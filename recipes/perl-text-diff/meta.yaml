{% set author = "NEILB" %}
{% set name = "Text-Diff" %}
{% set version = "1.44" %}
{% set sha256 = "57f7a0bed7d085d34a3ffab3a68140d7b816737c87b831086b4c0945bf483b10" %}

package:
  name: perl-{{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: http://cpan.metacpan.org/authors/id/{{ author[0] }}/{{ author[:2] }}/{{ author }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  skip: True  # [ win ]
  script: perl Makefile.PL && make && make test && make install 

requirements:
  build:
    - perl
    - make
    - perl-algorithm-diff
  run:
    - perl
    - perl-algorithm-diff

test:
  commands:
    - perl -e 'use {{ name|replace("-","::") }}'

about:
  home: https://metacpan.org/pod/Text::Diff
  license: Artistic-2.0
  license_file: LICENSE
  summary: 'Perform diffs on files and record sets'

  description: |
    diff() provides a basic set of services akin to the GNU diff
    utility. It is not anywhere near as feature complete as 
    GNU diff, but it is better integrated with Perl and available 
    on all platforms. It is often faster than shelling out to a 
    system's diff executable for small files, and generally 
    slower on larger files.
  doc_url: https://metacpan.org/pod/Text::Diff
  dev_url: https://github.com/neilb/Text-Diff

extra:
  recipe-maintainers:
    - pvanheus
