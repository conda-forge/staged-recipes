{% set name = "pytorch" %}
{% set version = "0.2.0" %}
{% set build = 0 %}
{% set sha256 = "22b30638536d20d387e1adff62aa4b9ddebd8ac7ab812a36c699d72df9f7f570" %}
{% set blas_variant = "openblas" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: v{{ version }}.tar.gz
  url: https://github.com/pytorch/pytorch/archive/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: {{ build }}
  features:
    - blas_{{ blas_variant }}
  skip: true  # [win]

requirements:
  build:
    - python
    - setuptools
    - toolchain
    - numpy 1.8.*
    - pyyaml
    - cmake
    - cffi
    - openblas 0.2.19|0.2.19.*
  run:
    - python
    - numpy >=1.8
    - cffi
    - openblas 0.2.19|0.2.19.*

test:
  imports:
    - torch

about:
  home: http://pytorch.org
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  summary: 'Tensors and Dynamic neural networks in Python with strong GPU acceleration'
  description: |
    PyTorch is a Python package that provides two high-level features:
    - Tensor computation (like NumPy) with strong GPU acceleration
    - Deep neural networks built on a tape-based autograd system
    
    You can reuse your favorite Python packages such as NumPy, SciPy and Cython
    to extend PyTorch when needed.

    We are in an early-release beta. Expect some adventures and rough edges. 
  doc_url: http://pytorch.org/docs/
  dev_url: https://github.com/pytorch/pytorch

extra:
  recipe-maintainers:
    - dougalsutherland
    - soumith
