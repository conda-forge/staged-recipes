schema_version: 1

context:
  conda_name: files_collections
  pypi_name: files-collections
  version: 0.1.2

package:
  name: ${{ conda_name }}
  version: ${{ version }}

source:
  url: https://files.pythonhosted.org/packages/b4/f6/c099ecbe3c94d640d799e5a9aa5c2ba3ed7f8f60293f7485231b36da4454/files_collections-0.1.2.tar.gz
  sha256: cd171d9d3d0fb3ee81101d55ae80d5cb7a12bce79f8bb28cb10dad0147a57687

build:
  noarch: python
  number: 0
  script:
  # Install the generated package in the conda environment
  - pip install . -vv

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
    - setuptools-scm
  run:
    - docstring_parser
    - fsspec
    - h5netcdf
    - jinja2
    - netCDF4
    - numpy
    # Numba not available for Python 3.14 as of 2025-12-09
    - python >=${{ python_min }},<3.14
    - requests
    - typer
    - xarray

tests:
  # --- Import tests without optional packages installed
  - python:
      imports:
        - fcollections
        - fcollections.utilities
        - fcollections.time
        - fcollections.missions
        - fcollections.core
        - fcollections.implementations
        - fcollections.sad
      python_version:
        - "*"
        - ${{ python_min }}.*
  # --- Import tests with optional packages installed
  - script:
      - mamba install -y numba dask pyinterp shapely geopandas
      - python -c "import fcollections.geometry; import fcollections.implementations"

about:
  summary: "Files Collections â€” Select and open files in a collection"
  license: Apache-2.0
  homepage: https://github.com/robin-cls/fcollections
  repository: https://github.com/robin-cls/fcollections
  license_file: LICENCE

extra:
  recipe-maintainers:
    - robin-cls
