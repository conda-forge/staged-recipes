{% set version = '0.1.0' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-condathis
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/condathis_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/condathis/condathis_{{ version }}.tar.gz
  sha256: 0c5f6cffefe3c753829935e092e88594cd9b1621dd7652a98eb5de145b91675a

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-cli
    - r-fs
    - r-jsonlite
    - r-processx
    - r-rlang
    - r-stringr
    - r-tibble
    - r-withr
  run:
    - r-base >=4.0.0
    - r-cli
    - r-fs
    - r-jsonlite
    - r-processx
    - r-rlang
    - r-stringr
    - r-tibble
    - r-withr

test:
  commands:
    - $R -e "library('condathis')"           # [not win]
    - "\"%R%\" -e \"library('condathis')\""  # [win]

about:
  home: https://github.com/luciorq/condathis
  license: MIT
  summary: Simplifies the execution of command line interface (CLI) tools within isolated and
    reproducible environments. It enables users to effortlessly manage 'Conda' environments,
    execute command line tools, handle dependencies, and ensure reproducibility in their
    data analysis workflows.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

extra:
  recipe-maintainers:
    - conda-forge/r
    - luciorq

# Package: condathis
# Title: Run Any CLI Tool on a 'Conda' Environment
# Version: 0.1.0
# Authors@R: c( person("Lucio", "Queiroz", , "luciorqueiroz@gmail.com", role = c("aut", "cre", "cph"), comment = c(ORCID = "0000-0002-6090-1834")), person("Claudio", "Zanettini", , "claudio.zanettini@gmail.com", role = c("aut", "ctb"), comment = c(ORCID = "0000-0001-5043-8033")) )
# Description: Simplifies the execution of command line interface (CLI) tools within isolated and reproducible environments. It enables users to effortlessly manage 'Conda' environments, execute command line tools, handle dependencies, and ensure reproducibility in their data analysis workflows.
# License: MIT + file LICENSE
# URL: https://github.com/luciorq/condathis
# BugReports: https://github.com/luciorq/condathis/issues
# Depends: R (>= 4.0)
# Imports: cli, fs, jsonlite, processx, rlang, stringr, tibble, tools, utils, withr
# Suggests: curl, dplyr, testthat (>= 3.0.0)
# Config/testthat/edition: 3
# Encoding: UTF-8
# RoxygenNote: 7.3.2
# NeedsCompilation: no
# Packaged: 2024-12-10 17:23:21 UTC; luciorq
# Author: Lucio Queiroz [aut, cre, cph] (<https://orcid.org/0000-0002-6090-1834>), Claudio Zanettini [aut, ctb] (<https://orcid.org/0000-0001-5043-8033>)
# Maintainer: Lucio Queiroz <luciorqueiroz@gmail.com>
# Repository: CRAN
# Date/Publication: 2024-12-11 16:00:01 UTC
