{% set name = "label-studio" %}
{% set version = "1.12.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/label_studio-{{ version }}.tar.gz
  sha256: 12edefd370ac751d5fafa81cd58ea48977d65484a1e63c290764d6726d14ad65

build:
  entry_points:
    - label-studio = label_studio.server:main
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python >=3.8,<4.0
    - poetry-core
    - pip
  run:
    - python >=3.8,<4.0
    - wheel <=0.40.0,>=0.38.1
    - appdirs >=1.4.3
    # - attr 0.3.1
    - attrs >=19.2.0
    - pyyaml >=6.0.0
    - azure-storage-blob >=12.6.0
    - boto >=2.49.0,<3.0.0
    - boto3 >=1.28.58,<2.0.0
    - botocore >=1.31.58,<2.0.0
    - bleach >=5.0.0,<6.0.0
    - django >=3.2.24,<3.3.0
    - django-storages 1.12.3
    - django-annoying 0.10.6
    - django-debug-toolbar 3.2.1
    - django-environ 0.10.0
    - django-filter 2.4.0
    - django-model-utils >=4.1.1
    - django-rq 2.5.1
    - django-cors-headers >=3.6.0
    - django-extensions 3.1.0
    - django-user-agents 0.4.0
    - django-ranged-fileresponse >=0.1.2
    - drf-dynamic-fields >=0.3.0
    - djangorestframework 3.13.1
    - drf-flex-fields >=0.9.5
    - humansignal-drf-yasg >=1.21.9
    - drf-generators >=0.3.0
    - htmlmin 0.1.12
    - jsonschema 3.2.0
    - lockfile >=0.12.0
    - lxml >=4.2.5
    - defusedxml >=0.7.1
    - numpy >=1.24.3,<2.0.0
    - ordered-set 4.0.2
    - pandas >=0.24.0
    - psycopg2-binary 2.9.9
    - pydantic <=1.11.0,>=1.7.3
    - python-dateutil >=2.8.1
    - pytz >=2022.1.0,<2022.2.0
    - requests 2.31.0
    - urllib3 >=1.26.18,<2.0.0
    - rq >=1.10.1
    - rules >=2.2
    - ujson >=3.0.0
    - xmljson >=0.2.0
    - colorama >=0.4.4
    - boxing >=0.1.4
    # - redis-py >=3.5.0,<3.6.0
    - redis-py >=4.0.0
    - sentry-sdk >=1.1.0
    - launchdarkly-server-sdk >=8.2.1
    - python-json-logger 2.0.4
    - label-studio-converter 0.0.58
    - google-cloud-storage >=2.13.0,<3.0.0
    - google-cloud-logging >=3.10.0,<4.0.0
    - django-csp 3.7
    - openai >=1.10.0,<2.0.0
  run_constrained:
    - mysqlclient *

test:
  imports:
    - label_studio
  commands:
    - pip check
    - label-studio --help
  requires:
    - pip

about:
  home: https://github.com/heartexlabs/label-studio
  summary: Label Studio annotation tool
  license: MIT AND Apache-2.0
  license_file:
    - NOTICE
    - LICENSE
    - label_studio/core/static_build/drf-yasg/redoc-old/LICENSE.e4e5f59c85dc
    - label_studio/core/static_build/drf-yasg/redoc-old/LICENSE
    - label_studio/core/static_build/drf-yasg/redoc/LICENSE
    - label_studio/core/static_build/drf-yasg/redoc/LICENSE.cf2d48dc6713
    - label_studio/core/static_build/drf-yasg/swagger-ui-dist/NOTICE.342625133694
    - label_studio/core/static_build/drf-yasg/swagger-ui-dist/LICENSE.3b83ef96387f
    - label_studio/core/static_build/drf-yasg/swagger-ui-dist/NOTICE
    - label_studio/core/static_build/drf-yasg/swagger-ui-dist/LICENSE
    - label_studio/core/static_build/admin/js/vendor/select2/LICENSE.f94142512c91.md
    - label_studio/core/static_build/admin/js/vendor/select2/LICENSE.md
    - label_studio/core/static_build/admin/js/vendor/jquery/LICENSE.75308107741f.txt
    - label_studio/core/static_build/admin/js/vendor/jquery/LICENSE.txt
    - label_studio/core/static_build/admin/js/vendor/xregexp/LICENSE.bf79e414957a.txt
    - label_studio/core/static_build/admin/js/vendor/xregexp/LICENSE.txt
    - label_studio/core/static_build/admin/fonts/LICENSE.d273d63619c9.txt
    - label_studio/core/static_build/admin/fonts/LICENSE.txt
    - label_studio/core/static_build/admin/img/LICENSE.2c54f4e1ca1c
    - label_studio/core/static_build/admin/img/LICENSE
    - label_studio/core/static_build/admin/css/vendor/select2/LICENSE-SELECT2.f94142512c91.md
    - label_studio/core/static_build/admin/css/vendor/select2/LICENSE-SELECT2.md

extra:
  recipe-maintainers:
    - moritzwilksch
