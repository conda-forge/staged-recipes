{% set name = "banet" %}
{% set version = "0.6.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/banet-{{ version }}.tar.gz
  sha256: 2f627a38d58289c4e31c363a37f898774c02d962e3922cc5cd5773729b41fa32

build:
  entry_points:
    - banet_viirs375_download=banet.cli:banet_viirs375_download
    - banet_viirs750_download=banet.cli:banet_viirs750_download
    - banet_create_dataset=banet.cli:banet_create_dataset
    - banet_dataset2tiles=banet.cli:banet_dataset2tiles
    - banet_predict_monthly=banet.cli:banet_predict_monthly
    - banet_predict_times=banet.cli:banet_predict_times
    - banet_train_model=banet.cli:banet_train_model
    - banet_nrt_run=banet.cli:banet_nrt_run
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python >=3.7
    - pip
  run:
    - python >=3.7
    - geoget
    - fire-split
    - fastcore
    - nbdev
    - fastai
    - rasterio
    - geopandas
    - shapely
    - netcdf4
    - pyhdf

test:
  imports:
    - banet
  commands:
    - pip check
    - banet_viirs375_download --help
    - banet_viirs750_download --help
    - banet_create_dataset --help
    - banet_dataset2tiles --help
    - banet_predict_monthly --help
    - banet_predict_times --help
    - banet_train_model --help
    - banet_nrt_run --help
  requires:
    - pip
    - nbdev

about:
  home: https://github.com/mnpinto/banet
  summary: A deep learning approach for mapping and dating burned areas using temporal sequences of satellite images
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - ocefpaf
