{% set name = "google-cloud-bigquery-storage" %}
{% set version = "0.2.0" %}
{% set sha256 = "b0972b77ce24533758ec4a75c0d93072201fc3ccfb40519e98dbcac20150e08c" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  # Note: --no-deps is currently required due to https://github.com/conda/conda-build/issues/3254
  # Once resolved, it should be removed.
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  host:
    - python
    - pip
    - setuptools
  run:
    - python
    - google-api-core >=1.6.0,<2.0.0dev
    - grpcio >= 1.8.2
    # Backport of enum for Python < 3.4
    - enum34  # [py2k]

test:
  # Some package might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - google.api_core
    - google.cloud.bigquery_storage_v1beta1

about:
  home: https://googleapis.github.io/google-cloud-python/latest/bigquery_storage/index.html
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: 'Fast access to BigQuery managed storage'
  description: |
    The BigQuery Storage API provides fast access to BigQuery managed storage
    by using an rpc-based protocol.
  doc_url: https://googleapis.github.io/google-cloud-python/latest/bigquery_storage/index.html
  dev_url: https://github.com/googleapis/google-cloud-python

extra:
  recipe-maintainers:
    # GitHub IDs for maintainers of the recipe.
    # Always check with the people listed below if they are OK becoming
    # maintainers of the recipe. (There will be spam!)
    - tswast
