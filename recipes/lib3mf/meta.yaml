{% set name = "lib3mf" %}
{% set version = "2.3.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/3MFConsortium/lib3mf/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 6e95b05463209425d80ba0e2244fe42f3c761054f6a9e9275a6c81aafea02d05
  patches:
    - 0001-Use-conda-forge-GTest-OpenSSL-fast_float.patch

build:
  number: 0

requirements:
  build:
    - cmake
    - make  # [not win]
    - ninja  # [win]
    - {{ stdlib("c") }}
    - {{ compiler('cxx') }}
  host:
    - fast_float >=6,<7
    - gtest
    - libzip
    - openssl
    - pkg-config
    - zlib


  # host:
  #   - python >=3.9
  #   - setuptools >=45
  #   - wheel
  #   - setuptools-scm >=6.2
  #   - pip
  # run:
  #   - python >=3.9
  #   - cadquery
  #   - ocp >=7.7.0
  #   - svgpathtools >=1.5.1,<2
  #   - svgelements >=1.9.1,<2

# test:
#   imports:
#     - ocpsvg
#   commands:
#     - pip check
#   requires:
#     - pip

about:
  license: BSD-2-Clause
  license_file:
  - LICENSE
  - cpp-base64_LICENSE

extra:
  recipe-maintainers:
    - ndevenish
