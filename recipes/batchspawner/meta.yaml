{% set name = "batchspawner" %}
{% set version = "0.8.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 861648f8b39d7c564582e0b705325008461487a9bc656c6b96f85230127a3702

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - python
    - pip
    - jinja2
    - jupyterhub>=0.5
  run:
    - python
    - jinja2
    - jupyterhub>=0.5

test:
  imports:
    - batchspawner

about:
  home: https://github.com/jupyterhub/batchspawner
  license: BSD-3-Clause
  license_family: BSD
  license_file: '{{ environ["RECIPE_DIR"] }}/LICENSE'
  summary: 'Custom Spawner for Jupyterhub to start servers in batch scheduled systems'
  description: |
    This is a custom spawner for Jupyterhub that is designed for installations
    on clusters using batch scheduling software.

    This began as a generalization of mkgilbert's batchspawner which in turn
    was inspired by Andrea Zonca's blog post where he explains his implementation
    for a spawner that uses SSH and Torque. His github repo is found here.

    This package formerly included WrapSpawner and ProfilesSpawner, which provide
    mechanisms for runtime configuration of spawners. These have been split out
    and moved to the wrapspawner package.
  doc_url: https://github.com/jupyterhub/batchspawner
  dev_url: https://github.com/jupyterhub/batchspawner

extra:
  recipe-maintainers:
    - jan-janssen
