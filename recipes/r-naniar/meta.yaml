{% set version = '0.4.1' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-naniar
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/naniar_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/naniar/naniar_{{ version }}.tar.gz
  sha256: 93b62f4e7634137665a14203e633084997031702ce37f28550096dfd83f340a3

build:
  merge_build_host: True  # [win]
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{posix}}zip               # [win]
  host:
    - r-base
    - r-upsetr
    - r-dplyr
    - r-forcats
    - r-ggplot2
    - r-glue
    - r-magrittr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-viridis
    - r-visdat
    - openblas    
  run:
    - r-base
    - r-upsetr
    - r-dplyr
    - r-forcats
    - r-ggplot2
    - r-glue
    - r-magrittr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-viridis
    - r-visdat
    - openblas

test:
  commands:
    - $R -e "library('naniar')"           # [not win]
    - "\"%R%\" -e \"library('naniar')\""  # [win]

about:
  home: https://github.com/njtierney/naniar
  license: MIT
  summary: 'Missing values are ubiquitous in data and need to be explored and handled in the
    initial stages of analysis. ''naniar'' provides data structures  and functions that
    facilitate the plotting of missing values and examination  of imputations. This
    allows missing data dependencies to be explored with  minimal deviation from the
    common work patterns of ''ggplot2'' and tidy data. '
  license_family: MIT

extra:
  recipe-maintainers:
    - johanneskoester
    - bgruening
    - daler
    - jdblischak
    - cbrueffer
    - dbast
    - philip-khor
