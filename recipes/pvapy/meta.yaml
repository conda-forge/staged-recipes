{% set version = "5.6.0" %}

package:
  name: pvapy
  version: "{{ version }}"

source:
  url: https://github.com/epics-base/pvaPy/archive/refs/tags/{{ version }}.tar.gz
  sha256: 8047c21172913aee650e1d3d26649001fb372cc7ad1abc9434136fa0f7687d00

build:
  # autoconfiguration uses distutils to check Python version
  skip: true  # [py>=312 or win]
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - {{ stdlib('c') }}
    - make
    - autoconf
    - automake
    - python
    - numpy
  host:
    - epics-base
    - readline
    - python
    - libboost-python-devel
  run:
    - python

test:
  imports:
    - pvaccess

about:
  home: https://github.com/epics-base/pvaPy
  summary: Python library for EPICS PV Access
  description: |
    The PvaPy package is a Python API for EPICS7. It supports both PVA and CA
    providers, all standard EPICS7 types (structures, scalars, unions, etc),
    standard set of channel operations (put/get, monitor), RPC client/server,
    PVA server, etc. It uses Boost/Python to wrap EPICS7 C++ libraries and
    APIs, and is currently supported on Linux, OSX and Windows.
  license: EPICS
  license_file: LICENSE

extra:
  recipe-maintainers:
    - daneos
