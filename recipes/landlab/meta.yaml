{% set version = "1.5.1" %}

package:
  name: landlab
  version: {{ version }}

source:
  url: https://github.com/landlab/landlab/archive/v{{ version }}.tar.gz
  sha256: 789f40c9aff30a5c350ef738f744506f197322d2123fa8e5711166bcda4f5635

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv "
  entry_points:
    - landlab=landlab.cmd.landlab:main

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('fortran') }}
  host:
    - python
    - pip
    - cython
    - numpy
  run:
    - python
    - {{ pin_compatible('numpy') }}
    - matplotlib
    - netcdf4
    - nose >=1.3
    - pandas
    - pyyaml
    - scipy >=0.12
    - six
    - sympy
    - xarray

test:
  imports:
    - landlab
    - landlab.bmi
    - landlab.ca
    - landlab.ca.boundaries
    - landlab.ca.tests
    - landlab.cmd
    - landlab.components
    - landlab.components.chi_index
    - landlab.components.depth_dependent_diffusion
    - landlab.components.depth_dependent_diffusion.tests
    - landlab.components.depth_dependent_taylor_soil_creep
    - landlab.components.depth_dependent_taylor_soil_creep.tests
    - landlab.components.detachment_ltd_erosion
    - landlab.components.diffusion
    - landlab.components.diffusion.tests
    - landlab.components.drainage_density
    - landlab.components.erosion_deposition
    - landlab.components.fire_generator
    - landlab.components.flexure
    - landlab.components.flexure.ext
    - landlab.components.flexure.tests
    - landlab.components.flow_accum
    - landlab.components.flow_accum.tests
    - landlab.components.flow_director
    - landlab.components.flow_director.tests
    - landlab.components.flow_routing
    - landlab.components.flow_routing.tests
    - landlab.components.fracture_grid
    - landlab.components.fracture_grid.tests
    - landlab.components.gflex
    - landlab.components.landslides
    - landlab.components.landslides.tests
    - landlab.components.nonlinear_diffusion
    - landlab.components.nonlinear_diffusion.tests
    - landlab.components.normal_fault
    - landlab.components.overland_flow
    - landlab.components.overland_flow.tests
    - landlab.components.pet
    - landlab.components.pet.tests
    - landlab.components.plant_competition_ca
    - landlab.components.plant_competition_ca.tests
    - landlab.components.potentiality_flowrouting
    - landlab.components.potentiality_flowrouting.tests
    - landlab.components.radiation
    - landlab.components.radiation.tests
    - landlab.components.sink_fill
    - landlab.components.sink_fill.tests
    - landlab.components.soil_moisture
    - landlab.components.soil_moisture.tests
    - landlab.components.space
    - landlab.components.steepness_index
    - landlab.components.stream_power
    - landlab.components.stream_power.tests
    - landlab.components.taylor_nonlinear_hillslope_flux
    - landlab.components.taylor_nonlinear_hillslope_flux.tests
    - landlab.components.transport_length_diffusion
    - landlab.components.transport_length_diffusion.tests
    - landlab.components.uniform_precip
    - landlab.components.vegetation_dynamics
    - landlab.components.vegetation_dynamics.tests
    - landlab.components.weathering
    - landlab.components.weathering.tests
    - landlab.core
    - landlab.core.tests
    - landlab.field
    - landlab.field.tests
    - landlab.framework
    - landlab.graph
    - landlab.graph.ext
    - landlab.graph.hex
    - landlab.graph.hex.ext
    - landlab.graph.hex.tests
    - landlab.graph.matrix
    - landlab.graph.matrix.ext
    - landlab.graph.object
    - landlab.graph.object.ext
    - landlab.graph.quantity
    - landlab.graph.quantity.ext
    - landlab.graph.radial
    - landlab.graph.radial.tests
    - landlab.graph.sort
    - landlab.graph.sort.ext
    - landlab.graph.sort.tests
    - landlab.graph.structured_quad
    - landlab.graph.structured_quad.ext
    - landlab.graph.structured_quad.tests
    - landlab.graph.tests
    - landlab.graph.voronoi
    - landlab.graph.voronoi.ext
    - landlab.graph.voronoi.tests
    - landlab.grid
    - landlab.grid.structured_quad
    - landlab.grid.structured_quad.tests
    - landlab.grid.tests
    - landlab.grid.tests.test_hex_grid
    - landlab.grid.tests.test_raster_funcs
    - landlab.grid.tests.test_raster_grid
    - landlab.grid.unstructured
    - landlab.grid.unstructured.tests
    - landlab.io
    - landlab.io.gebco
    - landlab.io.netcdf
    - landlab.io.netcdf.tests
    - landlab.io.tests
    - landlab.io.vtk
    - landlab.layers
    - landlab.layers.ext
    - landlab.plot
    - landlab.plot.tests
    - landlab.testing
    - landlab.tests
    - landlab.utils
    - landlab.utils.ext
    - landlab.utils.tests
  commands:
    - landlab --help

about:
  home: https://github.com/landlab
  license: MIT
  license_family: MIT
  license_file:  LICENSE.txt
  summary: Plugin-based component modeling tool

extra:
  recipe-maintainers:
    - lsetiawan
    - ocefpaf
