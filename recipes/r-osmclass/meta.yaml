{% set version = '0.1.3' %}
{% set posix = 'm2-' if win else '' %}

package:
  name: r-osmclass
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/osmclass_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/osmclass/osmclass_{{ version }}.tar.gz
  sha256: 5757b35ae5e9d6cba8415003c28096b196693d8a86fa6d9541438f845d58779b

build:
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-collapse >=1.9.6
    - r-data.table
    - r-stringi
  run:
    - r-base
    - r-collapse >=1.9.6
    - r-data.table
    - r-stringi

test:
  commands:
    - $R -e "library('osmclass')"           # [not win]
    - "\"%R%\" -e \"library('osmclass')\""  # [win]

about:
  home: https://CRAN.R-project.org/package=osmclass
  license: GPL-3.0-only
  summary: Classify Open Street Map (OSM) features into meaningful functional or analytical categories.
    Designed for OSM PBF files, e.g. from <https://download.geofabrik.de/> imported
    as spatial data frames. A classification consists of a list of categories that are
    related to certain OSM tags and values. Given a layer from an OSM PBF file and a
    classification, the main osm_classify() function returns a classification data table
    giving, for each feature, the primary and alternative categories (if there is overlap)
    assigned, and the tag(s) and value(s) matched on. The package also contains a classification
    of OSM features by economic function/significance, following Krantz (2023) <https://www.ssrn.com/abstract=4537867>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - SebKrantz

# Package: osmclass
# Type: Package
# Title: Classify Open Street Map Features
# Version: 0.1.3
# Authors@R: person("Sebastian", "Krantz", role = c("aut", "cre"), email = "sebastian.krantz@graduateinstitute.ch")
# Description: Classify Open Street Map (OSM) features into meaningful functional or analytical categories. Designed for OSM PBF files, e.g. from <https://download.geofabrik.de/> imported as spatial data frames. A classification consists of a list of categories that are related to certain OSM tags and values. Given a layer from an OSM PBF file and a classification, the main osm_classify() function returns a classification data table giving, for each feature, the primary and alternative categories (if there is overlap) assigned, and the tag(s) and value(s) matched on. The package also contains a classification of OSM features by economic function/significance, following Krantz (2023) <https://www.ssrn.com/abstract=4537867>.
# License: GPL-3
# Encoding: UTF-8
# Depends: R (>= 3.3.0)
# Imports: collapse (>= 1.9.6), data.table, stringi
# RoxygenNote: 7.2.3
# LazyData: true
# NeedsCompilation: no
# Packaged: 2023-08-16 13:54:41 UTC; sebastiankrantz
# Author: Sebastian Krantz [aut, cre]
# Maintainer: Sebastian Krantz <sebastian.krantz@graduateinstitute.ch>
# Repository: CRAN
# Date/Publication: 2023-08-17 07:00:02 UTC
