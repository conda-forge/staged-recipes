{% set name = "diffpy.srxconfutils" %}
{% set version = "1.0.0" %}
{% set python_min = "3.11" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/d/diffpy_srxconfutils/diffpy_srxconfutils-{{ version }}.tar.gz
  sha256: 5353245c112087da49af804807e4932d33fd67c337a4a6793139a4e836de566c

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install --no-deps --ignore-installed .
  entry_points:
    - diffpy-srxconfutils = diffpy.srxconfutils.srxconfutils_app:main

requirements:
  host:
    - python {{ python_min }}
    - setuptools
    - setuptools-git-versioning >=2.0
    - pip

  run:
    - python >={{ python_min }}
    - numpy
    - traits
    - traitsui

test:
  requires:
    - python {{ python_min }}
    - flake8
    - pytest
    - codecov
    - coverage
    - pytest-cov
    - pytest-env
    - pip

  source_files:
    - tests

  commands:
    - pip check
    - pytest

about:
  home: https://github.com/diffpy.srxconfutils/diffpy.srxconfutils/
  summary: Used in diffpy.xpdsuite, link to web is https://www.diffpy.org/products/xPDFsuite.html
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE.rst
  description: |
    This is a utility Python package for diffpy.xpdfsuite. This suite of algorithms and software is an easy to use graphical user interface (GUI) to a number of Diffpy programs. It provides a raw-data-to-modelled-PDF solution for X-ray PDFs. It is specially convenient for handling high throughput data with many (hundreds to thousands) of datatsets, such as come from modern synchrotron experiments with 2D detectors. It is equally useful for data from laboratory x-rays. The software runs on laptops and workstations running windows, mac OSX and linux.
  doc_url: http://diffpy.srxconfutils.github.io/diffpy.srxconfutils/
  dev_url: https://github.com/diffpy.srxconfutils/diffpy.srxconfutils/

extra:
  recipe-maintainers:
    - sbillinge
    - zmx27
