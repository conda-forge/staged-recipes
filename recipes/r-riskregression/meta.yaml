{% set version = '2020.02.05' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-riskregression
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/riskRegression_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/riskRegression/riskRegression_{{ version }}.tar.gz
  sha256: b5b6cf9d17e3b674a8283cae01d608868e21e39838b1a6947ac1c290ae5202d4

build:
  merge_build_host: True  # [win]
  number: 0
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]
  host:
    - r-base
    - r-publish
    - r-rcpp
    - r-rcpparmadillo
    - r-cmprsk
    - r-data.table >=1.12.2
    - r-doparallel
    - r-foreach
    - r-ggplot2 >=3.1.0
    - r-lattice
    - r-lava >=1.6.5
    - r-plotrix
    - r-prodlim >=2018.4.18
    - r-ranger
    - r-rms >=5.1.3
    - r-survival >=2.44.1
    - r-timereg >=1.9.3
    - libblas
  run:
    - r-base
    - {{ native }}gcc-libs         # [win]
    - r-publish
    - r-rcpp
    - r-rcpparmadillo
    - r-cmprsk
    - r-data.table >=1.12.2
    - r-doparallel
    - r-foreach
    - r-ggplot2 >=3.1.0
    - r-lattice
    - r-lava >=1.6.5
    - r-plotrix
    - r-prodlim >=2018.4.18
    - r-ranger
    - r-rms >=5.1.3
    - r-survival >=2.44.1
    - r-timereg >=1.9.3

test:
  commands:
    - $R -e "library('riskRegression')"           # [not win]
    - "\"%R%\" -e \"library('riskRegression')\""  # [win]

about:
  home: https://CRAN.R-project.org/package=riskRegression
  license: GPL-2.0-or-later
  summary: Implementation of the following methods for event history analysis. Risk regression
    models for survival endpoints also in the presence of competing risks are fitted
    using binomial regression based on a time sequence of binary event status variables.
    A formula interface for the Fine-Gray regression model and an interface for the
    combination of cause-specific Cox regression models. A toolbox for assessing and
    comparing performance of risk predictions (risk markers and risk prediction models).
    Prediction performance is measured by the Brier score and the area under the ROC
    curve for binary possibly time-dependent outcome. Inverse probability of censoring
    weighting and pseudo values are used to deal with right censored data. Lists of
    risk markers and lists of risk models are assessed simultaneously. Cross-validation
    repeatedly splits the data, trains the risk prediction models on one part of each
    split and then summarizes and compares the performance across splits.
  license_family: GPL2
  license_file:
    - {{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2

extra:
  recipe-maintainers:
    - conda-forge/r

# Package: riskRegression
# Type: Package
# Title: Risk Regression Models and Prediction Scores for Survival Analysis with Competing Risks
# Version: 2020.02.05
# Authors@R: c(person("Thomas Alexander", "Gerds", role = c("aut", "cre"), email = "tag@biostat.ku.dk"), person("Paul", "Blanche", role = "ctb"), person("Rikke", "Mortensen", role = "ctb"), person("Nikolaj", "Tollenaar", role = "ctb"), person("Ulla Brasch", "Mogensen", role = "ctb"), person("Brice", "Ozenne", role = "aut", email = "broz@sund.ku.dk", comment = c(ORCID = "0000-0001-9694-2956")))
# Depends: R (>= 3.5.0),
# Imports: data.table (>= 1.12.2), ggplot2 (>= 3.1.0), prodlim (>= 2018.4.18), doParallel, stats, graphics, survival (>= 2.44.1), lava (>= 1.6.5), cmprsk, plotrix, timereg (>= 1.9.3), foreach, ranger, parallel, Rcpp, lattice, Publish, rms (>= 5.1.3)
# LinkingTo: Rcpp, RcppArmadillo
# Suggests: boot, smcfcs, CoxBoost, ipw, SuperLearner, gbm, glmnetUtils, flexsurv, mets, mstate, party, pec, penalized, pROC, randomForest, randomForestSRC, rbenchmark, rpart, testthat, R.rsp
# Maintainer: Thomas Alexander Gerds <tag@biostat.ku.dk>
# Description: Implementation of the following methods for event history analysis. Risk regression models for survival endpoints also in the presence of competing risks are fitted using binomial regression based on a time sequence of binary event status variables. A formula interface for the Fine-Gray regression model and an interface for the combination of cause-specific Cox regression models. A toolbox for assessing and comparing performance of risk predictions (risk markers and risk prediction models). Prediction performance is measured by the Brier score and the area under the ROC curve for binary possibly time-dependent outcome. Inverse probability of censoring weighting and pseudo values are used to deal with right censored data. Lists of risk markers and lists of risk models are assessed simultaneously. Cross-validation repeatedly splits the data, trains the risk prediction models on one part of each split and then summarizes and compares the performance across splits.
# License: GPL (>= 2)
# RoxygenNote: 7.0.2
# VignetteBuilder: R.rsp
# NeedsCompilation: yes
# Packaged: 2020-02-08 08:10:10 UTC; tag
# Author: Thomas Alexander Gerds [aut, cre], Paul Blanche [ctb], Rikke Mortensen [ctb], Nikolaj Tollenaar [ctb], Ulla Brasch Mogensen [ctb], Brice Ozenne [aut] (<https://orcid.org/0000-0001-9694-2956>)
# Repository: CRAN
# Date/Publication: 2020-02-08 16:30:02 UTC
