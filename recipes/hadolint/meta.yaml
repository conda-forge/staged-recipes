{% set name = "hadolint" %}
{% set version = "2.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  - url: https://github.com/hadolint/hadolint/releases/download/v{{ version }}/hadolint-Darwin-x86_64  # [osx]
    sha256: 41a34428b1bc0a3633018309abe31b00e9d47b44ef3d2c5c33a7e7d5242bcd6e  # [osx]
  - url: https://github.com/hadolint/hadolint/releases/download/v{{ version }}/hadolint-Linux-x86_64  # [linux]
    sha256: ecaf24a8d9dec2f5e16a8f951a6de51bfa9e43f285f4c751b208a9d90c66a0ce  # [linux]
  - url: https://github.com/hadolint/hadolint/releases/download/v{{ version }}/hadolint-Windows-x86_64.exe  # [win]
    sha256: ea49a2ce1d34a21a99f9b0ea1f06345e0e6696a109181a0b38d64916d8fccf47  # [win]
  - url: https://github.com/hadolint/hadolint/archive/refs/tags/v{{ version }}.tar.gz
    sha256: e631a86392bdf6ebfed737f99f05558b7f06b063215180b41d6e9d7fb8fe6ce4

build:
  number: 0

test:
  commands:
   - hadolint --version | grep "Haskell Dockerfile Linter {{ version }}-no-git"

about:
  home: https://github.com/hadolint/hadolint
  license: GPL-3.0-only
  license_family: GPL
  license_file:
    - LICENSE
    - ThirdPartyNotices.txt
  summary: Dockerfile linter, validate inline bash, written in Haskell

extra:
  recipe-maintainers:
    - janjagusch
