context:
  version: 0.1.9

package:
  name: hf_transfer
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/h/hf-transfer/hf_transfer-${{ version }}.tar.gz
  sha256: 035572865dab29d17e783fbf1e84cf1cb24f3fcf8f1b17db1cfc7fdf139f02bf

build:
  script:
    - cargo-bundle-licenses --format yaml --output THIRDPARTY.yml
    - ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  build:
    - ${{ compiler("c") }}
    - ${{ stdlib("c") }}
    - ${{ compiler("cxx") }}
    - ${{ compiler("rust") }}
    - cargo-bundle-licenses
  host:
  - python
  - maturin >=1.4,<2
  - openssl
  - pip
  run:
  - python

tests:
- python:
    imports:
    - hf_transfer
    pip_check: true

about:
  summary: Speed up file transfers with the Hugging Face Hub.
  homepage: https://github.com/huggingface/hf_transfer
  repository: https://github.com/huggingface/hf_transfer
  license: Apache-2.0
  license_file:
    - LICENSE
    - THIRDPARTY.yml

extra:
  recipe-maintainers:
    - maresb
