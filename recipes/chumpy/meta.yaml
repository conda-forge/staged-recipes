{% set name = "chumpy" %}
{% set version = "0.70" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: a0275c2018784ca1302875567dc81761f5fd469fab9f3ac0f3e7c39e9180350a
  patches:
    - patches/0001-Issue-40-Make-compatible-with-pip-20.1.patch
    - patches/0002-Delete-unused-and-deprecated-import.patch
    - patches/0003-ci-drop-Python-2-checks-migrate-CI-to-CircleCI-2.1-P.patch

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - pip
    - python {{ python_min }}
    - setuptools
  run:
    - python >={{ python_min }}
    - numpy
    - scipy
    - six

test:
  imports:
    - chumpy
  commands:
    - pip check
  requires:
    - pip
    - python {{ python_min }}

about:
  home: https://github.com/mattloper/chumpy
  summary: 'chumpy is a Python-based framework designed to handle the auto-differentiation problem'
  description: |
    chumpy is a Python-based framework designed to handle the auto-differentiation
    problem. It is intended to be fast, flexible, and easy to use. It was originally
    developed as part of the SMPL human body model project, but has since been
    extracted into a separate package.
  license: MIT
  license_file: LICENSE.txt
  dev_url: https://github.com/mattloper/chumpy

extra:
  recipe-maintainers:
    - jeongseok-meta
