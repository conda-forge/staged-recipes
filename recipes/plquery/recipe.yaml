context:
  name: plquery
  version: "0.1.0"
  python_min: "3.13"

recipe:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: 6688d5940dbb3b866eba0fbf8ea4021c5403204c005beeb123718c47390342e6

build:
  number: 0

outputs:
  - package:
      name: ${{ name }}
    build:
      noarch: python
      script: python -m pip install . -vv
      python:
        entry_points:
          - plquery=plquery.__main__:main
          - plq=plquery.__main__:main
    requirements:
      host:
        - python ${{ python_min }}.*
        - pip
        - hatchling
      run:
        - python >=${{ python_min }}
        - polars >=1.26.0,<2
        - textual >=3.0.0,<4
    tests:
      - python:
          imports:
          - plquery
          pip_check: true
          python_version: ${{ python_min }}

  - package:
      name: plq
    build:
      noarch: generic
    requirements:
      run:
        - ${{ pin_subpackage('plquery', exact=true) }}


about:
  homepage: https://github.com/pavelzw/plquery
  summary: Query dataframes interactively
  description: |
    This tui allows you to query polars dataframes interactively by running polars expressions on parquet and CSV files from your system using REPL.
  license: BSD-3-Clause
  license_file: LICENSE
  repository: https://github.com/pavelzw/plquery

extra:
  recipe-maintainers:
    - pavelzw
