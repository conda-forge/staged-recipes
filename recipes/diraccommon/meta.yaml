{% set name = "DIRACCommon" %}
{% set version = "9.0.0" %}
{% set python_min = "3.11" %}

package:
  name: {{ name | lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/diraccommon-{{ version }}.tar.gz
  sha256: 72f6d1a6029ff837b56510ff303ab232db91c38532a6baba74be2a05a7b4aac9

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0

requirements:
  host:
    - python {{ python_min }}
    - hatchling
    - hatch-vcs
    - pip
  run:
    - python >={{ python_min }}
    - typing_extensions >=4.0.0
    - diraccfg
    - pydantic >=2.0.0

test:
  imports:
    - DIRACCommon
  commands:
    - pip check
  requires:
    - python {{ python_min }}
    - pip

about:
  home: https://github.com/DIRACGrid/DIRAC/
  summary: Stateless utilities extracted from DIRAC for use by DiracX and other projects
  license: GPL-3.0-only
  description: |
    DIRAC (Distributed Infrastructure with Remote Agent Control) INTERWARE is a
    software framework for distributed computing providing a complete solution
    to one or more user community requiring access to distributed resources.
    DIRAC builds a layer between the users and the resources offering a common
    interface to a number of heterogeneous providers, integrating them in a
    seamless manner, providing interoperability, at the same time as an
    optimized, transparent and reliable usage of the resources.

    DIRAC has been started by the LHCb collaboration who still maintains it. It
    is now used by several communities (AKA VO=Virtual Organizations) for their
    distributed computing workflows.
  doc_url: https://dirac.readthedocs.io/
  dev_url: https://github.com/DIRACGrid/DIRAC/

extra:
  recipe-maintainers:
    - chrisburr
    - maxnoe
    - fstagni
