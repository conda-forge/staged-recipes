# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/refs/heads/renovate/pixi/schema.json
schema_version: 1

context:
  name: freetakserver-ui
  version: 2.2.1
  python_min: 3.11.0

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/FreeTAKTeam/UI/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 05b4d286d3f67b4bd359972adaa1b6e912a5ef1f8df7a93eb72ab5b06f21ed31

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - python ${{ python_min }}.*
    - poetry-core >=1.0.0
    - pip >=23.0,<25.0
  run:
    - python >=${{ python_min }}
    - flask >=3.0.2,<3.1
    - flask-login >=0.6.3,<0.7
    - flask-migrate >=4.0.6,<4.1
    - flask-wtf >=1.2.1,<2.0
    - flask-sqlalchemy >=3.1.1,<3.2
    - email_validator >=2.1.1,<3.0
    - gunicorn >=21.2.0,<22.0
    - python-decouple >=3.8,<3.9
    - sqlalchemy >=2.0.40,<3.0
    - sqlalchemy-utils >=0.41.1,<0.42
    - wtforms >=2.3.3,<2.4
    - requests >=2.31.0,<3.0
    - eventlet >=0.36.0,<0.40

tests:
  - package_contents:
      site_packages:
        - FreeTAKServer-UI
        - FreeTAKServer-UI.app
        - FreeTAKServer-UI.app.base

about:
  homepage: https://github.com/FreeTAKTeam/UI
  summary: FreeTAKServer Web User Interface - A web-based administration interface for FreeTAKServer
  description: |
    FreeTAKServer UI is a web-based user interface for managing and administrating
    FreeTAKServer instances. Built with Flask, it provides a comprehensive dashboard
    for server management, user administration, and real-time monitoring of TAK
    operations. The UI features session-based authentication, database management
    through SQLAlchemy, and a modular design using Flask Blueprints.

    Key features include:
    - Web-based dashboard for FreeTAKServer management
    - User authentication and session management
    - Database schema migrations with Alembic
    - Responsive web interface with HTML, CSS, SCSS, and JavaScript
    - RESTful API integration with FreeTAKServer backend
    - Real-time server monitoring and administration tools
  license: MIT
  license_file: LICENSE.md
  documentation: https://freetakteam.github.io/FreeTAKServer-User-Docs/
  repository: https://github.com/FreeTAKTeam/UI

extra:
  recipe-maintainers:
    - phreed
