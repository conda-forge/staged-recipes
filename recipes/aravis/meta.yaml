{% set version = "0.8.33" %}

package:
  name: aravis
  version: {{ version }}

source:
  url: https://github.com/AravisProject/aravis/releases/download/{{version}}/aravis-{{version}}.tar.xz
  sha256: 3c4409a12ea70bba4de25e5b08c777112de854bc801896594f2cb6f8c2bd6fbc

requirements:
  build:
    - {{ compiler('c') }}
    - {{ stdlib('c') }} #[not win64]
    - meson
    - ninja
    - pygobject
    - pkg-config
    - gettext #[win64]
  host:
    - glib
    - gtk3
    - libusb
    - gobject-introspection
    - gstreamer
    - libxml2
    - zlib
    - libintl [osx]
    - expat [osx]

test:
  requires:
    - ninja
    - pygobject
  commands:
    - ninja -C builddir test

about:
  home:  https://github.com/AravisProject/aravis
  summary: 'A vision library for genicam based cameras'
  description: |
    Aravis is a glib/gobject based library for video acquisition using Genicam
    cameras. It currently implements the gigabit ethernet and USB3 protocols
    used by industrial cameras. It also provides a basic ethernet camera
    simulator and a simple video viewer.

  # Remember to specify the license variants for BSD, Apache, GPL, and LGPL.
  # Use the SPDX identifier, e.g: GPL-2.0-only instead of GNU General Public License version 2.0
  # See https://spdx.org/licenses/
  license: LGPL-2.1
  license_family: LGPL
  license_file: COPYING
  # The doc_url and dev_url are optional.
  doc_url: https://aravisproject.github.io/aravis/aravis-stable/
  dev_url: https://github.com/AravisProject/aravis

extra:
  recipe-maintainers:
    - weatherhead99
