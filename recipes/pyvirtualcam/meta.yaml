{% set name = "pyvirtualcam" %}
{% set version = "0.10.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/letmaik/pyvirtualcam/archive/v{{ version }}.tar.gz
  sha256: f4aa1a6be7f46f6c250c27556a2d1f32737ba76a8691a5fbfa54b6ecfcc1955e

build:
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}
    - libuv
  host:
    - libuv
    - pip
    - pybind11 >=2.6.0
    - python
  run:
    - numpy
    - python

test:
  imports:
    - pyvirtualcam
  commands:
    - pip list
    - pip check
  requires:
    - pip

about:
  home: https://github.com/letmaik/pyvirtualcam
  summary: Seamless operability between C++11 and Python
  license: MIT
  license_file:
    - LICENSE
    - pyvirtualcam/native_macos_obs/server/LICENSE
    - pyvirtualcam/native_windows_obs/queue/LICENSE
    - pyvirtualcam/native_windows_unity_capture/shared_memory/LICENSE

extra:
  recipe-maintainers:
    - goanpeca
