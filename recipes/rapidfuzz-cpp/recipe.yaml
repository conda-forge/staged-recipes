context:
  name: rapidfuzz-cpp
  version: 3.3.3

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/rapidfuzz/rapidfuzz-cpp/archive/refs/tags/v${{ version }}.tar.gz
  sha256: "fa0fbd40110df8134cf05bddbaa4e237dbc4fd915ab9a3029ff481a8d3e8b757"

build:
  number: 0
  # Most common for pure CMake projects in 2025+
  script:
    - cmake -B build
        -DCMAKE_BUILD_TYPE=Release
        -DCMAKE_INSTALL_PREFIX=$PREFIX
        -DBUILD_SHARED_LIBS=ON
        -DRAPIDFUZZ_BUILD_TESTING=OFF
        -DRAPIDFUZZ_BUILD_BENCHMARKS=OFF
    - cmake --build build --parallel ${CMAKE_BUILD_PARALLEL_LEVEL:-4} --verbose
    - cmake --install build --verbose

requirements:
  build:
    - ${{ compiler('cxx') }}
    - cmake     >=3.15
    - ninja     # preferred over make on many platforms

  host: []      # no external runtime deps â†’ empty

  run: []       # same as host for compiled libs

tests:
  - package_contents:
      include:
        - rapidfuzz/fuzz.hpp

about:
  homepage: https://github.com/rapidfuzz/rapidfuzz-cpp
  repository: https://github.com/rapidfuzz/rapidfuzz-cpp
  documentation: https://rapidfuzz.github.io/rapidfuzz-cpp
  license: MIT
  license_file: LICENSE
  summary: Rapid fuzzy string matching in C++ (Levenshtein and other metrics)
  description: |
    Fast string similarity library in C++ providing Levenshtein distance,
    Hamming, Jaro-Winkler, fuzz ratios (partial, token sort, etc.) and more.
    Designed as high-performance backend for rapidfuzz (Python) but usable standalone.


extra:
  recipe-maintainers:
    - faceprint
