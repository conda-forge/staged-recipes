{% set name = "constructure" %}
{% set version = "0.0.1" %}

package:
  name: {{ name|lower }}-recipe
  version: {{ version }}

source:
  url: https://github.com/SimonBoothroyd/{{ name }}/archive/{{ version }}.tar.gz
  sha256: 3e49292beb1a33ea2d9b58d7abd4b8686c168071c844ffd4e728895f234d0aa5

build:
  number: 0

outputs:
  - name: {{ name|lower }}-base
    script: build_base.sh
    build:
      noarch: python

    requirements:
      host:
        - python >=3.6
        - pip
      run:
        - python >=3.6
        - pydantic

    test:
      imports:
        - constructure

outputs:
  - name: {{ name|lower }}
    build:
      noarch: python

    requirements:
      host:
        - python >=3.6
      run:
        - python >=3.6
        - rdkit
        - {{ pin_subpackage('constructure-base', exact=True) }}

    test:
      imports:
        - constructure
        - rdkit

about:
  home: https://github.com/SimonBoothroyd/constructure
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: 'Construct molecules from diverse scaffolds and fragments.'
  description: |
    The constructure framework aims to provide utilities for generating a
    diverse set of molecules from a set of common organic scaffolds.
  doc_url: https://github.com/SimonBoothroyd/constructure
  dev_url: https://github.com/SimonBoothroyd/constructure

extra:
  recipe-maintainers:
    - simonboothroyd
