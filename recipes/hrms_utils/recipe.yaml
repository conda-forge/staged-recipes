context:
  name: hrms_utils
  version: "0.7.0"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/Nir-Cohen-2003/MS_utils/archive/${{ version }}.tar.gz
  sha256: 6738654b2e99d960f7d05b1efa04c45780f1ab8a29d8a9c76b54dbc94e19e8e8

build:
  number: 0
  skip:
    - osx
    - linux and not x86_64
    - win and not x86_64

requirements:
  build:
    - ${{ compiler('c') }}
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - ${{ compiler('rust') }}
    - cargo-bundle-licenses
  host:
    - python >=3.12
    - pip
    - setuptools >=68.0.0
    - setuptools-rust >=1.5.0
    - wheel
    - numpy >=1.20.0
  run:
    - python >=3.12
    - polars >=1.35.2,<2
    - rdkit >=2024.0.0
    - numpy >=1.20.0
    - numba >=0.61.0
    - scipy
    - pymzml >2.5.0
    - pandas
    - lxml
    - requests
    - aiohttp
    - pyarrow
    - python-calamine
    - openpyxl
    - xlsx2csv
    - xlsxwriter
    - connectorx
    - sqlalchemy

tests:
  - python:
      imports:
        - hrms_utils
        - hrms_utils._internal
      pip_check: true

about:
  homepage: https://github.com/Nir-Cohen-2003/MS_utils
  license: Apache-2.0
  license_file:
    - LICENSE
    - THIRDPARTY.yml
  summary: Utilities for high-resolution mass spectrometry (HRMS) data
  description: |
    HRMS_utils provides tools for working with high-resolution mass spectrometry data.
    The codebase relies heavily on Polars dataframes with spectra often stored as 
    nested datatypes within these dataframes. Includes Rust extensions for performance-critical
    operations like spectral similarity calculations.
  repository: https://github.com/Nir-Cohen-2003/MS_utils
  documentation: https://nir-cohen-2003.github.io/MS_utils/

extra:
  recipe-maintainers:
    - Nir-Cohen-2003
