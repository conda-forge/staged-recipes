{% set name = "GALFITools" %}
{% set version = "1.15.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/galfitools-{{ version }}.tar.gz
  sha256: 49b1227a921d1263708204ff11520d6d96bc0bbbeb1e61588aeed46041937b07

build:
  entry_points:
    - getStar = galfitools.shell.commands_galin:mainGetStar
    - initGal = galfitools.shell.commands_galin:mainInitGal
    - gtmakeMask = galfitools.shell.commands_galin:mainMakeMask
    - maskDs9 = galfitools.shell.commands_galin:mainMaskDs9
    - maskSky = galfitools.shell.commands_galin:mainMaskSky
    - xy2fits = galfitools.shell.commands_galin:mainxy2fits
    - checkFile = galfitools.shell.commands_galin:maincheckFile
    - boxSize = galfitools.shell.commands_galin:mainGetBoxSizeDs9
    - getSersic = galfitools.shell.commands_galin:maingetSersic
    - imarith = galfitools.shell.commands_galin:main_imarith
    - makePSF = galfitools.shell.commands_galin:mainMakePSF
    - getBreak = galfitools.shell.commands_galout:mainGetBreak
    - getBreak2 = galfitools.shell.commands_galout:mainGetBreak2
    - getFWHM = galfitools.shell.commands_galout:mainFWHM
    - getKappa = galfitools.shell.commands_galout:mainKappa
    - getKappa2 = galfitools.shell.commands_galout:mainKappa2
    - getReComp = galfitools.shell.commands_galout:mainGetReComp
    - getSlope = galfitools.shell.commands_galout:maingetSlope
    - getN = galfitools.shell.commands_galout:maingetN
    - getMissLight = galfitools.shell.commands_galout:mainMissingLight
    - getBulgeRad = galfitools.shell.commands_galout:mainGetBulgeRad
    - showCube = galfitools.shell.commands_galout:mainShowCube
    - photDs9 = galfitools.shell.commands_galout:mainPhotDs9
    - getCOW = galfitools.shell.commands_galout:maingetCOW
    - fitlog2csv = galfitools.shell.commands_galout:mainFitlog2CSV
    - getPeak = galfitools.shell.commands_galout:maingetPeak
    - getBarSize = galfitools.shell.commands_galout:mainGetBarSize
    - mge2galfit = galfitools.shell.commands_mge:mainMGE
    - sbProf = galfitools.shell.commands_mge:mainSbProf
    - makeSim = galfitools.shell.commands_sim:mainMakeSim
    - galSky = galfitools.shell.commands_sky:mainGalfitSky
    - skyDs9 = galfitools.shell.commands_sky:mainSkyDs9
    - skyRing = galfitools.shell.commands_sky:mainSkyRing
  script: |
    {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
    {{ PYTHON }} -m pip check
  number: 0


requirements:
  host:
    - python
    - setuptools >=46.1.0
    - setuptools-scm >=5
    - wheel
    - pip
  run:
    - python
    - importlib-metadata  # [py<38]
    - numpy >=1.22.4
    - astropy >=5.1
    - matplotlib-base >=3.5.2
    - scipy >=1.9.1
    - mgefit >=6.0.4
    - pre-commit >=2.18.1


test:
  imports:
    - galfitools
  commands:
    - pip check
    - getStar --help
    - initGal --help
    - gtmakeMask --help
    - maskDs9 --help
    - maskSky --help
    - xy2fits --help
    - checkFile --help
    - boxSize --help
    - getSersic --help
    - imarith --help
    - makePSF --help
    - getBreak --help
    - getBreak2 --help
    - getFWHM --help
    - getKappa --help
    - getKappa2 --help
    - getReComp --help
    - getSlope --help
    - getN --help
    - getMissLight --help
    - getBulgeRad --help
    - showCube --help
    - photDs9 --help
    - getCOW --help
    - fitlog2csv --help
    - getPeak --help
    - getBarSize --help
    - mge2galfit --help
    - sbProf --help
    - makeSim --help
    - galSky --help
    - skyDs9 --help
    - skyRing --help
  requires:
    - pip

about:
  home: https://pypi.org/project/GALFITools/
  summary: A library for GALFIT package
  dev_url: https://github.com/canorve/GALFITools
  license: MIT
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - canorve 
