context:
  version: "0.6.1"

package:
  name: pymicro
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/p/pymicro/pymicro-${{ version }}.tar.gz
  sha256: 2cac40fd5f422cf2e8708abfc54c4995ed6948b3f58701e0117e370a7d97f145

build:
  noarch: python
  script:
    env:
        # as set in the upstream setup.py
        BASICTOOLS_DISABLE_MKL: 1
        BASICTOOLS_DISABLE_OPENMP: 1
    content: python -m pip install . -vv
  number: 0


requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
  run:
    - python >=${{ python_min }}
    - numpy <2.0.0
    - scipy
    - matplotlib-base
    - scikit-image
    - scikit-learn
    - vtk
    - h5py
    - lxml
    - pytables
    - networkx
    - tqdm
    - requests
    - pytest
    - basictools
    - pyqt

tests:
  - python:
      imports:
        - pymicro
      # pip check disabled because the dependency basictools does not pass it, but feedstock is archived by now
      pip_check: false

about:
  homepage: http://pymicro.readthedocs.io/
  summary: Pymicro is an open-source Python package to work with material microstructures and 3d data sets.
  license: MIT
  license_file: LICENSE.md
  repository: https://github.com/heprom/pymicro

extra:
  recipe-maintainers:
    - claudiushaag
