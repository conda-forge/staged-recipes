{% set version = "0.0.1" %}

package:
  name: ipypdf
  version: {{ version }}

source:
  url: https://github.com/joelstansbury/ipypdf/archive/15e2826.tar.gz
  sha256: 6f045d7e69a469337e726e2d2296bea7167bdd4daa1761cdba2e0d1b456d5259

build:
  script: {{ PYTHON }} -m pip install -vv . --no-deps
  number: 0

requirements:
  host:
    - python
    - pip
    - setuptools
  run:
    - python      <=3.8.12,>=3.6
    - pip
    - pywin32     # [win]
    - mesa-libgl-cos6-x86_64  # [linux]
    - ipycanvas   <=0.10.2
    - ipycytoscape <=1.3.2
    - ipyevents   <=2.0.1
    - ipytree     <=0.2.1
    - ipywidgets  <=7.6.5
    - jupyterlab  >=3.0
    - numpy       <=1.19.3,>=1.13  # Constrained by paddlepaddle
    - opencv      <=4.5.5
    - pandas      <=1.3.5
    - pdf2image   <=1.16.0
    - poppler     <=22.01.0
    - pytesseract <=0.3.9
    - spacy       <=3.2.1
    - spacy-model-en_core_web_lg <=3.2.0
    - tesseract   <=5.0.1
    - traitlets   <=5.1.1

test:
  source_files:
    - tests
  requires:
    - pytest
    - pytest-cov
  commands:
    - pytest

about:
  home: https://github.com/JoelStansbury/ipypdf
  summary: Jupyter widget for applying nlp to pdf documents
  license: MIT
  license_file: LICENSE
  description: |
    ipypdf is an InteractivePython (iPy) widget designed to provide powerful
    tools for extracting data from PDF documents. The widget features a directory
    tree to navigate through the hierarchy. Rendered pdf canvas used to highlight
    portions of the document relevant to your specific task. And a toolkit panel
    to perform predefined operations. Among these operations are AutoParse, which
    will utilize layoutparser to extract titles, text, tables, and images from the
    document. Spacy, which utilizes SpaCy's NLP model to detect and display named
    entities. Cytoscape, which discovers symantically similar portions of text and
    displays them in an interactive graph. (and more)
  doc_url: https://github.com/JoelStansbury/ipypdf
  dev_url: https://github.com/JoelStansbury/ipypdf

extra:
  recipe-maintainers:
    - JoelStansbury
