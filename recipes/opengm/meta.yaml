{% set name = "opengm" %}
{% set version = "2.3.7" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/{{ name }}/{{ name }}/archive/refs/tags/v{{ version }}RC.tar.gz
  sha256: 5cbbe59b8c61e4200aff6634132db40b414d35b515d67ba989d332834c151281

build:
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"
  skip: True  # [py<37]

requirements:
  build:
    - {{ compiler('cxx') }}
  host:
    - python
    - pip
  run:
    - python

test:
  imports:
    - opengm
    - opengm.src.unittests

about:
  home: https://github.com/opengm/opengm
  license: MIT
  license_family: MIT
  license_file: Licence-OpenGM.txt
  summary: 'Discrete factor graph models and distributive operations on these models'
  description: |
    OpenGM is a C++ template library for discrete factor graph models and
    distributive operations on these models. State-of-the-are optimizations,
    handles large models efficiently, with no restrictions imposed on the factor
    graph or the operations of the model.
  doc_url: http://hciweb2.iwr.uni-heidelberg.de/opengm/doxygen/opengm-2.1.1/index.html
  dev_url: https://github.com/opengm/opengm

extra:
  recipe-maintainers:
    - roi-f
