{% set full_version = "10.9.0.34" %}
{% set version = full_version | split('.') | slice(0, 3) | join('.') %}

package:
  name: TensorRT-SDK
  version: {{ full_version }}

{% set arm_variant_type = arm_variant_type | default("None") %}
{% set cuda_compiler_version = cuda_compiler_version | default("None") %}

source:
  - url: https://developer.nvidia.com/downloads/compute/machine-learning/tensorrt/{{ version }}/tars/TensorRT-{{ full_version }}.Linux.aarch64-gnu.cuda-12.8.tar.gz  # [linux and arm64 and (cuda_compiler_version or "").startswith("12") and arm_variant_type == "sbsa"]
  - url: https://developer.nvidia.com/downloads/compute/machine-learning/tensorrt/{{ version }}/tars/TensorRT-{{ full_version }}.Linux.x86_64-gnu.cuda-11.8.tar.gz  # [linux and x86_64 and (cuda_compiler_version or "").startswith("11")]
  - url: https://developer.nvidia.com/downloads/compute/machine-learning/tensorrt/{{ version }}/tars/TensorRT-{{ full_version }}.Linux.x86_64-gnu.cuda-12.8.tar.gz  # [linux and x86_64 and (cuda_compiler_version or "").startswith("12")]
  - url: https://developer.nvidia.com/downloads/compute/machine-learning/tensorrt/{{ version }}/zip/TensorRT-{{ full_version }}.Windows.win10.cuda-11.8.zip  # [win and x86_64 and (cuda_compiler_version or "").startswith("11")]
  - url: https://developer.nvidia.com/downloads/compute/machine-learning/tensorrt/{{ version }}/zip/TensorRT-{{ full_version }}.Windows.win10.cuda-12.8.zip  # [win and x86_64 and (cuda_compiler_version or "").startswith("12")]

build:
  number: 0
  skip: true  # [(cuda_compiler_version or "None") == "None"]

requirements:
  build:
    - cf-nvidia-tools 1
