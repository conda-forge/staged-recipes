{% set name = "gnuradio-symbolmapping" %}
{% set version = "1.0.3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/ant-uni-bremen/gr-symbolmapping/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 4a1002d54ab70dfd0616aa6d3eb1a1a27cf8a60d1445b47b0c9643eb3173cbaf

build:
  skip: True  # [win]
  number: 0

requirements:
  build:
    - {{ compiler("c") }}
    - {{ compiler("cxx") }}
    - cmake >=3.16
    - git
    - ninja
    - pkg-config  # [not win]
    # cross-compilation requirements
    - python                              # [build_platform != target_platform]
    - cross-python_{{ target_platform }}  # [build_platform != target_platform]
    - numpy                               # [build_platform != target_platform]
    - pybind11                            # [build_platform != target_platform]

  host:
    - python
    - numpy >=1.22
    - fmt
    - spdlog
    - pybind11
    - gmp  # [unix]
    - fftw
    - volk >=2.5
    # the following two entries are for generating builds against specific GR versions
    - gnuradio-core  # [not gnuradio_extra_pin]
    - gnuradio-core {{ gnuradio_extra_pin }}.*  # [gnuradio_extra_pin]
    - pip  # [win]

  run:
    - python

test:
  imports:
    - symbolmapping

about:
  home: https://github.com/ant-uni-bremen/gr-symbolmapping
  license: GPL-3.0-or-later
  license_family: GPL
  license_file: LICENSE
  summary: GNU Radio and Python module for fast standardized symbol (de)mappers
  doc_url: https://github.com/ant-uni-bremen/gr-symbolmapping
  dev_url: https://github.com/ant-uni-bremen/gr-symbolmapping

extra:
  recipe-maintainers:
    - jdemel
