= Mumble VoIP Package Roadmap
:toc:
:toclevels: 2

== Current Status

The mumble-voip conda-forge package is under development with the following components:

* ✅ Windows build with MSVC flag fixes
* ✅ **macOS build (targeting v10.14)**
* ⚠️  Linux build (untested)
* ✅ Both client (`mumble`) and server (`mumble-server`) packages

== Known Issues

=== macOS Build Configuration

==== Decision

The macOS build has been **configured to target macOS 10.14** to support Mumble's use of AVFoundation APIs.

==== Technical Background

Mumble v1.5.735 uses `AVAuthorizationStatus` and related microphone permission APIs that were introduced in macOS 10.14. The build configuration has been updated from the conda-forge default of macOS 10.13 to macOS 10.14 to accommodate this requirement.

==== Current Status

The recipe configuration includes:

```yaml
c_stdlib_version: # [osx and x86_64]
  - "10.14" # [osx and x86_64]
```

This allows the build to proceed normally while supporting the required AVFoundation APIs.

== Action Items

=== Immediate (High Priority)

1. **Complete Linux build testing**
   - Verify that Linux builds work correctly
   - Ensure all dependencies are properly specified
   - Test both client and server packages

2. **Test macOS builds**
   - Verify that macOS builds work with the 10.14 target
   - Test both client and server packages on macOS
   - Ensure proper functionality of AVFoundation permission handling

=== Medium Priority

1. **Package optimization**
   - Review and optimize dependency specifications
   - Ensure minimal package size while maintaining functionality
   - Test package installation and runtime behavior

2. **macOS compatibility verification**
   - Test package functionality on various macOS versions (10.14+)
   - Verify microphone permission handling works correctly
   - Document any macOS-specific installation or usage notes

=== Long Term

1. **macOS version policy**
   - Monitor if conda-forge updates its macOS baseline beyond 10.14
   - Track upstream Mumble for any changes to minimum macOS requirements
   - Consider backward compatibility if conda-forge users need older macOS support

2. **Automated testing**
   - Set up CI/CD for Windows and Linux builds
   - Ensure robust testing across supported platforms

== Technical Notes

=== Mumble Version Information

* **Current Target**: v1.5.735
* **Release Date**: Recent (2023-2024)
* **Architecture**: Qt-based C++ application
* **macOS Support**: Native macOS application with potential AVFoundation usage

=== macOS Compatibility Status

* **conda-forge default**: macOS 10.13 (for backward compatibility)
* **Mumble requirement**: macOS 10.14+ (for AVFoundation APIs)
* **Resolution**: Updated build target to macOS 10.14 via `c_stdlib_version: "10.14"`

This approach provides full macOS support while accommodating Mumble's API requirements.

=== Dependencies

Key dependencies that may affect macOS builds:

* Qt framework (UI and system integration)
* AVFoundation (if microphone permissions are implemented)
* Opus codec
* Protocol Buffers
* Boost libraries

== Contact and Resources

* **Maintainer**: @phreed
* **Upstream**: https://github.com/mumble-voip/mumble
* **Build Instructions**: https://github.com/mumble-voip/mumble/blob/master/docs/dev/build-instructions/README.md
* **Issue Tracking**: This roadmap document

---
_Last Updated_: December 2024 +
_Status_: All Platforms Active (macOS 10.14+)
