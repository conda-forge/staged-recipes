= mumble-voip
:version: 1.5.735


// GENERATED CONTENT START

Mumble is a free, open source, low latency, high quality voice chat application.

== Description

Mumble was the first VoIP application to establish true low latency voice communication over a decade ago. But low latency and gaming are not the only use cases it shines in.

== Links

* Homepage: https://www.mumble.info/
* Repository: https://github.com/mumble-voip/mumble
* Documentation: https://www.mumble.info/documentation/

== Package Information

* **License**: BSD-3-Clause
* **Version**: 1.5.735

== Requirements

=== Host Requirements

* xorg-libxi
* libboost-devel
* libgl-devel
* alsa-lib
* libcap
* libogg
* libsndfile
* libopus
* avahi
* libxcb
* zeroconf
* poco

=== Build Requirements

* nushell
* C++ compiler
* C compiler
* qt
* qt-main
* mesalib
* xorg-libxext
* libxext-devel-conda-x86_64
* python
* cmake
* py-build-cmake
* ninja
* pkg-config
* libopenssl-static
* libprotobuf-static
* protobuf

== Installation

This package is built using rattler-build and can be installed using mamba or conda:

[source,bash]
----
pixi global install -c meso-forge mumble-voip
----

== System Library Integration

This package has been modernized to use system-installed libraries from conda-forge instead of bundled third-party dependencies. This approach provides reduced build times, smaller package sizes, automatic security updates, and better ecosystem integration.

=== Libraries Using conda-forge Packages (bundled=OFF)

* **Core Libraries**:
  - nlohmann_json (JSON handling)
  - spdlog (logging)
  - utf8cpp (UTF-8 utilities)
  - ms-gsl (Microsoft Guidelines Support Library)
  - soci (database abstraction, server only)

* **Audio Libraries**:
  - opus (audio codec)
  - ogg (container format)
  - sndfile (audio file I/O)
  - flac (lossless audio codec)
  - vorbis (audio codec)
  - speexdsp (DSP library for echo cancellation and noise reduction)

* **Profiling**:
  - tracy (profiler, optional)

=== Libraries Still Bundled (required for Mumble-specific functionality)

* **Mumble-specific forks** (not available in conda-forge):
  - ReNameNoise (noise suppression)
  - minhook (Windows API hooking)
  - SPSCQueue (single-producer single-consumer queue)
  - mach_override (macOS function overriding)

* **Build utilities**:
  - FindPythonInterpreter (CMake module)
  - cmake-compiler-flags (CMake utilities)
  - flag-icons (UI assets)

=== Configuration Files

The modernization includes:

* `cmake_system_libs.cmake` - Detects and configures system libraries
* `conda_toolchain.cmake` - conda-forge integration toolchain
* Build scripts with `-Dbundled-<lib>=OFF` flags for all system libraries

For upstream mumble CMake options, see:
https://github.com/mumble-voip/mumble/blob/master/docs/dev/build-instructions/cmake_options.md#bundled-gsl


== Maintainers

* phreed

---

_This portion of the README was generated from the recipe.yaml file._

_Last updated: 2025-06-11_

// GENERATED CONTENT END

== Build System Modernization

This recipe represents a comprehensive modernization of the Mumble build system:

1. **Dependency Management**: Replaced 11+ bundled libraries with conda-forge packages
2. **Build Configuration**: Enhanced CMake scripts for better system library detection
3. **conda-forge Integration**: Optimized toolchain configuration for conda environment
4. **Clean Architecture**: Maintains only essential Mumble-specific bundled components

The modernization reduces the package size, improves security through automatic dependency updates, and provides better integration with the conda-forge ecosystem while maintaining all Mumble functionality.

== Related Projects

* https://github.com/bluenviron/mediamtx

== V1 recipe format

https://github.com/prefix-dev/recipe-format


== Inspiration

* https://github.com/conda-forge/fans-feedstock/
* https://github.com/conda-forge/pixi-feedstock/

== Patches

Mumble makes use of a 3rd party `cmake` module.

https://github.com/Krzmbrzl/FindPythonInterpreter


== Testing

=== Option 1: Provide the recipe name

[source,bash]
----
AZURE=True pixi run python build-locally.py linux64 --recipes mumble-voip
----

=== Option 2: Navigate to the target reciple and build from there

[source,bash]
----
cd recipes/mumble-voip
AZURE=True pixi run python ../../build-locally.py linux64
----

=== Option 3: Use rattler-build directly

[source,bash]
----
pixi run rattler-build build --recipe-dir recipes/mumble-voip --target-platform linux-64
----
