{% set name = "GPUtil" %}
{% set version = "1.4.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 099e52c65e512cdfa8c8763fca67f5a5c2afb63469602d5dcb4d296b3661efb9

build:
  noarch: python
  number: 0
  script: "{{ PYTHON }} -m pip install . -vv"

requirements:
  host:
    - python
    - pip
  run:
    - python

test:
  imports:
    - GPUtil

about:
  home: https://github.com/anderskm/gputil
  license: MIT
  license_family: MIT
  # license in feedstock; https://github.com/anderskm/gputil/pull/28
  license_file: LICENSE.txt
  summary: 'A Python module for getting the GPU status from NVIDA GPUs using nvidia-smi programmically in Python'
  description: |
    GPUtil is a Python module for getting the GPU status from NVIDA GPUs
    using nvidia-smi. GPUtil locates all GPUs on the computer, determines
    their availablity and returns a ordered list of available GPUs.
    Availablity is based upon the current memory consumption and load of
    each GPU. The module is written with GPU selection for Deep Learning in
    mind, but it is not task/library specific and it can be applied to any
    task, where it may be useful to identify available GPUs.

extra:
  recipe-maintainers:
    - dougalsutherland

