{% set name = "copernicus-marine-client" %}
{% set version = "0.10.3" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/copernicus_marine_client-{{ version }}.tar.gz
  sha256: 9800109279ee5ab8e53570a6a7c5f6ce47c827ad0cb97409384c4089f0cb3b49

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation
  number: 0
  entry_points:
    - copernicus-marine = copernicus_marine_client.command_line_interface.copernicus_marine:command_line_interface
requirements:
  host:
    - python >=3.9,<3.12
    - poetry-core
    - pip
  run:
    - python >=3.9,<3.12
    - click >=8.0.4,<9.0.0
    - requests >=2.27.1,<3.0.0
    - aiohttp >=3.8.5,<4.0.0
    - setuptools >=68.2.2,<69.0.0
    - motuclient >=1.8.4,<2.0.0
    - cachier >=2.2.1,<3.0.0
    - xarray >=2023.9,<2023.12
    - tqdm >=4.65.0,<5.0.0
    - zarr >=2.13.3,<3.0.0
    - pydap >=3.2.2,<4.0.0
    - dask-core >=2022,<2024
    - netcdf4 >=1.6.3,<2.0.0
    - boto3 >=1.25,<1.34
    - semver >=3.0.2,<4.0.0
    - nest-asyncio >=1.5.8,<2.0.0
    - pystac >=1.8.3,<2.0.0
    - lxml >=4.9.0,<5.0.0

test:
  imports:
    - copernicus_marine_client
  commands:
    - pip check
    - copernicus-marine --help
    - copernicus-marine --version
  requires:
    - pip

about:
  home: https://pypi.org/project/copernicus-marine-client/
  summary: Copernicus Marine Service client (CLI & Python)
  # license: pending
  # license_file: PLEASE_ADD_LICENSE_FILE

extra:
  recipe-maintainers:
    - maresb
