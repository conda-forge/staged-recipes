{% set name = "dsistudio" %}
{% set version = "2021.10" %}

package:
  name: {{ name|lower }}
  version: {{ version }}
source:
  - git_url: http://github.com/frankyeh/DSI-Studio
    folder: src
  - git_url: http://github.com/frankyeh/DSI-Studio-atlas
    folder: atlas
  - git_url: http://github.com/frankyeh/TIPL
    folder: src/tipl
build:
  number: 0

requirements:
  build:
    - {{ compiler('cxx') }}  	     	 # [unix]
    - {{ cdt('libx11-devel') }}          # [linux]
    - {{ cdt('libxext-devel') }}         # [linux]
    - {{ cdt('libxrender-devel') }}      # [linux]
    - {{ cdt('mesa-libgl-devel') }}      # [linux]
    - {{ cdt('mesa-libegl-devel') }}     # [linux]
    - {{ cdt('mesa-dri-drivers') }}      # [linux]
    - {{ cdt('libxau-devel') }}          # [linux]
    - {{ cdt('alsa-lib-devel') }}        # [linux]
    - {{ cdt('gtk2-devel') }}            # [linux]
    - {{ cdt('gtkmm24-devel') }}         # [linux]
    - {{ cdt('libdrm-devel') }}          # [linux]
    - {{ cdt('libxcomposite-devel') }}   # [linux]
    - {{ cdt('libxcursor-devel') }}      # [linux]
    - {{ cdt('libxi-devel') }}           # [linux]
    - {{ cdt('libxrandr-devel') }}       # [linux]
    - {{ cdt('pciutils-devel') }}        # [linux]
    - {{ cdt('libxscrnsaver-devel') }}   # [linux]
    - {{ cdt('libxtst-devel') }}         # [linux]
    - {{ cdt('libselinux-devel') }}      # [linux]
    - {{ cdt('libxdamage') }}            # [linux]
    - {{ cdt('libxfixes') }}             # [linux]
    - {{ cdt('libxxf86vm') }}            # [linux]
    - curl   	                                  # [win]
  host:
    - {{ cdt('mesa-libegl-devel') }}              # [unix]
    - {{ cdt('mesa-libgl-devel') }}               # [unix]
    - boost-cpp
    - qt 5.12.*                                   
    - libglu                                      # [linux]
    - gcc 9.*					  # [linux]
    - gxx 9.*					  # [linux]
  run:
    - qt 5.12.*
    - {{ cdt('xorg-x11-proto') }}   	          # [linux]
    - {{ cdt('mesa-libgl') }}            	  # [linux]
    - {{ cdt('mesa-libegl') }}                    # [linux]
    - {{ cdt('mesa-dri-drivers') }}               # [linux]
    - {{ cdt('libx11-devel') }}            	  # [linux]
    - {{ cdt('libxext-devel') }}         	  # [linux]
    - libglu                                      # [linux]
    - libstdcxx-ng                                # [linux]
    - libgcc-ng                                   # [linux]
    - libxcb  					  # [linux]
    

app:
  entry: ${PREFIX}/dsi_studio.exe                 # [win]
  entry: ${PREFIX}/dsi_studio                     # [linux]
  entry: open ${PREFIX}/dsi_studio.app            # [osx]
  summary: Diffusion MRI Tractography Tool
  type: desk

about:
  home: http://dsi-studio.labsolver.org
  license: GPL3
  license_family: GPL
  summary: "Diffusion MRI Tractography Tool"
  doc_url: https://dsi-studio.labsolver.org/
  dev_url: https://github.com/frankyeh/DSI-Studio

