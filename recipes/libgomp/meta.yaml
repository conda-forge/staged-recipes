{% set version = "4.8.5" %}

package:
  name: libgomp
  version: {{ version }}

build:
  number: 0
  skip: true                    # [win]
  always_include_files:
    - lib/libgomp.dylib         # [osx]
    - lib/libgomp.1.dylib       # [osx]
    - lib/libgomp.so            # [linux]
    - lib/libgomp.so.1          # [linux]
    - lib/libgomp.so.1.0.0      # [linux]

requirements:
  build:
    - gcc {{ version }}
    - cloog 0.18.0 10
  run:
    - libgcc_s {{ version }}    # [osx]

test:
  commands:
    - test -f "${PREFIX}/lib/libgomp.dylib"     # [osx]
    - test -f "${PREFIX}/lib/libgomp.1.dylib"   # [osx]
    - test -f "${PREFIX}/lib/libgomp.so"        # [linux]
    - test -f "${PREFIX}/lib/libgomp.so.1"      # [linux]
    - test -f "${PREFIX}/lib/libgomp.so.1.0.0"  # [linux]

about:
  home: http://gcc.gnu.org/
  summary: Fortran libraries from the GNU Compiler Collection
  license: GPL 3 (with GCC Runtime Library Exception 3.1)

extra:
  recipe-maintainers:
    - jakirkham
