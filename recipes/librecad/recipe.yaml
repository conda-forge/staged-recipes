context:
  name: librecad
  version: "2.2.1.1"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/LibreCAD/LibreCAD/archive/refs/tags/v${{ version }}.tar.gz
  sha256: 29c2f6fca4e0018f1e99fe324a8e9177780c1b01c435c2950a2c52627a47fdbf

build:
  number: 0

requirements:
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - cmake
    - ninja
  host:
    - if: linux
      then:
        - libgl-devel
    - qt6-main
    - libboost-devel
    - freetype

tests:
  # check if librecad was built and installed
  - script:
      python test_application_exist.py
    requirements:
      run:
        - python
    files:
      recipe:
        - test_application_exist.py


about:
  homepage: https://librecad.org/
  summary: 'LibreCAD is a free Open Source CAD application for Windows, Apple and Linux. Support and documentation are free from our large, dedicated community of users, contributors and developers.'
  description: |
    LibreCAD is a 2D CAD drawing tool based on the community 
    edition of QCAD. LibreCAD uses the cross-platform framework 
    Qt, which means it works with most operating systems.
  license: GPL-2.0-or-later
  license_file: LICENSE
  documentation: https://docs.librecad.org/en/latest/
  repository: https://github.com/LibreCAD/LibreCAD

extra:
  recipe-maintainers:
    - looooo
