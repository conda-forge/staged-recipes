context:
  name: librecad
  version: "2.2.1"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/LibreCAD/LibreCAD/archive/a63aeebf83bbe34810326b7d06a0baca779f81de.tar.gz
  sha256: 38b704e1c7b3916c7d50c3e81af28b33777d9eea7e2524a184f528d74f8ae6e1

build:
  number: 0

requirements:
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - cmake
    - ninja
  host:
    - if: linux
      then:
        - libgl-devel
    - qt6-main
    - libboost-devel
    - freetype

tests:
  # check if librecad was built and installed
  - script:
      python test_application_exist.py
    requirements:
      run:
        - python
    files:
      recipe:
        - test_application_exist.py


about:
  homepage: https://librecad.org/
  summary: 'LibreCAD is a free Open Source CAD application for Windows, Apple and Linux. Support and documentation are free from our large, dedicated community of users, contributors and developers.'
  description: |
    LibreCAD is a 2D CAD drawing tool based on the community 
    edition of QCAD. LibreCAD uses the cross-platform framework 
    Qt, which means it works with most operating systems.
  license: GPL-2.0-or-later
  license_file: LICENSE
  documentation: https://docs.librecad.org/en/latest/
  repository: https://github.com/LibreCAD/LibreCAD

extra:
  recipe-maintainers:
    - looooo
